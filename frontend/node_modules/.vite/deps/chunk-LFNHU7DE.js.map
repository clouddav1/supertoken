{
  "version": 3,
  "sources": ["../../supertokens-web-js/lib/build/normalisedURLPath.js", "../../supertokens-website/lib/build/utils/windowHandler/defaultImplementation.js", "../../supertokens-website/lib/build/utils/windowHandler/index.js", "../../supertokens-website/utils/windowHandler/index.js", "../../supertokens-web-js/lib/build/windowHandler/index.js", "../../supertokens-web-js/lib/build/constants.js", "../../supertokens-web-js/lib/build/normalisedURLDomain.js", "../../supertokens-website/lib/build/normalisedURLDomain.js", "../../supertokens-website/lib/build/normalisedURLPath.js", "../../supertokens-website/lib/build/version.js", "../../supertokens-website/lib/build/logger.js", "../../supertokens-website/lib/build/utils/index.js", "../../supertokens-website/lib/build/processState.js", "../../supertokens-website/lib/build/utils/cookieHandler/defaultImplementation.js", "../../supertokens-website/lib/build/utils/cookieHandler/index.js", "../../browser-tabs-lock/processLock.js", "../../browser-tabs-lock/index.js", "../../supertokens-website/lib/build/utils/lockFactory/index.js", "../../supertokens-website/lib/build/fetch.js", "../../supertokens-website/lib/build/utils/sessionClaimValidatorStore.js", "../../supertokens-website/lib/build/utils/globalClaimValidators.js", "../../supertokens-website/utils/globalClaimValidators/index.js", "../../supertokens-web-js/lib/build/utils.js", "../../supertokens-website/utils/cookieHandler/index.js", "../../supertokens-web-js/lib/build/cookieHandler/index.js", "../../supertokens-web-js/lib/build/postSuperTokensInitCallbacks.js", "../../supertokens-web-js/lib/build/recipe/recipeModule/utils.js", "../../supertokens-web-js/lib/build/recipe/authRecipe/utils.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/utils.js", "../../supertokens-js-override/lib/build/getProxyObject.js", "../../supertokens-js-override/lib/build/index.js", "../../supertokens-web-js/lib/build/version.js", "../../supertokens-website/lib/build/error.js", "../../supertokens-website/utils/error/index.js", "../../supertokens-web-js/lib/build/error.js", "../../supertokens-web-js/lib/build/querier.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/recipeImplementation.js", "../../supertokens-web-js/lib/build/recipe/recipeModule/index.js", "../../supertokens-website/lib/build/axiosError.js", "../../supertokens-website/lib/build/axios.js", "../../supertokens-website/lib/build/xmlhttprequest.js", "../../supertokens-website/lib/build/recipeImplementation.js", "../../supertokens-website/lib/build/claims/primitiveClaim.js", "../../supertokens-website/lib/build/claims/primitiveArrayClaim.js", "../../supertokens-website/lib/build/claims/booleanClaim.js", "../../supertokens-website/lib/build/index.js", "../../supertokens-website/index.js", "../../supertokens-web-js/lib/build/recipe/session/recipe.js", "../../supertokens-web-js/lib/build/recipe/authRecipe/index.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/recipe.js", "../../supertokens-web-js/lib/build/supertokens.js", "../../supertokens-web-js/lib/build/index.js", "../../supertokens-web-js/index.js", "../../supertokens-web-js/utils/cookieHandler/index.js", "../../supertokens-web-js/utils/postSuperTokensInitCallbacks.js", "../../supertokens-web-js/utils/windowHandler/index.js", "../../supertokens-web-js/lib/build/recipe/session/index.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/allowedDomainsClaim.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/index.js", "../../supertokens-web-js/recipe/multitenancy/index.js", "../../supertokens-web-js/utils/index.js", "../../supertokens-web-js/utils/normalisedURLDomain.js", "../../supertokens-web-js/utils/normalisedURLPath.js", "../../react/cjs/react-jsx-runtime.development.js", "../../react/jsx-runtime.js", "../../supertokens-auth-react/lib/build/genericComponentOverrideContext.js", "../../supertokens-auth-react/lib/build/translationContext.js", "../../supertokens-web-js/recipe/session/index.js", "../../supertokens-auth-react/lib/build/recipeModule-shared.js", "../../supertokens-auth-react/lib/build/session-shared2.js"],
  "sourcesContent": ["\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLPath = /** @class */ (function () {\n    function NormalisedURLPath(url) {\n        var _this = this;\n        this.startsWith = function (other) {\n            return _this.value.startsWith(other.value);\n        };\n        this.appendPath = function (other) {\n            return new NormalisedURLPath(_this.value + other.value);\n        };\n        this.getAsStringDangerous = function () {\n            // Otherwise, return value.\n            return _this.value;\n        };\n        this.value = normaliseURLPathOrThrowError(url);\n    }\n    return NormalisedURLPath;\n})();\nexports.default = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        input = urlObj.pathname;\n        if (input.charAt(input.length - 1) === \"/\") {\n            return input.substr(0, input.length - 1);\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    // not a valid URL\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name + path\n    if (\n        (domainGiven(input) || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"http://\" + input;\n        return normaliseURLPathOrThrowError(input);\n    }\n    if (input.charAt(0) !== \"/\") {\n        input = \"/\" + input;\n    }\n    // at this point, we should be able to convert it into a fake URL and recursively call this function.\n    try {\n        // test that we can convert this to prevent an infinite loop\n        new URL(\"http://example.com\" + input);\n        return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n    } catch (err) {\n        throw new Error(\"Please provide a valid URL path\");\n    }\n}\nfunction domainGiven(input) {\n    // If no dot, return false.\n    if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n        return false;\n    }\n    try {\n        var url = new URL(input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    try {\n        var url = new URL(\"http://\" + input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    return false;\n}\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultWindowHandlerImplementation = void 0;\nfunction getWindowOrThrow() {\n    if (typeof window === \"undefined\") {\n        throw Error(\n            \"If you are using this package with server-side rendering, please make sure that you are checking if the window object is defined.\"\n        );\n    }\n    return window;\n}\nvar defaultLocalStorageHandler = {\n    key: function (index) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.key(index)];\n            });\n        });\n    },\n    clear: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.clear()];\n            });\n        });\n    },\n    getItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.getItem(key)];\n            });\n        });\n    },\n    removeItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.removeItem(key)];\n            });\n        });\n    },\n    setItem: function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.setItem(key, value)];\n            });\n        });\n    },\n    keySync: function (index) {\n        return getWindowOrThrow().localStorage.key(index);\n    },\n    clearSync: function () {\n        return getWindowOrThrow().localStorage.clear();\n    },\n    getItemSync: function (key) {\n        return getWindowOrThrow().localStorage.getItem(key);\n    },\n    removeItemSync: function (key) {\n        return getWindowOrThrow().localStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return getWindowOrThrow().localStorage.setItem(key, value);\n    }\n};\nvar defaultSessionStorageHandler = {\n    key: function (index) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.key(index)];\n            });\n        });\n    },\n    clear: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.clear()];\n            });\n        });\n    },\n    getItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.getItem(key)];\n            });\n        });\n    },\n    removeItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.removeItem(key)];\n            });\n        });\n    },\n    setItem: function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.setItem(key, value)];\n            });\n        });\n    },\n    keySync: function (index) {\n        return getWindowOrThrow().sessionStorage.key(index);\n    },\n    clearSync: function () {\n        return getWindowOrThrow().sessionStorage.clear();\n    },\n    getItemSync: function (key) {\n        return getWindowOrThrow().sessionStorage.getItem(key);\n    },\n    removeItemSync: function (key) {\n        return getWindowOrThrow().sessionStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return getWindowOrThrow().sessionStorage.setItem(key, value);\n    }\n};\nexports.defaultWindowHandlerImplementation = {\n    history: {\n        replaceState: function (data, unused, url) {\n            return getWindowOrThrow().history.replaceState(data, unused, url);\n        },\n        getState: function () {\n            return getWindowOrThrow().history.state;\n        }\n    },\n    location: {\n        getHref: function () {\n            return getWindowOrThrow().location.href;\n        },\n        setHref: function (href) {\n            getWindowOrThrow().location.href = href;\n        },\n        getSearch: function () {\n            return getWindowOrThrow().location.search;\n        },\n        getHash: function () {\n            return getWindowOrThrow().location.hash;\n        },\n        getPathName: function () {\n            return getWindowOrThrow().location.pathname;\n        },\n        assign: function (url) {\n            /**\n             * The type for assign accepts URL | string but when building\n             * it complains about only accepting a string. To prevent this\n             * we use any\n             */\n            getWindowOrThrow().location.assign(url);\n        },\n        getHostName: function () {\n            return getWindowOrThrow().location.hostname;\n        },\n        getHost: function () {\n            return getWindowOrThrow().location.host;\n        },\n        getOrigin: function () {\n            return getWindowOrThrow().location.origin;\n        }\n    },\n    getDocument: function () {\n        return getWindowOrThrow().document;\n    },\n    getWindowUnsafe: function () {\n        return getWindowOrThrow().window;\n    },\n    localStorage: defaultLocalStorageHandler,\n    sessionStorage: defaultSessionStorageHandler\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WindowHandlerReference = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar defaultImplementation_1 = require(\"./defaultImplementation\");\nvar WindowHandlerReference = /** @class */ (function () {\n    function WindowHandlerReference(windowHandlerInput) {\n        var windowHandlerFunc = function (original) {\n            return original;\n        };\n        if (windowHandlerInput !== undefined) {\n            windowHandlerFunc = windowHandlerInput;\n        }\n        this.windowHandler = windowHandlerFunc(defaultImplementation_1.defaultWindowHandlerImplementation);\n    }\n    WindowHandlerReference.init = function (windowHandlerInput) {\n        if (WindowHandlerReference.instance !== undefined) {\n            return;\n        }\n        WindowHandlerReference.instance = new WindowHandlerReference(windowHandlerInput);\n    };\n    WindowHandlerReference.getReferenceOrThrow = function () {\n        if (WindowHandlerReference.instance === undefined) {\n            throw new Error(\"SuperTokensWindowHandler must be initialized before calling this method.\");\n        }\n        return WindowHandlerReference.instance;\n    };\n    return WindowHandlerReference;\n})();\nexports.WindowHandlerReference = WindowHandlerReference;\nexports.default = WindowHandlerReference;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/utils/windowHandler\"));\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WindowHandlerReference = void 0;\nvar windowHandler_1 = require(\"supertokens-website/utils/windowHandler\");\nObject.defineProperty(exports, \"WindowHandlerReference\", {\n    enumerable: true,\n    get: function () {\n        return windowHandler_1.WindowHandlerReference;\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SSR_ERROR = exports.DEFAULT_API_BASE_PATH = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.DEFAULT_API_BASE_PATH = \"/auth\";\nexports.SSR_ERROR =\n    \"\\nIf you are trying to use this method doing server-side-rendering, please make sure you move this method inside a componentDidMount method or useEffect hook.\";\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLDomain = /** @class */ (function () {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    function isAnIpAddress(ipaddress) {\n        return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n            ipaddress\n        );\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n", "\"use strict\";\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAnIpAddress = void 0;\nfunction isAnIpAddress(ipaddress) {\n    return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n        ipaddress\n    );\n}\nexports.isAnIpAddress = isAnIpAddress;\nvar NormalisedURLDomain = /** @class */ (function () {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n", "\"use strict\";\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLPath = /** @class */ (function () {\n    function NormalisedURLPath(url) {\n        var _this = this;\n        this.startsWith = function (other) {\n            return _this.value.startsWith(other.value);\n        };\n        this.appendPath = function (other) {\n            return new NormalisedURLPath(_this.value + other.value);\n        };\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLPathOrThrowError(url);\n    }\n    return NormalisedURLPath;\n})();\nexports.default = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        input = urlObj.pathname;\n        if (input.charAt(input.length - 1) === \"/\") {\n            return input.substr(0, input.length - 1);\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    // not a valid URL\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name + path\n    if (\n        (domainGiven(input) || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"http://\" + input;\n        return normaliseURLPathOrThrowError(input);\n    }\n    if (input.charAt(0) !== \"/\") {\n        input = \"/\" + input;\n    }\n    // at this point, we should be able to convert it into a fake URL and recursively call this function.\n    try {\n        // test that we can convert this to prevent an infinite loop\n        new URL(\"http://example.com\" + input);\n        return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n    } catch (err) {\n        throw new Error(\"Please provide a valid URL path\");\n    }\n}\nfunction domainGiven(input) {\n    // If no dot, return false.\n    if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n        return false;\n    }\n    try {\n        var url = new URL(input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    try {\n        var url = new URL(\"http://\" + input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    return false;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supported_fdi = exports.package_version = void 0;\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.package_version = \"17.0.2\";\nexports.supported_fdi = [\"1.16\", \"1.17\"];\n", "\"use strict\";\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logDebugMessage = exports.disableLogging = exports.enableLogging = void 0;\nvar version_1 = require(\"./version\");\nvar SUPERTOKENS_DEBUG_NAMESPACE = \"com.supertokens\";\nvar __supertokensWebsiteLogging = false;\nfunction enableLogging() {\n    __supertokensWebsiteLogging = true;\n}\nexports.enableLogging = enableLogging;\nfunction disableLogging() {\n    __supertokensWebsiteLogging = false;\n}\nexports.disableLogging = disableLogging;\nfunction logDebugMessage(message) {\n    if (__supertokensWebsiteLogging) {\n        console.log(\n            \"\"\n                .concat(SUPERTOKENS_DEBUG_NAMESPACE, ' {t: \"')\n                .concat(new Date().toISOString(), '\", message: \"')\n                .concat(message, '\", supertokens-website-ver: \"')\n                .concat(version_1.package_version, '\"}')\n        );\n    }\n}\nexports.logDebugMessage = logDebugMessage;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getNormalisedUserContext =\n    exports.validateAndNormaliseInputOrThrowError =\n    exports.normaliseSessionScopeOrThrowError =\n    exports.normaliseURLPathOrThrowError =\n    exports.normaliseURLDomainOrThrowError =\n        void 0;\nvar normalisedURLDomain_1 = require(\"../normalisedURLDomain\");\nvar normalisedURLPath_1 = require(\"../normalisedURLPath\");\nvar windowHandler_1 = require(\"../utils/windowHandler\");\nvar logger_1 = require(\"../logger\");\nfunction normaliseURLDomainOrThrowError(input) {\n    var str = new normalisedURLDomain_1.default(input).getAsStringDangerous();\n    return str;\n}\nexports.normaliseURLDomainOrThrowError = normaliseURLDomainOrThrowError;\nfunction normaliseURLPathOrThrowError(input) {\n    return new normalisedURLPath_1.default(input).getAsStringDangerous();\n}\nexports.normaliseURLPathOrThrowError = normaliseURLPathOrThrowError;\nfunction normaliseSessionScopeOrThrowError(sessionTokenFrontendDomain) {\n    function helper(sessionTokenFrontendDomain) {\n        sessionTokenFrontendDomain = sessionTokenFrontendDomain.trim().toLowerCase();\n        // first we convert it to a URL so that we can use the URL class\n        if (sessionTokenFrontendDomain.startsWith(\".\")) {\n            sessionTokenFrontendDomain = sessionTokenFrontendDomain.substr(1);\n        }\n        if (!sessionTokenFrontendDomain.startsWith(\"http://\") && !sessionTokenFrontendDomain.startsWith(\"https://\")) {\n            sessionTokenFrontendDomain = \"http://\" + sessionTokenFrontendDomain;\n        }\n        try {\n            var urlObj = new URL(sessionTokenFrontendDomain);\n            sessionTokenFrontendDomain = urlObj.hostname;\n            // remove leading dot\n            if (sessionTokenFrontendDomain.startsWith(\".\")) {\n                sessionTokenFrontendDomain = sessionTokenFrontendDomain.substr(1);\n            }\n            return sessionTokenFrontendDomain;\n        } catch (err) {\n            throw new Error(\"Please provide a valid sessionTokenFrontendDomain\");\n        }\n    }\n    var noDotNormalised = helper(sessionTokenFrontendDomain);\n    if (noDotNormalised === \"localhost\" || (0, normalisedURLDomain_1.isAnIpAddress)(noDotNormalised)) {\n        return noDotNormalised;\n    }\n    if (sessionTokenFrontendDomain.startsWith(\".\")) {\n        return \".\" + noDotNormalised;\n    }\n    return noDotNormalised;\n}\nexports.normaliseSessionScopeOrThrowError = normaliseSessionScopeOrThrowError;\nfunction validateAndNormaliseInputOrThrowError(options) {\n    var _this = this;\n    var apiDomain = normaliseURLDomainOrThrowError(options.apiDomain);\n    var apiBasePath = normaliseURLPathOrThrowError(\"/auth\");\n    if (options.apiBasePath !== undefined) {\n        apiBasePath = normaliseURLPathOrThrowError(options.apiBasePath);\n    }\n    var defaultSessionScope = windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getHostName();\n    // See https://github.com/supertokens/supertokens-website/issues/98\n    var sessionTokenFrontendDomain = normaliseSessionScopeOrThrowError(\n        options !== undefined && options.sessionTokenFrontendDomain !== undefined\n            ? options.sessionTokenFrontendDomain\n            : defaultSessionScope\n    );\n    var sessionExpiredStatusCode = 401;\n    if (options.sessionExpiredStatusCode !== undefined) {\n        sessionExpiredStatusCode = options.sessionExpiredStatusCode;\n    }\n    var invalidClaimStatusCode = 403;\n    if (options.invalidClaimStatusCode !== undefined) {\n        invalidClaimStatusCode = options.invalidClaimStatusCode;\n    }\n    if (sessionExpiredStatusCode === invalidClaimStatusCode) {\n        throw new Error(\"sessionExpiredStatusCode and invalidClaimStatusCode cannot be the same.\");\n    }\n    var autoAddCredentials = true;\n    if (options.autoAddCredentials !== undefined) {\n        autoAddCredentials = options.autoAddCredentials;\n    }\n    var isInIframe = false;\n    if (options.isInIframe !== undefined) {\n        isInIframe = options.isInIframe;\n    }\n    var sessionTokenBackendDomain = undefined;\n    if (options.sessionTokenBackendDomain !== undefined) {\n        sessionTokenBackendDomain = normaliseSessionScopeOrThrowError(options.sessionTokenBackendDomain);\n    }\n    var preAPIHook = function (context) {\n        return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, { url: context.url, requestInit: context.requestInit }];\n            });\n        });\n    };\n    if (options.preAPIHook !== undefined) {\n        preAPIHook = options.preAPIHook;\n    }\n    var postAPIHook = function () {\n        return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    if (options.postAPIHook !== undefined) {\n        postAPIHook = options.postAPIHook;\n    }\n    var onHandleEvent = function () {};\n    if (options.onHandleEvent !== undefined) {\n        onHandleEvent = options.onHandleEvent;\n    }\n    var override = __assign(\n        {\n            functions: function (oI) {\n                return oI;\n            }\n        },\n        options.override\n    );\n    if (options.enableDebugLogs !== undefined && options.enableDebugLogs) {\n        (0, logger_1.enableLogging)();\n    }\n    return {\n        apiDomain: apiDomain,\n        apiBasePath: apiBasePath,\n        sessionTokenFrontendDomain: sessionTokenFrontendDomain,\n        sessionExpiredStatusCode: sessionExpiredStatusCode,\n        invalidClaimStatusCode: invalidClaimStatusCode,\n        autoAddCredentials: autoAddCredentials,\n        isInIframe: isInIframe,\n        tokenTransferMethod: options.tokenTransferMethod !== undefined ? options.tokenTransferMethod : \"cookie\",\n        sessionTokenBackendDomain: sessionTokenBackendDomain,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n        onHandleEvent: onHandleEvent,\n        override: override\n    };\n}\nexports.validateAndNormaliseInputOrThrowError = validateAndNormaliseInputOrThrowError;\nfunction getNormalisedUserContext(userContext) {\n    if (userContext === undefined) {\n        return {};\n    }\n    return userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProcessState = exports.PROCESS_STATE = void 0;\nvar PROCESS_STATE;\n(function (PROCESS_STATE) {\n    //CALLING_INTERCEPTION_REQUEST : Process state for the request interceptor.\n    //CALLING_INTERCEPTION_RESOPONSE : Process state for the response interceptor.\n    PROCESS_STATE[(PROCESS_STATE[\"CALLING_INTERCEPTION_REQUEST\"] = 0)] = \"CALLING_INTERCEPTION_REQUEST\";\n    PROCESS_STATE[(PROCESS_STATE[\"CALLING_INTERCEPTION_RESPONSE\"] = 1)] = \"CALLING_INTERCEPTION_RESPONSE\";\n})((PROCESS_STATE = exports.PROCESS_STATE || (exports.PROCESS_STATE = {})));\nvar ProcessState = /** @class */ (function () {\n    function ProcessState() {\n        var _this = this;\n        this.history = [];\n        this.addState = function (state) {\n            try {\n                if (process !== undefined && process.env !== undefined && process.env.TEST_MODE === \"testing\") {\n                    _this.history.push(state);\n                }\n            } catch (ignored) {}\n        };\n        this.getEventByLastEventByName = function (state) {\n            for (var i = _this.history.length - 1; i >= 0; i--) {\n                if (_this.history[i] == state) {\n                    return _this.history[i];\n                }\n            }\n            return undefined;\n        };\n        this.reset = function () {\n            _this.history = [];\n        };\n        this.waitForEvent = function (state, timeInMS) {\n            if (timeInMS === void 0) {\n                timeInMS = 7000;\n            }\n            return __awaiter(_this, void 0, void 0, function () {\n                var startTime;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    startTime = Date.now();\n                    return [\n                        2 /*return*/,\n                        new Promise(function (resolve) {\n                            var actualThis = _this;\n                            function tryAndGet() {\n                                var result = actualThis.getEventByLastEventByName(state);\n                                if (result === undefined) {\n                                    if (Date.now() - startTime > timeInMS) {\n                                        resolve(undefined);\n                                    } else {\n                                        setTimeout(tryAndGet, 1000);\n                                    }\n                                } else {\n                                    resolve(result);\n                                }\n                            }\n                            tryAndGet();\n                        })\n                    ];\n                });\n            });\n        };\n    }\n    ProcessState.getInstance = function () {\n        if (ProcessState.instance == undefined) {\n            ProcessState.instance = new ProcessState();\n        }\n        return ProcessState.instance;\n    };\n    return ProcessState;\n})();\nexports.ProcessState = ProcessState;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultCookieHandlerImplementation = void 0;\nvar windowHandler_1 = require(\"../windowHandler\");\nexports.defaultCookieHandlerImplementation = {\n    getCookie: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe().document.cookie\n                ];\n            });\n        });\n    },\n    setCookie: function (cookieString) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe().document.cookie =\n                    cookieString;\n                return [2 /*return*/];\n            });\n        });\n    }\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CookieHandlerReference = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar defaultImplementation_1 = require(\"./defaultImplementation\");\nvar CookieHandlerReference = /** @class */ (function () {\n    function CookieHandlerReference(cookieHandlerInput) {\n        var cookieHandlerFunc = function (original) {\n            return original;\n        };\n        if (cookieHandlerInput !== undefined) {\n            cookieHandlerFunc = cookieHandlerInput;\n        }\n        this.cookieHandler = cookieHandlerFunc(defaultImplementation_1.defaultCookieHandlerImplementation);\n    }\n    CookieHandlerReference.init = function (cookieHandlerInput) {\n        if (CookieHandlerReference.instance !== undefined) {\n            return;\n        }\n        CookieHandlerReference.instance = new CookieHandlerReference(cookieHandlerInput);\n    };\n    CookieHandlerReference.getReferenceOrThrow = function () {\n        if (CookieHandlerReference.instance === undefined) {\n            throw new Error(\"SuperTokensCookieHandler must be initialized before calling this method.\");\n        }\n        return CookieHandlerReference.instance;\n    };\n    return CookieHandlerReference;\n})();\nexports.CookieHandlerReference = CookieHandlerReference;\nexports.default = CookieHandlerReference;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProcessLocking = /** @class */ (function () {\n    function ProcessLocking() {\n        var _this = this;\n        this.locked = new Map();\n        this.addToLocked = function (key, toAdd) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined) {\n                if (toAdd === undefined) {\n                    _this.locked.set(key, []);\n                }\n                else {\n                    _this.locked.set(key, [toAdd]);\n                }\n            }\n            else {\n                if (toAdd !== undefined) {\n                    callbacks.unshift(toAdd);\n                    _this.locked.set(key, callbacks);\n                }\n            }\n        };\n        this.isLocked = function (key) {\n            return _this.locked.has(key);\n        };\n        this.lock = function (key) {\n            return new Promise(function (resolve, reject) {\n                if (_this.isLocked(key)) {\n                    _this.addToLocked(key, resolve);\n                }\n                else {\n                    _this.addToLocked(key);\n                    resolve();\n                }\n            });\n        };\n        this.unlock = function (key) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined || callbacks.length === 0) {\n                _this.locked.delete(key);\n                return;\n            }\n            var toCall = callbacks.pop();\n            _this.locked.set(key, callbacks);\n            if (toCall !== undefined) {\n                setTimeout(toCall, 0);\n            }\n        };\n    }\n    ProcessLocking.getInstance = function () {\n        if (ProcessLocking.instance === undefined) {\n            ProcessLocking.instance = new ProcessLocking();\n        }\n        return ProcessLocking.instance;\n    };\n    return ProcessLocking;\n}());\nfunction getLock() {\n    return ProcessLocking.getInstance();\n}\nexports.default = getLock;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar processLock_1 = require(\"./processLock\");\n/**\n * @author: SuperTokens (https://github.com/supertokens)\n * This library was created as a part of a larger project, SuperTokens(https://supertokens.io) - the best session management solution.\n * You can also check out our other projects on https://github.com/supertokens\n *\n * To contribute to this package visit https://github.com/supertokens/browser-tabs-lock\n * If you face any problems you can file an issue on https://github.com/supertokens/browser-tabs-lock/issues\n *\n * If you have any questions or if you just want to say hi visit https://supertokens.io/discord\n */\n/**\n * @constant\n * @type {string}\n * @default\n * @description All the locks taken by this package will have this as prefix\n*/\nvar LOCK_STORAGE_KEY = 'browser-tabs-lock-key';\nvar DEFAULT_STORAGE_HANDLER = {\n    key: function (index) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    getItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    clear: function () { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, window.localStorage.clear()];\n        });\n    }); },\n    removeItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    setItem: function (key, value) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    keySync: function (index) {\n        return window.localStorage.key(index);\n    },\n    getItemSync: function (key) {\n        return window.localStorage.getItem(key);\n    },\n    clearSync: function () {\n        return window.localStorage.clear();\n    },\n    removeItemSync: function (key) {\n        return window.localStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return window.localStorage.setItem(key, value);\n    },\n};\n/**\n * @function delay\n * @param {number} milliseconds - How long the delay should be in terms of milliseconds\n * @returns {Promise<void>}\n */\nfunction delay(milliseconds) {\n    return new Promise(function (resolve) { return setTimeout(resolve, milliseconds); });\n}\n/**\n * @function generateRandomString\n * @params {number} length - How long the random string should be\n * @returns {string}\n * @description returns random string whose length is equal to the length passed as parameter\n */\nfunction generateRandomString(length) {\n    var CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n    var randomstring = '';\n    for (var i = 0; i < length; i++) {\n        var INDEX = Math.floor(Math.random() * CHARS.length);\n        randomstring += CHARS[INDEX];\n    }\n    return randomstring;\n}\n/**\n * @function getLockId\n * @returns {string}\n * @description Generates an id which will be unique for the browser tab\n */\nfunction getLockId() {\n    return Date.now().toString() + generateRandomString(15);\n}\nvar SuperTokensLock = /** @class */ (function () {\n    function SuperTokensLock(storageHandler) {\n        this.acquiredIatSet = new Set();\n        this.storageHandler = undefined;\n        this.id = getLockId();\n        this.acquireLock = this.acquireLock.bind(this);\n        this.releaseLock = this.releaseLock.bind(this);\n        this.releaseLock__private__ = this.releaseLock__private__.bind(this);\n        this.waitForSomethingToChange = this.waitForSomethingToChange.bind(this);\n        this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(this);\n        this.storageHandler = storageHandler;\n        if (SuperTokensLock.waiters === undefined) {\n            SuperTokensLock.waiters = [];\n        }\n    }\n    /**\n     * @async\n     * @memberOf Lock\n     * @function acquireLock\n     * @param {string} lockKey - Key for which the lock is being acquired\n     * @param {number} [timeout=5000] - Maximum time for which the function will wait to acquire the lock\n     * @returns {Promise<boolean>}\n     * @description Will return true if lock is being acquired, else false.\n     *              Also the lock can be acquired for maximum 10 secs\n     */\n    SuperTokensLock.prototype.acquireLock = function (lockKey, timeout) {\n        if (timeout === void 0) { timeout = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var iat, MAX_TIME, STORAGE_KEY, STORAGE, lockObj, TIMEOUT_KEY, lockObjPostDelay, parsedLockObjPostDelay;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        iat = Date.now() + generateRandomString(4);\n                        MAX_TIME = Date.now() + timeout;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        _a.label = 1;\n                    case 1:\n                        if (!(Date.now() < MAX_TIME)) return [3 /*break*/, 8];\n                        return [4 /*yield*/, delay(30)];\n                    case 2:\n                        _a.sent();\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (!(lockObj === null)) return [3 /*break*/, 5];\n                        TIMEOUT_KEY = this.id + \"-\" + lockKey + \"-\" + iat;\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        return [4 /*yield*/, delay(Math.floor(Math.random() * 25))];\n                    case 3:\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        _a.sent();\n                        STORAGE.setItemSync(STORAGE_KEY, JSON.stringify({\n                            id: this.id,\n                            iat: iat,\n                            timeoutKey: TIMEOUT_KEY,\n                            timeAcquired: Date.now(),\n                            timeRefreshed: Date.now()\n                        }));\n                        return [4 /*yield*/, delay(30)];\n                    case 4:\n                        _a.sent(); // this is to prevent race conditions. This time must be more than the time it takes for storage.setItem\n                        lockObjPostDelay = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObjPostDelay !== null) {\n                            parsedLockObjPostDelay = JSON.parse(lockObjPostDelay);\n                            if (parsedLockObjPostDelay.id === this.id && parsedLockObjPostDelay.iat === iat) {\n                                this.acquiredIatSet.add(iat);\n                                this.refreshLockWhileAcquired(STORAGE_KEY, iat);\n                                return [2 /*return*/, true];\n                            }\n                        }\n                        return [3 /*break*/, 7];\n                    case 5:\n                        SuperTokensLock.lockCorrector(this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler);\n                        return [4 /*yield*/, this.waitForSomethingToChange(MAX_TIME)];\n                    case 6:\n                        _a.sent();\n                        _a.label = 7;\n                    case 7:\n                        iat = Date.now() + generateRandomString(4);\n                        return [3 /*break*/, 1];\n                    case 8: return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    SuperTokensLock.prototype.refreshLockWhileAcquired = function (storageKey, iat) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                    var STORAGE, lockObj, parsedLockObj;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, processLock_1.default().lock(iat)];\n                            case 1:\n                                _a.sent();\n                                if (!this.acquiredIatSet.has(iat)) {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                                lockObj = STORAGE.getItemSync(storageKey);\n                                if (lockObj !== null) {\n                                    parsedLockObj = JSON.parse(lockObj);\n                                    parsedLockObj.timeRefreshed = Date.now();\n                                    STORAGE.setItemSync(storageKey, JSON.stringify(parsedLockObj));\n                                    processLock_1.default().unlock(iat);\n                                }\n                                else {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                this.refreshLockWhileAcquired(storageKey, iat);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); }, 1000);\n                return [2 /*return*/];\n            });\n        });\n    };\n    SuperTokensLock.prototype.waitForSomethingToChange = function (MAX_TIME) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, new Promise(function (resolve) {\n                            var resolvedCalled = false;\n                            var startedAt = Date.now();\n                            var MIN_TIME_TO_WAIT = 50; // ms\n                            var removedListeners = false;\n                            function stopWaiting() {\n                                if (!removedListeners) {\n                                    window.removeEventListener('storage', stopWaiting);\n                                    SuperTokensLock.removeFromWaiting(stopWaiting);\n                                    clearTimeout(timeOutId);\n                                    removedListeners = true;\n                                }\n                                if (!resolvedCalled) {\n                                    resolvedCalled = true;\n                                    var timeToWait = MIN_TIME_TO_WAIT - (Date.now() - startedAt);\n                                    if (timeToWait > 0) {\n                                        setTimeout(resolve, timeToWait);\n                                    }\n                                    else {\n                                        resolve(null);\n                                    }\n                                }\n                            }\n                            window.addEventListener('storage', stopWaiting);\n                            SuperTokensLock.addToWaiting(stopWaiting);\n                            var timeOutId = setTimeout(stopWaiting, Math.max(0, MAX_TIME - Date.now()));\n                        })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SuperTokensLock.addToWaiting = function (func) {\n        this.removeFromWaiting(func);\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters.push(func);\n    };\n    SuperTokensLock.removeFromWaiting = function (func) {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters = SuperTokensLock.waiters.filter(function (i) { return i !== func; });\n    };\n    SuperTokensLock.notifyWaiters = function () {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        var waiters = SuperTokensLock.waiters.slice(); // so that if Lock.waiters is changed it's ok.\n        waiters.forEach(function (i) { return i(); });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.releaseLock__private__(lockKey)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock__private__ = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var STORAGE, STORAGE_KEY, lockObj, parsedlockObj;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObj === null) {\n                            return [2 /*return*/];\n                        }\n                        parsedlockObj = JSON.parse(lockObj);\n                        if (!(parsedlockObj.id === this.id)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, processLock_1.default().lock(parsedlockObj.iat)];\n                    case 1:\n                        _a.sent();\n                        this.acquiredIatSet.delete(parsedlockObj.iat);\n                        STORAGE.removeItemSync(STORAGE_KEY);\n                        processLock_1.default().unlock(parsedlockObj.iat);\n                        SuperTokensLock.notifyWaiters();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * @function lockCorrector\n     * @returns {void}\n     * @description If a lock is acquired by a tab and the tab is closed before the lock is\n     *              released, this function will release those locks\n     */\n    SuperTokensLock.lockCorrector = function (storageHandler) {\n        var MIN_ALLOWED_TIME = Date.now() - 5000;\n        var STORAGE = storageHandler;\n        var KEYS = [];\n        var currIndex = 0;\n        while (true) {\n            var key = STORAGE.keySync(currIndex);\n            if (key === null) {\n                break;\n            }\n            KEYS.push(key);\n            currIndex++;\n        }\n        var notifyWaiters = false;\n        for (var i = 0; i < KEYS.length; i++) {\n            var LOCK_KEY = KEYS[i];\n            if (LOCK_KEY.includes(LOCK_STORAGE_KEY)) {\n                var lockObj = STORAGE.getItemSync(LOCK_KEY);\n                if (lockObj !== null) {\n                    var parsedlockObj = JSON.parse(lockObj);\n                    if ((parsedlockObj.timeRefreshed === undefined && parsedlockObj.timeAcquired < MIN_ALLOWED_TIME) ||\n                        (parsedlockObj.timeRefreshed !== undefined && parsedlockObj.timeRefreshed < MIN_ALLOWED_TIME)) {\n                        STORAGE.removeItemSync(LOCK_KEY);\n                        notifyWaiters = true;\n                    }\n                }\n            }\n        }\n        if (notifyWaiters) {\n            SuperTokensLock.notifyWaiters();\n        }\n    };\n    SuperTokensLock.waiters = undefined;\n    return SuperTokensLock;\n}());\nexports.default = SuperTokensLock;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LockFactoryReference = void 0;\nvar browser_tabs_lock_1 = require(\"browser-tabs-lock\");\nvar defaultFactory = function (storageHandler) {\n    return function () {\n        return Promise.resolve(new browser_tabs_lock_1.default(storageHandler));\n    };\n};\nvar LockFactoryReference = /** @class */ (function () {\n    function LockFactoryReference(lockFactory) {\n        this.lockFactory = lockFactory;\n    }\n    LockFactoryReference.init = function (lockFactory, storageHandler) {\n        // This is copied from the other XXXReference clasess\n        if (this.instance !== undefined) {\n            return;\n        }\n        this.instance = new LockFactoryReference(\n            lockFactory !== null && lockFactory !== void 0 ? lockFactory : defaultFactory(storageHandler)\n        );\n    };\n    LockFactoryReference.getReferenceOrThrow = function () {\n        if (LockFactoryReference.instance === undefined) {\n            throw new Error(\"SuperTokensLockReference must be initialized before calling this method.\");\n        }\n        return LockFactoryReference.instance;\n    };\n    return LockFactoryReference;\n})();\nexports.LockFactoryReference = LockFactoryReference;\nexports.default = LockFactoryReference;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fireSessionUpdateEventsIfNecessary =\n    exports.setFrontToken =\n    exports.getFrontToken =\n    exports.setAntiCSRF =\n    exports.saveLastAccessTokenUpdate =\n    exports.getTokenForHeaderAuth =\n    exports.setToken =\n    exports.getStorageNameForToken =\n    exports.getLocalSessionState =\n    exports.onInvalidClaimResponse =\n    exports.onTokenUpdate =\n    exports.onUnauthorisedResponse =\n    exports.FrontToken =\n    exports.AntiCsrfToken =\n        void 0;\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar processState_1 = require(\"./processState\");\nvar version_1 = require(\"./version\");\nvar cookieHandler_1 = require(\"./utils/cookieHandler\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar lockFactory_1 = require(\"./utils/lockFactory\");\nvar logger_1 = require(\"./logger\");\nvar AntiCsrfToken = /** @class */ (function () {\n    function AntiCsrfToken() {}\n    AntiCsrfToken.getToken = function (associatedAccessTokenUpdate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var antiCsrf;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: called\");\n                        if (associatedAccessTokenUpdate === undefined) {\n                            AntiCsrfToken.tokenInfo = undefined;\n                            (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning undefined\");\n                            return [2 /*return*/, undefined];\n                        }\n                        if (!(AntiCsrfToken.tokenInfo === undefined)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, getAntiCSRFToken()];\n                    case 1:\n                        antiCsrf = _a.sent();\n                        if (antiCsrf === null) {\n                            (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning undefined\");\n                            return [2 /*return*/, undefined];\n                        }\n                        AntiCsrfToken.tokenInfo = {\n                            antiCsrf: antiCsrf,\n                            associatedAccessTokenUpdate: associatedAccessTokenUpdate\n                        };\n                        return [3 /*break*/, 4];\n                    case 2:\n                        if (!(AntiCsrfToken.tokenInfo.associatedAccessTokenUpdate !== associatedAccessTokenUpdate))\n                            return [3 /*break*/, 4];\n                        // csrf token has changed.\n                        AntiCsrfToken.tokenInfo = undefined;\n                        return [4 /*yield*/, AntiCsrfToken.getToken(associatedAccessTokenUpdate)];\n                    case 3:\n                        return [2 /*return*/, _a.sent()];\n                    case 4:\n                        (0,\n                        logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning: \" + AntiCsrfToken.tokenInfo.antiCsrf);\n                        return [2 /*return*/, AntiCsrfToken.tokenInfo.antiCsrf];\n                }\n            });\n        });\n    };\n    AntiCsrfToken.removeToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.removeToken: called\");\n                        AntiCsrfToken.tokenInfo = undefined;\n                        return [4 /*yield*/, setAntiCSRF(undefined)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AntiCsrfToken.setItem = function (associatedAccessTokenUpdate, antiCsrf) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (associatedAccessTokenUpdate === undefined) {\n                            AntiCsrfToken.tokenInfo = undefined;\n                            return [2 /*return*/];\n                        }\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.setItem: called\");\n                        return [4 /*yield*/, setAntiCSRF(antiCsrf)];\n                    case 1:\n                        _a.sent();\n                        AntiCsrfToken.tokenInfo = {\n                            antiCsrf: antiCsrf,\n                            associatedAccessTokenUpdate: associatedAccessTokenUpdate\n                        };\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return AntiCsrfToken;\n})();\nexports.AntiCsrfToken = AntiCsrfToken;\n// Note: We do not store this in memory because another tab may have\n// modified this value, and if so, we may not know about it in this tab\nvar FrontToken = /** @class */ (function () {\n    function FrontToken() {}\n    FrontToken.getTokenInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var frontToken, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: called\");\n                        return [4 /*yield*/, getFrontToken()];\n                    case 1:\n                        frontToken = _a.sent();\n                        if (!(frontToken === null)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 2:\n                        if (!(_a.sent().status === \"EXISTS\")) return [3 /*break*/, 4];\n                        // this means that the id refresh token has been set, so we must\n                        // wait for this to be set or removed\n                        return [\n                            4 /*yield*/,\n                            new Promise(function (resolve) {\n                                FrontToken.waiters.push(resolve);\n                            })\n                        ];\n                    case 3:\n                        // this means that the id refresh token has been set, so we must\n                        // wait for this to be set or removed\n                        _a.sent();\n                        return [2 /*return*/, FrontToken.getTokenInfo()];\n                    case 4:\n                        return [2 /*return*/, undefined];\n                    case 5:\n                        response = parseFrontToken(frontToken);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning ate: \" + response.ate);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning uid: \" + response.uid);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning up: \" + response.up);\n                        return [2 /*return*/, response];\n                }\n            });\n        });\n    };\n    FrontToken.removeToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"FrontToken.removeToken: called\");\n                        return [4 /*yield*/, setFrontToken(undefined)];\n                    case 1:\n                        _a.sent();\n                        // We are clearing all stored tokens here, because:\n                        // 1. removing FrontToken signals that the session is being cleared\n                        // 2. you can only have a single active session - this means that all tokens can be cleared from all auth-modes if one is being cleared\n                        // 3. some proxies remove the empty headers used to clear the other tokens (i.e.: https://github.com/supertokens/supertokens-website/issues/218)\n                        return [4 /*yield*/, setToken(\"access\", \"\")];\n                    case 2:\n                        // We are clearing all stored tokens here, because:\n                        // 1. removing FrontToken signals that the session is being cleared\n                        // 2. you can only have a single active session - this means that all tokens can be cleared from all auth-modes if one is being cleared\n                        // 3. some proxies remove the empty headers used to clear the other tokens (i.e.: https://github.com/supertokens/supertokens-website/issues/218)\n                        _a.sent();\n                        return [4 /*yield*/, setToken(\"refresh\", \"\")];\n                    case 3:\n                        _a.sent();\n                        FrontToken.waiters.forEach(function (f) {\n                            return f(undefined);\n                        });\n                        FrontToken.waiters = [];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FrontToken.setItem = function (frontToken) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // We update the refresh attempt info here as well, since this means that we've updated the session in some way\n                        // This could be both by a refresh call or if the access token was updated in a custom endpoint\n                        // By saving every time the access token has been updated, we cause an early retry if\n                        // another request has failed with a 401 with the previous access token and the token still exists.\n                        // Check the start and end of onUnauthorisedResponse\n                        // As a side-effect we reload the anti-csrf token to check if it was changed by another tab.\n                        return [4 /*yield*/, saveLastAccessTokenUpdate()];\n                    case 1:\n                        // We update the refresh attempt info here as well, since this means that we've updated the session in some way\n                        // This could be both by a refresh call or if the access token was updated in a custom endpoint\n                        // By saving every time the access token has been updated, we cause an early retry if\n                        // another request has failed with a 401 with the previous access token and the token still exists.\n                        // Check the start and end of onUnauthorisedResponse\n                        // As a side-effect we reload the anti-csrf token to check if it was changed by another tab.\n                        _a.sent();\n                        if (frontToken === \"remove\") {\n                            return [2 /*return*/, FrontToken.removeToken()];\n                        }\n                        (0, logger_1.logDebugMessage)(\"FrontToken.setItem: called\");\n                        return [4 /*yield*/, setFrontToken(frontToken)];\n                    case 2:\n                        _a.sent();\n                        FrontToken.waiters.forEach(function (f) {\n                            return f(undefined);\n                        });\n                        FrontToken.waiters = [];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FrontToken.doesTokenExists = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var frontToken;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        return [4 /*yield*/, getFrontTokenFromCookie()];\n                    case 1:\n                        frontToken = _a.sent();\n                        return [2 /*return*/, frontToken !== null];\n                }\n            });\n        });\n    };\n    // these are waiters for when the idRefreshToken has been set, but this token has\n    // not yet been set. Once this token is set or removed, the waiters are resolved.\n    FrontToken.waiters = [];\n    return FrontToken;\n})();\nexports.FrontToken = FrontToken;\n/**\n * @class AuthHttpRequest\n * @description wrapper for common http methods.\n */\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    AuthHttpRequest.init = function (config, recipeImpl) {\n        (0, logger_1.logDebugMessage)(\"init: called\");\n        (0, logger_1.logDebugMessage)(\"init: Input apiBasePath: \" + config.apiBasePath);\n        (0, logger_1.logDebugMessage)(\"init: Input apiDomain: \" + config.apiDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input autoAddCredentials: \" + config.autoAddCredentials);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionTokenBackendDomain: \" + config.sessionTokenBackendDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input isInIframe: \" + config.isInIframe);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionExpiredStatusCode: \" + config.sessionExpiredStatusCode);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionTokenFrontendDomain: \" + config.sessionTokenFrontendDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input tokenTransferMethod: \" + config.tokenTransferMethod);\n        var fetchedWindow = windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe();\n        AuthHttpRequest.env = fetchedWindow === undefined || fetchedWindow.fetch === undefined ? global : fetchedWindow;\n        AuthHttpRequest.refreshTokenUrl = config.apiDomain + config.apiBasePath + \"/session/refresh\";\n        AuthHttpRequest.signOutUrl = config.apiDomain + config.apiBasePath + \"/signout\";\n        AuthHttpRequest.rid = \"session\";\n        AuthHttpRequest.config = config;\n        if (AuthHttpRequest.env.__supertokensOriginalFetch === undefined) {\n            (0, logger_1.logDebugMessage)(\"init: __supertokensOriginalFetch is undefined\");\n            // this block contains code that is run just once per page load..\n            // all items in this block are attached to the global env so that\n            // even if the init function is called more than once (maybe across JS scripts),\n            // things will not get created multiple times.\n            AuthHttpRequest.env.__supertokensOriginalFetch = AuthHttpRequest.env.fetch.bind(AuthHttpRequest.env);\n            AuthHttpRequest.env.__supertokensSessionRecipe = recipeImpl;\n            AuthHttpRequest.env.fetch =\n                AuthHttpRequest.env.__supertokensSessionRecipe.addFetchInterceptorsAndReturnModifiedFetch({\n                    originalFetch: AuthHttpRequest.env.__supertokensOriginalFetch,\n                    userContext: {}\n                });\n            AuthHttpRequest.env.__supertokensSessionRecipe.addXMLHttpRequestInterceptor({\n                userContext: {}\n            });\n        }\n        AuthHttpRequest.recipeImpl = AuthHttpRequest.env.__supertokensSessionRecipe;\n        AuthHttpRequest.initCalled = true;\n    };\n    var _a;\n    _a = AuthHttpRequest;\n    AuthHttpRequest.initCalled = false;\n    AuthHttpRequest.doRequest = function (httpCall, config, url) {\n        return __awaiter(void 0, void 0, void 0, function () {\n            var doNotDoInterception,\n                finalURL,\n                origHeaders,\n                accessToken,\n                refreshToken,\n                returnObj,\n                preRequestLSS,\n                clonedHeaders,\n                configWithAntiCsrf,\n                antiCsrfToken,\n                transferMethod,\n                response,\n                retry,\n                postRequestIdToken;\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!AuthHttpRequest.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: start of fetch interception\");\n                        doNotDoInterception = false;\n                        try {\n                            finalURL = void 0;\n                            if (typeof url === \"string\") {\n                                finalURL = url;\n                            } else if (typeof url === \"object\") {\n                                if (typeof url.url === \"string\") {\n                                    finalURL = url.url;\n                                } else if (typeof url.href === \"string\") {\n                                    finalURL = url.href;\n                                }\n                            }\n                            doNotDoInterception = !AuthHttpRequest.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                finalURL,\n                                AuthHttpRequest.config.apiDomain,\n                                AuthHttpRequest.config.sessionTokenBackendDomain\n                            );\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"doRequest: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception = !AuthHttpRequest.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                    windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                                    AuthHttpRequest.config.apiDomain,\n                                    AuthHttpRequest.config.sessionTokenBackendDomain\n                                );\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (!doNotDoInterception) return [3 /*break*/, 2];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Returning without interception\");\n                        return [4 /*yield*/, httpCall(config)];\n                    case 1:\n                        return [2 /*return*/, _b.sent()];\n                    case 2:\n                        origHeaders = new Headers(\n                            config !== undefined && config.headers !== undefined ? config.headers : url.headers\n                        );\n                        if (!origHeaders.has(\"Authorization\")) return [3 /*break*/, 5];\n                        return [4 /*yield*/, getTokenForHeaderAuth(\"access\")];\n                    case 3:\n                        accessToken = _b.sent();\n                        return [4 /*yield*/, getTokenForHeaderAuth(\"refresh\")];\n                    case 4:\n                        refreshToken = _b.sent();\n                        if (\n                            accessToken !== undefined &&\n                            refreshToken !== undefined &&\n                            origHeaders.get(\"Authorization\") === \"Bearer \".concat(accessToken)\n                        ) {\n                            // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                            // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                            // This causes an infinite refresh loop.\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Removing Authorization from user provided headers because it contains our access token\"\n                            );\n                            origHeaders.delete(\"Authorization\");\n                        }\n                        _b.label = 5;\n                    case 5:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Interception started\");\n                        processState_1.ProcessState.getInstance().addState(\n                            processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n                        );\n                        _b.label = 6;\n                    case 6:\n                        _b.trys.push([6, , 20, 25]);\n                        returnObj = undefined;\n                        _b.label = 7;\n                    case 7:\n                        if (!true) return [3 /*break*/, 19];\n                        return [4 /*yield*/, getLocalSessionState(true)];\n                    case 8:\n                        preRequestLSS = _b.sent();\n                        clonedHeaders = new Headers(origHeaders);\n                        configWithAntiCsrf = __assign(__assign({}, config), { headers: clonedHeaders });\n                        if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 10];\n                        return [4 /*yield*/, AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                    case 9:\n                        antiCsrfToken = _b.sent();\n                        if (antiCsrfToken !== undefined) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding anti-csrf token to request\");\n                            clonedHeaders.set(\"anti-csrf\", antiCsrfToken);\n                        }\n                        _b.label = 10;\n                    case 10:\n                        if (AuthHttpRequest.config.autoAddCredentials) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding credentials include\");\n                            if (configWithAntiCsrf === undefined) {\n                                configWithAntiCsrf = {\n                                    credentials: \"include\"\n                                };\n                            } else if (configWithAntiCsrf.credentials === undefined) {\n                                configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                                    credentials: \"include\"\n                                });\n                            }\n                        }\n                        // adding rid for anti-csrf protection: Anti-csrf via custom header\n                        if (!clonedHeaders.has(\"rid\")) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding rid header: anti-csrf\");\n                            clonedHeaders.set(\"rid\", \"anti-csrf\");\n                        } else {\n                            (0, logger_1.logDebugMessage)(\"doRequest: rid header was already there in request\");\n                        }\n                        transferMethod = AuthHttpRequest.config.tokenTransferMethod;\n                        (0, logger_1.logDebugMessage)(\"doRequest: Adding st-auth-mode header: \" + transferMethod);\n                        clonedHeaders.set(\"st-auth-mode\", transferMethod);\n                        return [4 /*yield*/, setAuthorizationHeaderIfRequired(clonedHeaders)];\n                    case 11:\n                        _b.sent();\n                        (0, logger_1.logDebugMessage)(\"doRequest: Making user's http call\");\n                        return [4 /*yield*/, httpCall(configWithAntiCsrf)];\n                    case 12:\n                        response = _b.sent();\n                        (0, logger_1.logDebugMessage)(\"doRequest: User's http call ended\");\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 13:\n                        _b.sent();\n                        fireSessionUpdateEventsIfNecessary(\n                            preRequestLSS.status === \"EXISTS\",\n                            response.status,\n                            response.headers.get(\"front-token\")\n                        );\n                        if (!(response.status === AuthHttpRequest.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 15];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, onUnauthorisedResponse(preRequestLSS)];\n                    case 14:\n                        retry = _b.sent();\n                        if (retry.result !== \"RETRY\") {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                            returnObj = retry.error !== undefined ? retry.error : response;\n                            return [3 /*break*/, 19];\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 18];\n                    case 15:\n                        if (!(response.status === AuthHttpRequest.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 17];\n                        return [4 /*yield*/, onInvalidClaimResponse(response)];\n                    case 16:\n                        _b.sent();\n                        _b.label = 17;\n                    case 17:\n                        return [2 /*return*/, response];\n                    case 18:\n                        return [3 /*break*/, 7];\n                    case 19:\n                        // if it comes here, means we breaked. which happens only if we have logged out.\n                        return [2 /*return*/, returnObj];\n                    case 20:\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 21:\n                        postRequestIdToken = _b.sent();\n                        if (!(postRequestIdToken.status === \"NOT_EXISTS\")) return [3 /*break*/, 24];\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, AntiCsrfToken.removeToken()];\n                    case 22:\n                        _b.sent();\n                        return [4 /*yield*/, FrontToken.removeToken()];\n                    case 23:\n                        _b.sent();\n                        _b.label = 24;\n                    case 24:\n                        return [7 /*endfinally*/];\n                    case 25:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthHttpRequest.attemptRefreshingSession = function () {\n        return __awaiter(void 0, void 0, void 0, function () {\n            var preRequestLSS, refresh;\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!AuthHttpRequest.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 1:\n                        preRequestLSS = _b.sent();\n                        return [4 /*yield*/, onUnauthorisedResponse(preRequestLSS)];\n                    case 2:\n                        refresh = _b.sent();\n                        if (refresh.result === \"API_ERROR\") {\n                            throw refresh.error;\n                        }\n                        return [2 /*return*/, refresh.result === \"RETRY\"];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports.default = AuthHttpRequest;\nvar LAST_ACCESS_TOKEN_UPDATE = \"st-last-access-token-update\";\nvar REFRESH_TOKEN_NAME = \"st-refresh-token\";\nvar ACCESS_TOKEN_NAME = \"st-access-token\";\nvar ANTI_CSRF_NAME = \"sAntiCsrf\";\nvar FRONT_TOKEN_NAME = \"sFrontToken\";\n/**\n * @description attempts to call the refresh token API each time we are sure the session has expired, or it throws an error or,\n * or the ID_COOKIE_NAME has changed value -> which may mean that we have a new set of tokens.\n */\nfunction onUnauthorisedResponse(preRequestLSS) {\n    return __awaiter(this, void 0, void 0, function () {\n        var lock,\n            postLockLSS,\n            headers,\n            antiCsrfToken,\n            transferMethod,\n            preAPIResult,\n            response,\n            isUnauthorised,\n            error_1,\n            postRequestLSS;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    return [4 /*yield*/, lockFactory_1.default.getReferenceOrThrow().lockFactory()];\n                case 1:\n                    lock = _b.sent();\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3 /*break*/, 24];\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: trying to acquire lock\");\n                    return [4 /*yield*/, lock.acquireLock(\"REFRESH_TOKEN_USE\", 1000)];\n                case 3:\n                    if (!_b.sent()) return [3 /*break*/, 22];\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: lock acquired\");\n                    _b.label = 4;\n                case 4:\n                    _b.trys.push([4, 14, 16, 22]);\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 5:\n                    postLockLSS = _b.sent();\n                    if (postLockLSS.status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Not refreshing because local session state is NOT_EXISTS\"\n                        );\n                        // if it comes here, it means a request was made thinking\n                        // that the session exists, but it doesn't actually exist.\n                        AuthHttpRequest.config.onHandleEvent({\n                            action: \"UNAUTHORISED\",\n                            sessionExpiredOrRevoked: false,\n                            userContext: {}\n                        });\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    }\n                    if (\n                        postLockLSS.status !== preRequestLSS.status ||\n                        (postLockLSS.status === \"EXISTS\" &&\n                            preRequestLSS.status === \"EXISTS\" &&\n                            postLockLSS.lastAccessTokenUpdate !== preRequestLSS.lastAccessTokenUpdate)\n                    ) {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Retrying early because pre and post id refresh tokens don't match\"\n                        );\n                        // means that some other process has already called this API and succeeded. so we need to call it again\n                        return [2 /*return*/, { result: \"RETRY\" }];\n                    }\n                    headers = new Headers();\n                    if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 7];\n                    return [4 /*yield*/, AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                case 6:\n                    antiCsrfToken = _b.sent();\n                    if (antiCsrfToken !== undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Adding anti-csrf token to refresh API call\"\n                        );\n                        headers.set(\"anti-csrf\", antiCsrfToken);\n                    }\n                    _b.label = 7;\n                case 7:\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: Adding rid and fdi-versions to refresh call header\");\n                    headers.set(\"rid\", AuthHttpRequest.rid);\n                    headers.set(\"fdi-version\", version_1.supported_fdi.join(\",\"));\n                    transferMethod = AuthHttpRequest.config.tokenTransferMethod;\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: Adding st-auth-mode header: \" + transferMethod);\n                    headers.set(\"st-auth-mode\", transferMethod);\n                    return [4 /*yield*/, setAuthorizationHeaderIfRequired(headers, true)];\n                case 8:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Calling refresh pre API hook\");\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.config.preAPIHook({\n                            action: \"REFRESH_SESSION\",\n                            requestInit: {\n                                method: \"post\",\n                                credentials: \"include\",\n                                headers: headers\n                            },\n                            url: AuthHttpRequest.refreshTokenUrl,\n                            userContext: {}\n                        })\n                    ];\n                case 9:\n                    preAPIResult = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Making refresh call\");\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.env.__supertokensOriginalFetch(preAPIResult.url, preAPIResult.requestInit)\n                    ];\n                case 10:\n                    response = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Refresh call ended\");\n                    return [4 /*yield*/, saveTokensFromHeaders(response)];\n                case 11:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Refresh status code is: \" + response.status);\n                    isUnauthorised = response.status === AuthHttpRequest.config.sessionExpiredStatusCode;\n                    // There is a case where the FE thinks the session is valid, but backend doesn't get the tokens.\n                    // In this event, session expired error will be thrown and the frontend should remove this token\n                    if (isUnauthorised && response.headers.get(\"front-token\") === null) {\n                        FrontToken.setItem(\"remove\");\n                    }\n                    fireSessionUpdateEventsIfNecessary(\n                        preRequestLSS.status === \"EXISTS\",\n                        response.status,\n                        isUnauthorised && response.headers.get(\"front-token\") === null\n                            ? \"remove\"\n                            : response.headers.get(\"front-token\")\n                    );\n                    if (response.status >= 300) {\n                        throw response;\n                    }\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.config.postAPIHook({\n                            action: \"REFRESH_SESSION\",\n                            fetchResponse: response.clone(),\n                            requestInit: preAPIResult.requestInit,\n                            url: preAPIResult.url,\n                            userContext: {}\n                        })\n                    ];\n                case 12:\n                    _b.sent();\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 13:\n                    if (_b.sent().status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: local session doesn't exist, so returning session expired\"\n                        );\n                        // The execution should never come here.. but just in case.\n                        // removed by server during refresh. So we logout\n                        // we do not send \"UNAUTHORISED\" event here because\n                        // this is a result of the refresh API returning a session expiry, which\n                        // means that the frontend did not know for sure that the session existed\n                        // in the first place.\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    }\n                    AuthHttpRequest.config.onHandleEvent({\n                        action: \"REFRESH_SESSION\",\n                        userContext: {}\n                    });\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Sending RETRY signal\");\n                    return [2 /*return*/, { result: \"RETRY\" }];\n                case 14:\n                    error_1 = _b.sent();\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 15:\n                    if (_b.sent().status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: local session doesn't exist, so returning session expired\"\n                        );\n                        // removed by server.\n                        // we do not send \"UNAUTHORISED\" event here because\n                        // this is a result of the refresh API returning a session expiry, which\n                        // means that the frontend did not know for sure that the session existed\n                        // in the first place.\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\", error: error_1 }];\n                    }\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: sending API_ERROR\");\n                    return [2 /*return*/, { result: \"API_ERROR\", error: error_1 }];\n                case 16:\n                    return [4 /*yield*/, lock.releaseLock(\"REFRESH_TOKEN_USE\")];\n                case 17:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Released lock\");\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 18:\n                    if (!(_b.sent().status === \"NOT_EXISTS\")) return [3 /*break*/, 21];\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                    return [4 /*yield*/, AntiCsrfToken.removeToken()];\n                case 19:\n                    _b.sent();\n                    return [4 /*yield*/, FrontToken.removeToken()];\n                case 20:\n                    _b.sent();\n                    _b.label = 21;\n                case 21:\n                    return [7 /*endfinally*/];\n                case 22:\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 23:\n                    postRequestLSS = _b.sent();\n                    if (postRequestLSS.status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: lock acquired failed and local session doesn't exist, so sending SESSION_EXPIRED\"\n                        );\n                        // removed by server. So we logout\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    } else {\n                        if (\n                            postRequestLSS.status !== preRequestLSS.status ||\n                            (postRequestLSS.status === \"EXISTS\" &&\n                                preRequestLSS.status === \"EXISTS\" &&\n                                postRequestLSS.lastAccessTokenUpdate !== preRequestLSS.lastAccessTokenUpdate)\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"onUnauthorisedResponse: lock acquired failed and retrying early because pre and post id refresh tokens don't match\"\n                            );\n                            return [2 /*return*/, { result: \"RETRY\" }];\n                        }\n                        // here we try to call the API again since we probably failed to acquire lock and nothing has changed.\n                    }\n                    return [3 /*break*/, 2];\n                case 24:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.onUnauthorisedResponse = onUnauthorisedResponse;\nfunction onTokenUpdate() {\n    (0, logger_1.logDebugMessage)(\"onTokenUpdate: firing ACCESS_TOKEN_PAYLOAD_UPDATED event\");\n    AuthHttpRequest.config.onHandleEvent({\n        action: \"ACCESS_TOKEN_PAYLOAD_UPDATED\",\n        userContext: {}\n    });\n}\nexports.onTokenUpdate = onTokenUpdate;\nfunction onInvalidClaimResponse(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var claimValidationErrors, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, , 3]);\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.recipeImpl.getInvalidClaimsFromResponse({\n                            response: response,\n                            userContext: {}\n                        })\n                    ];\n                case 1:\n                    claimValidationErrors = _c.sent();\n                    // This shouldn't be undefined normally, but since we can't be certain about the shape of the response object so we check it like this.\n                    // It could still be something else, but chance of that happening by accident is really low.\n                    if (claimValidationErrors) {\n                        AuthHttpRequest.config.onHandleEvent({\n                            action: \"API_INVALID_CLAIM\",\n                            claimValidationErrors: claimValidationErrors,\n                            userContext: {}\n                        });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    _b = _c.sent();\n                    return [3 /*break*/, 3];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.onInvalidClaimResponse = onInvalidClaimResponse;\n// if tryRefresh is true & this token doesn't exist, we try and refresh the session\n// else we return undefined.\nfunction getLocalSessionState(tryRefresh) {\n    return __awaiter(this, void 0, void 0, function () {\n        var lastAccessTokenUpdate, frontTokenExists, response, res;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: called\");\n                    return [4 /*yield*/, getFromCookies(LAST_ACCESS_TOKEN_UPDATE)];\n                case 1:\n                    lastAccessTokenUpdate = _b.sent();\n                    return [4 /*yield*/, FrontToken.doesTokenExists()];\n                case 2:\n                    frontTokenExists = _b.sent();\n                    if (!(frontTokenExists && lastAccessTokenUpdate !== undefined)) return [3 /*break*/, 3];\n                    (0,\n                    logger_1.logDebugMessage)(\"getLocalSessionState: returning EXISTS since both frontToken and lastAccessTokenUpdate exists\");\n                    return [2 /*return*/, { status: \"EXISTS\", lastAccessTokenUpdate: lastAccessTokenUpdate }];\n                case 3:\n                    if (!lastAccessTokenUpdate) return [3 /*break*/, 4];\n                    (0,\n                    logger_1.logDebugMessage)(\"getLocalSessionState: returning NOT_EXISTS since frontToken was cleared but lastAccessTokenUpdate exists\");\n                    return [2 /*return*/, { status: \"NOT_EXISTS\" }];\n                case 4:\n                    response = {\n                        status: \"MAY_EXIST\"\n                    };\n                    if (!tryRefresh) return [3 /*break*/, 7];\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: trying to refresh\");\n                    return [4 /*yield*/, onUnauthorisedResponse(response)];\n                case 5:\n                    res = _b.sent();\n                    if (res.result !== \"RETRY\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"getLocalSessionState: return NOT_EXISTS in case error from backend\" + res.result\n                        );\n                        // in case the backend is not working, we treat it as the session not existing...\n                        return [\n                            2 /*return*/,\n                            {\n                                status: \"NOT_EXISTS\"\n                            }\n                        ];\n                    }\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: Retrying post refresh\");\n                    return [4 /*yield*/, getLocalSessionState(tryRefresh)];\n                case 6:\n                    return [2 /*return*/, _b.sent()];\n                case 7:\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: returning: \" + response.status);\n                    return [2 /*return*/, response];\n            }\n        });\n    });\n}\nexports.getLocalSessionState = getLocalSessionState;\nfunction getStorageNameForToken(tokenType) {\n    switch (tokenType) {\n        case \"access\":\n            return ACCESS_TOKEN_NAME;\n        case \"refresh\":\n            return REFRESH_TOKEN_NAME;\n    }\n}\nexports.getStorageNameForToken = getStorageNameForToken;\nfunction setToken(tokenType, value) {\n    var name = getStorageNameForToken(tokenType);\n    if (value !== \"\") {\n        (0, logger_1.logDebugMessage)(\"setToken: saved \".concat(tokenType, \" token into cookies\"));\n        // We save the tokens with a 100-year expiration time\n        return storeInCookies(name, value, Date.now() + 3153600000);\n    } else {\n        (0, logger_1.logDebugMessage)(\"setToken: cleared \".concat(tokenType, \" token from cookies\"));\n        return storeInCookies(name, value, 0);\n    }\n}\nexports.setToken = setToken;\nfunction storeInCookies(name, value, expiry) {\n    var expires = \"Fri, 31 Dec 9999 23:59:59 GMT\";\n    if (expiry !== Number.MAX_SAFE_INTEGER) {\n        // We should respect the storage expirations set by the backend, even though tokens will also be checked elsewhere.\n        // We check them locally in case of front-token, and on the backend enforces the validity period for access and refresh tokens.\n        expires = new Date(expiry).toUTCString();\n    }\n    var domain = AuthHttpRequest.config.sessionTokenFrontendDomain;\n    if (\n        domain === \"localhost\" ||\n        domain === windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getHostName()\n    ) {\n        // since some browsers ignore cookies with domain set to localhost\n        // see https://github.com/supertokens/supertokens-website/issues/25\n        return cookieHandler_1.default.getReferenceOrThrow().cookieHandler.setCookie(\n            \"\"\n                .concat(name, \"=\")\n                .concat(value, \";expires=\")\n                .concat(expires, \";path=/;samesite=\")\n                .concat(AuthHttpRequest.config.isInIframe ? \"none;secure\" : \"lax\")\n        );\n    } else {\n        return cookieHandler_1.default.getReferenceOrThrow().cookieHandler.setCookie(\n            \"\"\n                .concat(name, \"=\")\n                .concat(value, \";expires=\")\n                .concat(expires, \";domain=\")\n                .concat(domain, \";path=/;samesite=\")\n                .concat(AuthHttpRequest.config.isInIframe ? \"none;secure\" : \"lax\")\n        );\n    }\n}\nfunction getTokenForHeaderAuth(tokenType) {\n    return __awaiter(this, void 0, void 0, function () {\n        var name;\n        return __generator(this, function (_b) {\n            name = getStorageNameForToken(tokenType);\n            return [2 /*return*/, getFromCookies(name)];\n        });\n    });\n}\nexports.getTokenForHeaderAuth = getTokenForHeaderAuth;\nfunction getFromCookies(name) {\n    return __awaiter(this, void 0, void 0, function () {\n        var value, _b, parts, last;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _b = \"; \";\n                    return [4 /*yield*/, cookieHandler_1.default.getReferenceOrThrow().cookieHandler.getCookie()];\n                case 1:\n                    value = _b + _c.sent();\n                    parts = value.split(\"; \" + name + \"=\");\n                    if (parts.length >= 2) {\n                        last = parts.pop();\n                        if (last !== undefined) {\n                            return [2 /*return*/, last.split(\";\").shift()];\n                        }\n                    }\n                    return [2 /*return*/, undefined];\n            }\n        });\n    });\n}\nfunction setAuthorizationHeaderIfRequired(clonedHeaders, addRefreshToken) {\n    if (addRefreshToken === void 0) {\n        addRefreshToken = false;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setTokenHeaders: adding existing tokens as header\");\n                    return [4 /*yield*/, getTokenForHeaderAuth(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, getTokenForHeaderAuth(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    // We don't always need the refresh token because that's only required by the refresh call\n                    // Still, we only add the access token to Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token without using header based auth\n                    // We can add the refresh token even if only that one is present, to make manual testing easier - you can then\n                    // force a refresh by just deleting the access token.\n                    if ((addRefreshToken || accessToken !== undefined) && refreshToken !== undefined) {\n                        // the Headers class normalizes header names so we don't have to worry about casing\n                        if (clonedHeaders.has(\"Authorization\")) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: added authorization header\"\n                            );\n                            clonedHeaders.set(\n                                \"Authorization\",\n                                \"Bearer \".concat(addRefreshToken ? refreshToken : accessToken)\n                            );\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0,\n                    logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response headers\");\n                    refreshToken = response.headers.get(\"st-refresh-token\");\n                    if (!(refreshToken !== null)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, setToken(\"refresh\", refreshToken)];\n                case 1:\n                    _b.sent();\n                    _b.label = 2;\n                case 2:\n                    accessToken = response.headers.get(\"st-access-token\");\n                    if (!(accessToken !== null)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, setToken(\"access\", accessToken)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    frontToken = response.headers.get(\"front-token\");\n                    if (!(frontToken !== null)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, FrontToken.setItem(frontToken)];\n                case 5:\n                    _b.sent();\n                    _b.label = 6;\n                case 6:\n                    antiCsrfToken = response.headers.get(\"anti-csrf\");\n                    if (!(antiCsrfToken !== null)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 7:\n                    tok = _b.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting anti-csrf token\");\n                    return [4 /*yield*/, AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _b.sent();\n                    _b.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveLastAccessTokenUpdate() {\n    return __awaiter(this, void 0, void 0, function () {\n        var now;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveLastAccessTokenUpdate: called\");\n                    now = Date.now().toString();\n                    (0, logger_1.logDebugMessage)(\"saveLastAccessTokenUpdate: setting \" + now);\n                    return [4 /*yield*/, storeInCookies(LAST_ACCESS_TOKEN_UPDATE, now, Number.MAX_SAFE_INTEGER)];\n                case 1:\n                    _b.sent();\n                    // We clear the sIRTFrontend cookie\n                    // We are handling this as a special case here because we want to limit the scope of legacy code\n                    return [4 /*yield*/, storeInCookies(\"sIRTFrontend\", \"\", 0)];\n                case 2:\n                    // We clear the sIRTFrontend cookie\n                    // We are handling this as a special case here because we want to limit the scope of legacy code\n                    _b.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.saveLastAccessTokenUpdate = saveLastAccessTokenUpdate;\nfunction getAntiCSRFToken() {\n    return __awaiter(this, void 0, void 0, function () {\n        function getAntiCSRFromCookie() {\n            return __awaiter(this, void 0, void 0, function () {\n                var value, _b, parts, last, temp;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _b = \"; \";\n                            return [\n                                4 /*yield*/,\n                                cookieHandler_1.default.getReferenceOrThrow().cookieHandler.getCookie()\n                            ];\n                        case 1:\n                            value = _b + _c.sent();\n                            parts = value.split(\"; \" + ANTI_CSRF_NAME + \"=\");\n                            if (parts.length >= 2) {\n                                last = parts.pop();\n                                if (last !== undefined) {\n                                    temp = last.split(\";\").shift();\n                                    if (temp === undefined) {\n                                        return [2 /*return*/, null];\n                                    }\n                                    return [2 /*return*/, temp];\n                                }\n                            }\n                            return [2 /*return*/, null];\n                    }\n                });\n            });\n        }\n        var fromCookie;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getAntiCSRFToken: called\");\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 1:\n                    // we do not call doesSessionExist here cause the user might override that\n                    // function here and then it may break the logic of our original implementation.\n                    if (!(_b.sent().status === \"EXISTS\")) {\n                        (0, logger_1.logDebugMessage)(\n                            \"getAntiCSRFToken: Returning because local session state != EXISTS\"\n                        );\n                        return [2 /*return*/, null];\n                    }\n                    return [4 /*yield*/, getAntiCSRFromCookie()];\n                case 2:\n                    fromCookie = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"getAntiCSRFToken: returning: \" + fromCookie);\n                    return [2 /*return*/, fromCookie];\n            }\n        });\n    });\n}\n// give antiCSRFToken as undefined to remove it.\nfunction setAntiCSRF(antiCSRFToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setAntiCSRF: called: \" + antiCSRFToken);\n                    if (!(antiCSRFToken !== undefined)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, storeInCookies(ANTI_CSRF_NAME, antiCSRFToken, Number.MAX_SAFE_INTEGER)];\n                case 1:\n                    _b.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    return [4 /*yield*/, storeInCookies(ANTI_CSRF_NAME, \"\", 0)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.setAntiCSRF = setAntiCSRF;\nfunction getFrontTokenFromCookie() {\n    return __awaiter(this, void 0, void 0, function () {\n        var val;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getFrontTokenFromCookie: called\");\n                    return [4 /*yield*/, getFromCookies(FRONT_TOKEN_NAME)];\n                case 1:\n                    val = _b.sent();\n                    return [2 /*return*/, val === undefined ? null : val];\n            }\n        });\n    });\n}\nfunction parseFrontToken(frontToken) {\n    return JSON.parse(decodeURIComponent(escape(atob(frontToken))));\n}\nfunction getFrontToken() {\n    return __awaiter(this, void 0, void 0, function () {\n        var fromCookie;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getFrontToken: called\");\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 1:\n                    // we do not call doesSessionExist here because that directly calls this function.\n                    if (!(_b.sent().status === \"EXISTS\")) {\n                        (0, logger_1.logDebugMessage)(\"getFrontToken: Returning because sIRTFrontend != EXISTS\");\n                        return [2 /*return*/, null];\n                    }\n                    return [4 /*yield*/, getFrontTokenFromCookie()];\n                case 2:\n                    fromCookie = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"getFrontToken: returning: \" + fromCookie);\n                    return [2 /*return*/, fromCookie];\n            }\n        });\n    });\n}\nexports.getFrontToken = getFrontToken;\nfunction setFrontToken(frontToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        var oldToken, oldPayload, newPayload;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setFrontToken: called\");\n                    return [4 /*yield*/, getFrontTokenFromCookie()];\n                case 1:\n                    oldToken = _b.sent();\n                    if (oldToken !== null && frontToken !== undefined) {\n                        oldPayload = parseFrontToken(oldToken).up;\n                        newPayload = parseFrontToken(frontToken).up;\n                        if (JSON.stringify(oldPayload) !== JSON.stringify(newPayload)) {\n                            onTokenUpdate();\n                        }\n                    }\n                    if (!(frontToken === undefined)) return [3 /*break*/, 3];\n                    // clear the cookie\n                    return [4 /*yield*/, storeInCookies(FRONT_TOKEN_NAME, \"\", 0)];\n                case 2:\n                    // clear the cookie\n                    _b.sent();\n                    return [3 /*break*/, 5];\n                case 3:\n                    return [4 /*yield*/, storeInCookies(FRONT_TOKEN_NAME, frontToken, Number.MAX_SAFE_INTEGER)];\n                case 4:\n                    _b.sent();\n                    _b.label = 5;\n                case 5:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.setFrontToken = setFrontToken;\nfunction fireSessionUpdateEventsIfNecessary(wasLoggedIn, status, frontTokenHeaderFromResponse) {\n    // In case we've received a 401 that didn't clear the session (e.g.: we've sent no session token, or we should try refreshing)\n    // then onUnauthorised will handle firing the UNAUTHORISED event if necessary\n    // In some rare cases (where we receive a 401 that also clears the session) this will fire the event twice.\n    // This may be considered a bug, but it is the existing behaviour before the rework\n    if (frontTokenHeaderFromResponse === undefined || frontTokenHeaderFromResponse === null) {\n        // The access token (and the session) hasn't been updated.\n        (0, logger_1.logDebugMessage)(\n            \"fireSessionUpdateEventsIfNecessary returning early because the front token was not updated\"\n        );\n        return;\n    }\n    // if the current endpoint clears the session it'll set the front-token to remove\n    // any other update means it's created or updated.\n    var frontTokenExistsAfter = frontTokenHeaderFromResponse !== \"remove\";\n    (0, logger_1.logDebugMessage)(\n        \"fireSessionUpdateEventsIfNecessary wasLoggedIn: \"\n            .concat(wasLoggedIn, \" frontTokenExistsAfter: \")\n            .concat(frontTokenExistsAfter, \" status: \")\n            .concat(status)\n    );\n    if (wasLoggedIn) {\n        // we check for wasLoggedIn cause we don't want to fire an event\n        // unnecessarily on first app load or if the user tried\n        // to query an API that returned 401 while the user was not logged in...\n        if (!frontTokenExistsAfter) {\n            if (status === AuthHttpRequest.config.sessionExpiredStatusCode) {\n                (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing UNAUTHORISED event\");\n                AuthHttpRequest.config.onHandleEvent({\n                    action: \"UNAUTHORISED\",\n                    sessionExpiredOrRevoked: true,\n                    userContext: {}\n                });\n            } else {\n                (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing SIGN_OUT event\");\n                AuthHttpRequest.config.onHandleEvent({\n                    action: \"SIGN_OUT\",\n                    userContext: {}\n                });\n            }\n        }\n    } else if (frontTokenExistsAfter) {\n        (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing SESSION_CREATED event\");\n        AuthHttpRequest.config.onHandleEvent({\n            action: \"SESSION_CREATED\",\n            userContext: {}\n        });\n    }\n}\nexports.fireSessionUpdateEventsIfNecessary = fireSessionUpdateEventsIfNecessary;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionClaimValidatorStore = void 0;\nvar SessionClaimValidatorStore = /** @class */ (function () {\n    function SessionClaimValidatorStore() {}\n    SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes = [];\n    SessionClaimValidatorStore.addClaimValidatorFromOtherRecipe = function (builder) {\n        SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes.push(builder);\n    };\n    SessionClaimValidatorStore.getClaimValidatorsAddedByOtherRecipes = function () {\n        return SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes;\n    };\n    return SessionClaimValidatorStore;\n})();\nexports.SessionClaimValidatorStore = SessionClaimValidatorStore;\nexports.default = SessionClaimValidatorStore;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getGlobalClaimValidators = void 0;\nvar _1 = require(\".\");\nvar fetch_1 = require(\"../fetch\");\nvar sessionClaimValidatorStore_1 = require(\"./sessionClaimValidatorStore\");\nfunction getGlobalClaimValidators(overrideGlobalClaimValidators, userContext) {\n    var normalisedUserContext = (0, _1.getNormalisedUserContext)(userContext);\n    var claimValidatorsAddedByOtherRecipes =\n        sessionClaimValidatorStore_1.default.getClaimValidatorsAddedByOtherRecipes();\n    var globalClaimValidators = fetch_1.default.recipeImpl.getGlobalClaimValidators({\n        claimValidatorsAddedByOtherRecipes: claimValidatorsAddedByOtherRecipes,\n        userContext: normalisedUserContext\n    });\n    var claimValidators =\n        overrideGlobalClaimValidators !== undefined\n            ? overrideGlobalClaimValidators(globalClaimValidators, normalisedUserContext)\n            : globalClaimValidators;\n    return claimValidators;\n}\nexports.getGlobalClaimValidators = getGlobalClaimValidators;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/utils/globalClaimValidators\"));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getGlobalClaimValidators =\n    exports.getHashFromLocation =\n    exports.getNormalisedUserContext =\n    exports.checkForSSRErrorAndAppendIfNeeded =\n    exports.getAllQueryParams =\n    exports.getQueryParams =\n    exports.isTest =\n    exports.normaliseInputAppInfoOrThrowError =\n    exports.appendQueryParamsToURL =\n        void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar windowHandler_1 = require(\"./windowHandler\");\nvar constants_1 = require(\"./constants\");\nvar normalisedURLDomain_1 = require(\"./normalisedURLDomain\");\nvar normalisedURLPath_1 = require(\"./normalisedURLPath\");\nvar globalClaimValidators_1 = require(\"supertokens-website/utils/globalClaimValidators\");\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n    if (queryParams === undefined) {\n        return stringUrl;\n    }\n    try {\n        var url_1 = new URL(stringUrl);\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_1.searchParams.set(key, value);\n        });\n        return url_1.href;\n    } catch (e) {\n        var fakeDomain = stringUrl.startsWith(\"/\") ? \"http:localhost\" : \"http://localhost/\";\n        var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_2.searchParams.set(key, value);\n        });\n        return \"\".concat(url_2.pathname).concat(url_2.search);\n    }\n}\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n    if (path !== undefined) {\n        return new normalisedURLPath_1.default(path);\n    } else {\n        return new normalisedURLPath_1.default(defaultPath);\n    }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n    if (appInfo === undefined) {\n        throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.apiDomain === undefined) {\n        throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.appName === undefined) {\n        throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n    }\n    var apiGatewayPath = new normalisedURLPath_1.default(\"\");\n    if (appInfo.apiGatewayPath !== undefined) {\n        apiGatewayPath = new normalisedURLPath_1.default(appInfo.apiGatewayPath);\n    }\n    return {\n        appName: appInfo.appName,\n        apiDomain: new normalisedURLDomain_1.default(appInfo.apiDomain),\n        apiBasePath: apiGatewayPath.appendPath(\n            getNormalisedURLPathOrDefault(constants_1.DEFAULT_API_BASE_PATH, appInfo.apiBasePath)\n        ),\n    };\n}\nexports.normaliseInputAppInfoOrThrowError = normaliseInputAppInfoOrThrowError;\nfunction isTest() {\n    try {\n        return process.env.TEST_MODE === \"testing\";\n    } catch (err) {\n        // can get Uncaught ReferenceError: process is not defined error\n        return false;\n    }\n}\nexports.isTest = isTest;\nfunction getQueryParams(param) {\n    var urlParams = new URLSearchParams(\n        windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n    var queryParam = urlParams.get(param);\n    if (queryParam === null) {\n        return undefined;\n    }\n    return queryParam;\n}\nexports.getQueryParams = getQueryParams;\nfunction getAllQueryParams() {\n    return new URLSearchParams(\n        windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n}\nexports.getAllQueryParams = getAllQueryParams;\nfunction checkForSSRErrorAndAppendIfNeeded(error) {\n    // tslint:disable-next-line\n    if (typeof window === \"undefined\") {\n        error = error + constants_1.SSR_ERROR;\n    }\n    return error;\n}\nexports.checkForSSRErrorAndAppendIfNeeded = checkForSSRErrorAndAppendIfNeeded;\nfunction getNormalisedUserContext(userContext) {\n    return userContext === undefined ? {} : userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\nfunction getHashFromLocation() {\n    // By default it is returned with the \"#\" at the beginning, we cut that off here.\n    return windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substring(1);\n}\nexports.getHashFromLocation = getHashFromLocation;\nfunction getGlobalClaimValidators(_a) {\n    var overrideGlobalClaimValidators = _a.overrideGlobalClaimValidators,\n        userContext = _a.userContext;\n    return (0, globalClaimValidators_1.getGlobalClaimValidators)(overrideGlobalClaimValidators, userContext);\n}\nexports.getGlobalClaimValidators = getGlobalClaimValidators;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/utils/cookieHandler\"));\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CookieHandlerReference = void 0;\nvar cookieHandler_1 = require(\"supertokens-website/utils/cookieHandler\");\nObject.defineProperty(exports, \"CookieHandlerReference\", {\n    enumerable: true,\n    get: function () {\n        return cookieHandler_1.CookieHandlerReference;\n    },\n});\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PostSuperTokensInitCallbacks = void 0;\nvar PostSuperTokensInitCallbacks = /** @class */ (function () {\n    function PostSuperTokensInitCallbacks() {}\n    PostSuperTokensInitCallbacks.addPostInitCallback = function (cb) {\n        PostSuperTokensInitCallbacks.postInitCallbacks.push(cb);\n    };\n    PostSuperTokensInitCallbacks.runPostInitCallbacks = function () {\n        for (var _i = 0, _a = PostSuperTokensInitCallbacks.postInitCallbacks; _i < _a.length; _i++) {\n            var cb = _a[_i];\n            cb();\n        }\n    };\n    PostSuperTokensInitCallbacks.postInitCallbacks = [];\n    return PostSuperTokensInitCallbacks;\n})();\nexports.PostSuperTokensInitCallbacks = PostSuperTokensInitCallbacks;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseRecipeModuleConfig = void 0;\nfunction normaliseRecipeModuleConfig(config) {\n    var _this = this;\n    var preAPIHook = config.preAPIHook;\n    if (preAPIHook === undefined) {\n        preAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, context];\n                });\n            });\n        };\n    }\n    var postAPIHook = config.postAPIHook;\n    if (postAPIHook === undefined) {\n        postAPIHook = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/];\n                });\n            });\n        };\n    }\n    return {\n        recipeId: config.recipeId,\n        appInfo: config.appInfo,\n        clientType: config.clientType,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n    };\n}\nexports.normaliseRecipeModuleConfig = normaliseRecipeModuleConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseAuthRecipe = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../recipeModule/utils\");\nfunction normaliseAuthRecipe(config) {\n    return (0, utils_1.normaliseRecipeModuleConfig)(config);\n}\nexports.normaliseAuthRecipe = normaliseAuthRecipe;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseUserInput = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../authRecipe/utils\");\nfunction normaliseUserInput(config) {\n    var override = __assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return __assign(__assign({}, (0, utils_1.normaliseAuthRecipe)(config)), { override: override });\n}\nexports.normaliseUserInput = normaliseUserInput;\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProxyObject = void 0;\nfunction getProxyObject(orig) {\n    var ret = __assign(__assign({}, orig), { _call: function (_, __) {\n            throw new Error(\"This function should only be called through the recipe object\");\n        } });\n    var keys = Object.keys(ret);\n    var _loop_1 = function (k) {\n        if (k !== \"_call\") {\n            ret[k] = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return this._call(k, args);\n            };\n        }\n    };\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        _loop_1(k);\n    }\n    return ret;\n}\nexports.getProxyObject = getProxyObject;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OverrideableBuilder = void 0;\nvar getProxyObject_1 = require(\"./getProxyObject\");\nvar OverrideableBuilder = /** @class */ (function () {\n    function OverrideableBuilder(originalImplementation) {\n        this.layers = [originalImplementation];\n        this.proxies = [];\n    }\n    OverrideableBuilder.prototype.override = function (overrideFunc) {\n        var proxy = (0, getProxyObject_1.getProxyObject)(this.layers[0]);\n        var layer = overrideFunc(proxy, this);\n        for (var _i = 0, _a = Object.keys(this.layers[0]); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (layer[key] === proxy[key] || key === \"_call\") {\n                delete layer[key];\n            }\n            else if (layer[key] === undefined) {\n                layer[key] = null;\n            }\n        }\n        this.layers.push(layer);\n        this.proxies.push(proxy);\n        return this;\n    };\n    OverrideableBuilder.prototype.build = function () {\n        var _this = this;\n        if (this.result) {\n            return this.result;\n        }\n        this.result = {};\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\n            var layer = _a[_i];\n            for (var _b = 0, _c = Object.keys(layer); _b < _c.length; _b++) {\n                var key = _c[_b];\n                var override = layer[key];\n                if (override !== undefined) {\n                    if (override === null) {\n                        this.result[key] = undefined;\n                    }\n                    else if (typeof override === \"function\") {\n                        this.result[key] = override.bind(this.result);\n                    }\n                    else {\n                        this.result[key] = override;\n                    }\n                }\n            }\n        }\n        var _loop_1 = function (proxyInd) {\n            var proxy = this_1.proxies[proxyInd];\n            proxy._call = function (fname, args) {\n                for (var i = proxyInd; i >= 0; --i) {\n                    var func = _this.layers[i][fname];\n                    if (func !== undefined && func !== null) {\n                        return func.bind(_this.result).apply(void 0, args);\n                    }\n                }\n            };\n        };\n        var this_1 = this;\n        for (var proxyInd = 0; proxyInd < this.proxies.length; ++proxyInd) {\n            _loop_1(proxyInd);\n        }\n        return this.result;\n    };\n    return OverrideableBuilder;\n}());\nexports.OverrideableBuilder = OverrideableBuilder;\nexports.default = OverrideableBuilder;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supported_fdi = exports.package_version = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.package_version = \"0.7.3\";\nexports.supported_fdi = [\"1.17\"];\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.STGeneralError = void 0;\n/**\n * This error usually indicates that the API exposed by the backend SDKs responded\n * with `{status: \"GENERAL_ERROR\"}`. This should be used to show errors to the user\n * in your frontend application.\n */\nvar STGeneralError = /** @class */ (function (_super) {\n    __extends(STGeneralError, _super);\n    function STGeneralError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.isSuperTokensGeneralError = true;\n        return _this;\n    }\n    STGeneralError.isThisError = function (err) {\n        return err.isSuperTokensGeneralError === true;\n    };\n    return STGeneralError;\n})(Error);\nexports.STGeneralError = STGeneralError;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n  for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../../lib/build/error\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * This error usually indicates that the API exposed by the backend SDKs responded\n * with `{status: \"GENERAL_ERROR\"}`. This should be used to show errors to the user\n * in your frontend application.\n */\nvar error_1 = require(\"supertokens-website/utils/error\");\nexports.default = error_1.STGeneralError;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar normalisedURLPath_1 = require(\"./normalisedURLPath\");\nvar version_1 = require(\"./version\");\nvar error_1 = require(\"./error\");\n/**\n * When network calls are made the Querier calls .clone() on the response before:\n * 1. Calling the post API hook\n * 2. Calling .json() when trying to read the body\n *\n * This is because the SDK needs to read the json body but we also want to allow users to read\n * the json body themselves (either in the post api hook or from the result of recipe functions)\n * for custom response handling. Since the body can only be read once we use .clone() to allow\n * for multiple reads.\n */\nvar Querier = /** @class */ (function () {\n    function Querier(recipeId, appInfo) {\n        var _this = this;\n        this.recipeId = recipeId;\n        this.appInfo = appInfo;\n        this.get = function (tenantId, path, config, queryParams, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path, queryParams),\n                                    __assign({ method: \"GET\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.post = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (config.body === undefined) {\n                                throw new Error(\"Post request must have a body\");\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"POST\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.delete = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"DELETE\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.put = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"PUT\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.fetch = function (url, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var headers, _b, requestInit, modifiedUrl, result, reponseForPostAPI;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (config === undefined) {\n                                headers = {};\n                            } else {\n                                headers = config.headers;\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.callPreAPIHook({\n                                    preAPIHook: preAPIHook,\n                                    url: url,\n                                    requestInit: __assign(__assign({}, config), {\n                                        headers: __assign(__assign({}, headers), {\n                                            \"fdi-version\": version_1.supported_fdi.join(\",\"),\n                                            \"Content-Type\": \"application/json\",\n                                            rid: this.recipeId,\n                                        }),\n                                    }),\n                                }),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (requestInit = _b.requestInit), (modifiedUrl = _b.url);\n                            return [4 /*yield*/, fetch(modifiedUrl, requestInit)];\n                        case 2:\n                            result = _c.sent();\n                            if (result.status >= 300) {\n                                throw result;\n                            }\n                            if (!(postAPIHook !== undefined)) return [3 /*break*/, 4];\n                            reponseForPostAPI = result.clone();\n                            return [\n                                4 /*yield*/,\n                                postAPIHook({\n                                    requestInit: requestInit,\n                                    url: url,\n                                    fetchResponse: reponseForPostAPI,\n                                }),\n                            ];\n                        case 3:\n                            _c.sent();\n                            _c.label = 4;\n                        case 4:\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        /*\n         * For backward compatibility\n         */\n        this.callPreAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (context.preAPIHook === undefined) {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        url: context.url,\n                                        requestInit: context.requestInit,\n                                    },\n                                ];\n                            }\n                            return [\n                                4 /*yield*/,\n                                context.preAPIHook({\n                                    url: context.url,\n                                    requestInit: context.requestInit,\n                                }),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        this.getFullUrl = function (tenantId, pathStr, queryParams) {\n            var basePath = _this.appInfo.apiBasePath.getAsStringDangerous();\n            if (tenantId !== undefined && tenantId !== \"public\") {\n                basePath = \"\".concat(basePath, \"/\").concat(tenantId);\n            }\n            var path = new normalisedURLPath_1.default(pathStr);\n            var fullUrl = \"\"\n                .concat(_this.appInfo.apiDomain.getAsStringDangerous())\n                .concat(basePath)\n                .concat(path.getAsStringDangerous());\n            if (queryParams === undefined) {\n                return fullUrl;\n            }\n            // If query params, add.\n            return fullUrl + \"?\" + new URLSearchParams(queryParams);\n        };\n        this.getResponseJsonOrThrowGeneralError = function (response) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var json, message;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [4 /*yield*/, response.clone().json()];\n                        case 1:\n                            json = _b.sent();\n                            if (json.status === \"GENERAL_ERROR\") {\n                                message = json.message === undefined ? \"No Error Message Provided\" : json.message;\n                                throw new error_1.default(message);\n                            }\n                            return [2 /*return*/, json];\n                    }\n                });\n            });\n        };\n    }\n    var _a;\n    _a = Querier;\n    Querier.preparePreAPIHook = function (_b) {\n        var recipePreAPIHook = _b.recipePreAPIHook,\n            action = _b.action,\n            options = _b.options,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                var postRecipeHookContext;\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePreAPIHook(\n                                    __assign(__assign({}, context), { action: action, userContext: userContext })\n                                ),\n                            ];\n                        case 1:\n                            postRecipeHookContext = _b.sent();\n                            if (options === undefined || options.preAPIHook === undefined) {\n                                return [2 /*return*/, postRecipeHookContext];\n                            }\n                            return [\n                                2 /*return*/,\n                                options.preAPIHook({\n                                    url: postRecipeHookContext.url,\n                                    requestInit: postRecipeHookContext.requestInit,\n                                    userContext: userContext,\n                                }),\n                            ];\n                    }\n                });\n            });\n        };\n    };\n    Querier.preparePostAPIHook = function (_b) {\n        var recipePostAPIHook = _b.recipePostAPIHook,\n            action = _b.action,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePostAPIHook(\n                                    __assign(__assign({}, context), { userContext: userContext, action: action })\n                                ),\n                            ];\n                        case 1:\n                            _b.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    };\n    return Querier;\n})();\nexports.default = Querier;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRecipeImplementation = void 0;\nvar querier_1 = require(\"../../querier\");\nfunction getRecipeImplementation(recipeImplInput) {\n    var querier = new querier_1.default(recipeImplInput.recipeId, recipeImplInput.appInfo);\n    return {\n        getTenantId: function () {\n            return undefined; // This defaults to the \"public\" tenant\n        },\n        getLoginMethods: function (_a) {\n            var tenantId = _a.tenantId,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var queryParams, _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            queryParams = {};\n                            if (recipeImplInput.clientType !== undefined) {\n                                queryParams.clientType = recipeImplInput.clientType;\n                            }\n                            return [\n                                4 /*yield*/,\n                                querier.get(\n                                    tenantId,\n                                    \"/loginmethods\",\n                                    {},\n                                    queryParams,\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"GET_LOGIN_METHODS\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"GET_LOGIN_METHODS\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            return [2 /*return*/, __assign(__assign({}, jsonBody), { fetchResponse: fetchResponse })];\n                    }\n                });\n            });\n        },\n    };\n}\nexports.default = getRecipeImplementation;\nexports.getRecipeImplementation = getRecipeImplementation;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecipeModule = /** @class */ (function () {\n    function RecipeModule(config) {\n        this.config = config;\n    }\n    return RecipeModule;\n})();\nexports.default = RecipeModule;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAxiosErrorFromAxiosResp = exports.createAxiosErrorFromFetchResp = void 0;\n/**\n * From axios package\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nfunction enhanceAxiosError(error, config, code, request, response) {\n    error.config = config;\n    if (code) {\n        error.code = code;\n    }\n    error.request = request;\n    error.response = response;\n    error.isAxiosError = true;\n    error.toJSON = function toJSON() {\n        return {\n            // Standard\n            message: this.message,\n            name: this.name,\n            // Microsoft\n            description: this.description,\n            number: this.number,\n            // Mozilla\n            fileName: this.fileName,\n            lineNumber: this.lineNumber,\n            columnNumber: this.columnNumber,\n            stack: this.stack,\n            // Axios\n            config: this.config,\n            code: this.code\n        };\n    };\n    return error;\n}\nfunction createAxiosErrorFromFetchResp(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var config, contentType, data, _a, axiosResponse;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    config = {\n                        url: response.url,\n                        headers: response.headers\n                    };\n                    contentType = response.headers.get(\"content-type\");\n                    if (!(contentType === null)) return [3 /*break*/, 5];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    data = _b.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    _a = _b.sent();\n                    data = \"\";\n                    return [3 /*break*/, 4];\n                case 4:\n                    return [3 /*break*/, 11];\n                case 5:\n                    if (!contentType.includes(\"application/json\")) return [3 /*break*/, 7];\n                    return [4 /*yield*/, response.json()];\n                case 6:\n                    data = _b.sent();\n                    return [3 /*break*/, 11];\n                case 7:\n                    if (!contentType.includes(\"text/\")) return [3 /*break*/, 9];\n                    return [4 /*yield*/, response.text()];\n                case 8:\n                    data = _b.sent();\n                    return [3 /*break*/, 11];\n                case 9:\n                    return [4 /*yield*/, response.blob()];\n                case 10:\n                    data = _b.sent();\n                    _b.label = 11;\n                case 11:\n                    axiosResponse = {\n                        data: data,\n                        status: response.status,\n                        statusText: response.statusText,\n                        headers: response.headers,\n                        config: config,\n                        request: undefined\n                    };\n                    return [\n                        2 /*return*/,\n                        enhanceAxiosError(\n                            new Error(\"Request failed with status code \" + response.status),\n                            config,\n                            undefined,\n                            undefined,\n                            axiosResponse\n                        )\n                    ];\n            }\n        });\n    });\n}\nexports.createAxiosErrorFromFetchResp = createAxiosErrorFromFetchResp;\nfunction createAxiosErrorFromAxiosResp(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [\n                2 /*return*/,\n                enhanceAxiosError(\n                    new Error(\"Request failed with status code \" + response.status),\n                    response.config,\n                    undefined,\n                    response.request,\n                    response\n                )\n            ];\n        });\n    });\n}\nexports.createAxiosErrorFromAxiosResp = createAxiosErrorFromAxiosResp;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.responseErrorInterceptor = exports.responseInterceptor = exports.interceptorFunctionRequestFulfilled = void 0;\nvar axiosError_1 = require(\"./axiosError\");\nvar fetch_1 = require(\"./fetch\");\nvar processState_1 = require(\"./processState\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar logger_1 = require(\"./logger\");\nfunction getUrlFromConfig(config) {\n    var url = config.url === undefined ? \"\" : config.url;\n    var baseURL = config.baseURL;\n    if (baseURL !== undefined) {\n        if (url.charAt(0) === \"/\" && baseURL.charAt(baseURL.length - 1) === \"/\") {\n            url = baseURL + url.substr(1);\n        } else if (url.charAt(0) !== \"/\" && baseURL.charAt(baseURL.length - 1) !== \"/\") {\n            url = baseURL + \"/\" + url;\n        } else {\n            url = baseURL + url;\n        }\n    }\n    return url;\n}\nfunction interceptorFunctionRequestFulfilled(config) {\n    return __awaiter(this, void 0, void 0, function () {\n        var url, doNotDoInterception, preRequestLSS, configWithAntiCsrf, antiCsrfToken, transferMethod;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: started axios interception\");\n                    url = getUrlFromConfig(config);\n                    doNotDoInterception = false;\n                    try {\n                        doNotDoInterception =\n                            typeof url === \"string\" &&\n                            !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                url,\n                                fetch_1.default.config.apiDomain,\n                                fetch_1.default.config.sessionTokenBackendDomain\n                            );\n                    } catch (err) {\n                        if (err.message === \"Please provide a valid domain name\") {\n                            (0, logger_1.logDebugMessage)(\n                                \"interceptorFunctionRequestFulfilled: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                            );\n                            // .origin gives the port as well..\n                            doNotDoInterception = !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                                fetch_1.default.config.apiDomain,\n                                fetch_1.default.config.sessionTokenBackendDomain\n                            );\n                        } else {\n                            throw err;\n                        }\n                    }\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Value of doNotDoInterception: \" + doNotDoInterception);\n                    if (doNotDoInterception) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Returning config unchanged\"\n                        );\n                        // this check means that if you are using axios via inteceptor, then we only do the refresh steps if you are calling your APIs.\n                        return [2 /*return*/, config];\n                    }\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Modifying config\");\n                    processState_1.ProcessState.getInstance().addState(\n                        processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n                    );\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 1:\n                    preRequestLSS = _a.sent();\n                    configWithAntiCsrf = config;\n                    if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 3];\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                case 2:\n                    antiCsrfToken = _a.sent();\n                    if (antiCsrfToken !== undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Adding anti-csrf token to request\"\n                        );\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                            headers:\n                                configWithAntiCsrf === undefined\n                                    ? {\n                                          \"anti-csrf\": antiCsrfToken\n                                      }\n                                    : __assign(__assign({}, configWithAntiCsrf.headers), { \"anti-csrf\": antiCsrfToken })\n                        });\n                    }\n                    _a.label = 3;\n                case 3:\n                    if (fetch_1.default.config.autoAddCredentials && configWithAntiCsrf.withCredentials === undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Adding credentials include\"\n                        );\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), { withCredentials: true });\n                    }\n                    // adding rid for anti-csrf protection: Anti-csrf via custom header\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Adding rid header: anti-csrf (it may be overriden by the user's provided rid)\");\n                    configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                        headers:\n                            configWithAntiCsrf === undefined\n                                ? {\n                                      rid: \"anti-csrf\"\n                                  }\n                                : __assign({ rid: \"anti-csrf\" }, configWithAntiCsrf.headers)\n                    });\n                    transferMethod = fetch_1.default.config.tokenTransferMethod;\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Adding st-auth-mode header: \" + transferMethod);\n                    configWithAntiCsrf.headers[\"st-auth-mode\"] = transferMethod;\n                    return [4 /*yield*/, removeAuthHeaderIfMatchesLocalToken(configWithAntiCsrf)];\n                case 4:\n                    configWithAntiCsrf = _a.sent();\n                    return [4 /*yield*/, setAuthorizationHeaderIfRequired(configWithAntiCsrf)];\n                case 5:\n                    _a.sent();\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: returning modified config\");\n                    return [2 /*return*/, configWithAntiCsrf];\n            }\n        });\n    });\n}\nexports.interceptorFunctionRequestFulfilled = interceptorFunctionRequestFulfilled;\nfunction responseInterceptor(axiosInstance) {\n    var _this = this;\n    return function (response) {\n        return __awaiter(_this, void 0, void 0, function () {\n            var doNotDoInterception, url, preRequestLSS, config, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        doNotDoInterception = false;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, , 8, 14]);\n                        if (!fetch_1.default.initCalled) {\n                            throw new Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: started\");\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: already intercepted: \" + response.headers[\"x-supertokens-xhr-intercepted\"]);\n                        url = getUrlFromConfig(response.config);\n                        try {\n                            doNotDoInterception =\n                                (typeof url === \"string\" &&\n                                    !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                        url,\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    )) ||\n                                !!response.headers[\"x-supertokens-xhr-intercepted\"];\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"responseInterceptor: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception =\n                                    !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                        windowHandler_1.default\n                                            .getReferenceOrThrow()\n                                            .windowHandler.location.getOrigin(),\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    ) || !!response.headers[\"x-supertokens-xhr-intercepted\"];\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (doNotDoInterception) {\n                            (0, logger_1.logDebugMessage)(\"responseInterceptor: Returning without interception\");\n                            // this check means that if you are using axios via inteceptor, then we only do the refresh steps if you are calling your APIs.\n                            return [2 /*return*/, response];\n                        }\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: Interception started\");\n                        processState_1.ProcessState.getInstance().addState(\n                            processState_1.PROCESS_STATE.CALLING_INTERCEPTION_RESPONSE\n                        );\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                    case 2:\n                        preRequestLSS = _b.sent();\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 3:\n                        _b.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 4];\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: Status code is: \" + response.status);\n                        config = response.config;\n                        return [\n                            2 /*return*/,\n                            AuthHttpRequest.doRequest(\n                                function (config) {\n                                    // we create an instance since we don't want to intercept this.\n                                    // const instance = axios.create();\n                                    // return instance(config);\n                                    return axiosInstance(config);\n                                },\n                                config,\n                                url,\n                                response,\n                                undefined,\n                                true\n                            )\n                        ];\n                    case 4:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 6];\n                        // only fire event if body is defined.\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 5:\n                        // only fire event if body is defined.\n                        _b.sent();\n                        _b.label = 6;\n                    case 6:\n                        return [2 /*return*/, response];\n                    case 7:\n                        return [3 /*break*/, 14];\n                    case 8:\n                        _a = !doNotDoInterception;\n                        if (!_a) return [3 /*break*/, 10];\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                    case 9:\n                        // we do not call doesSessionExist here cause the user might override that\n                        // function here and then it may break the logic of our original implementation.\n                        _a = !(_b.sent().status === \"EXISTS\");\n                        _b.label = 10;\n                    case 10:\n                        if (!_a) return [3 /*break*/, 13];\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                    case 11:\n                        _b.sent();\n                        return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                    case 12:\n                        _b.sent();\n                        _b.label = 13;\n                    case 13:\n                        return [7 /*endfinally*/];\n                    case 14:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n}\nexports.responseInterceptor = responseInterceptor;\nfunction responseErrorInterceptor(axiosInstance) {\n    var _this = this;\n    return function (error) {\n        return __awaiter(_this, void 0, void 0, function () {\n            var config;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"responseErrorInterceptor: called\");\n                        (0,\n                        logger_1.logDebugMessage)(\"responseErrorInterceptor: already intercepted: \" + (error.response && error.response.headers[\"x-supertokens-xhr-intercepted\"]));\n                        if (error.response.headers[\"x-supertokens-xhr-intercepted\"]) {\n                            throw error;\n                        }\n                        if (\n                            !(\n                                error.response !== undefined &&\n                                error.response.status === fetch_1.default.config.sessionExpiredStatusCode\n                            )\n                        )\n                            return [3 /*break*/, 1];\n                        (0,\n                        logger_1.logDebugMessage)(\"responseErrorInterceptor: Status code is: \" + error.response.status);\n                        config = error.config;\n                        return [\n                            2 /*return*/,\n                            AuthHttpRequest.doRequest(\n                                function (config) {\n                                    // we create an instance since we don't want to intercept this.\n                                    // const instance = axios.create();\n                                    // return instance(config);\n                                    return axiosInstance(config);\n                                },\n                                config,\n                                getUrlFromConfig(config),\n                                undefined,\n                                error,\n                                true\n                            )\n                        ];\n                    case 1:\n                        if (\n                            !(\n                                error.response !== undefined &&\n                                error.response.status === fetch_1.default.config.invalidClaimStatusCode\n                            )\n                        )\n                            return [3 /*break*/, 3];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(error.response)];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        throw error;\n                }\n            });\n        });\n    };\n}\nexports.responseErrorInterceptor = responseErrorInterceptor;\n/**\n * @class AuthHttpRequest\n * @description wrapper for common http methods.\n */\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    var _a;\n    _a = AuthHttpRequest;\n    /**\n     * @description sends the actual http request and returns a response if successful/\n     * If not successful due to session expiry reasons, it\n     * attempts to call the refresh token API and if that is successful, calls this API again.\n     * @throws Error\n     */\n    AuthHttpRequest.doRequest = function (httpCall, config, url, prevResponse, prevError, viaInterceptor) {\n        if (viaInterceptor === void 0) {\n            viaInterceptor = false;\n        }\n        return __awaiter(void 0, void 0, void 0, function () {\n            var doNotDoInterception,\n                returnObj,\n                preRequestLSS,\n                configWithAntiCsrf,\n                antiCsrfToken,\n                transferMethod,\n                localPrevError,\n                localPrevResponse,\n                response,\n                _b,\n                refreshResult,\n                _c,\n                err_1,\n                response,\n                refreshResult,\n                _d,\n                postRequestIdToken;\n            return __generator(_a, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!fetch_1.default.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: called\");\n                        doNotDoInterception = false;\n                        try {\n                            doNotDoInterception =\n                                typeof url === \"string\" &&\n                                !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                    url,\n                                    fetch_1.default.config.apiDomain,\n                                    fetch_1.default.config.sessionTokenBackendDomain\n                                ) &&\n                                viaInterceptor;\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"doRequest: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception =\n                                    !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                        windowHandler_1.default\n                                            .getReferenceOrThrow()\n                                            .windowHandler.location.getOrigin(),\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    ) && viaInterceptor;\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (!doNotDoInterception) return [3 /*break*/, 2];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Returning without interception\");\n                        if (prevError !== undefined) {\n                            throw prevError;\n                        } else if (prevResponse !== undefined) {\n                            return [2 /*return*/, prevResponse];\n                        }\n                        return [4 /*yield*/, httpCall(config)];\n                    case 1:\n                        return [2 /*return*/, _e.sent()];\n                    case 2:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Interception started\");\n                        return [4 /*yield*/, removeAuthHeaderIfMatchesLocalToken(config)];\n                    case 3:\n                        config = _e.sent();\n                        _e.label = 4;\n                    case 4:\n                        _e.trys.push([4, , 40, 45]);\n                        returnObj = undefined;\n                        _e.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 39];\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                    case 6:\n                        preRequestLSS = _e.sent();\n                        configWithAntiCsrf = config;\n                        if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 8];\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                    case 7:\n                        antiCsrfToken = _e.sent();\n                        if (antiCsrfToken !== undefined) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding anti-csrf token to request\");\n                            configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                                headers:\n                                    configWithAntiCsrf === undefined\n                                        ? {\n                                              \"anti-csrf\": antiCsrfToken\n                                          }\n                                        : __assign(__assign({}, configWithAntiCsrf.headers), {\n                                              \"anti-csrf\": antiCsrfToken\n                                          })\n                            });\n                        }\n                        _e.label = 8;\n                    case 8:\n                        if (\n                            fetch_1.default.config.autoAddCredentials &&\n                            configWithAntiCsrf.withCredentials === undefined\n                        ) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding credentials include\");\n                            configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), { withCredentials: true });\n                        }\n                        // adding rid for anti-csrf protection: Anti-csrf via custom header\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Adding rid header: anti-csrf (May get overriden by user's rid)\");\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                            headers:\n                                configWithAntiCsrf === undefined\n                                    ? {\n                                          rid: \"anti-csrf\"\n                                      }\n                                    : __assign({ rid: \"anti-csrf\" }, configWithAntiCsrf.headers)\n                        });\n                        transferMethod = fetch_1.default.config.tokenTransferMethod;\n                        (0, logger_1.logDebugMessage)(\"doRequest: Adding st-auth-mode header: \" + transferMethod);\n                        configWithAntiCsrf.headers[\"st-auth-mode\"] = transferMethod;\n                        return [4 /*yield*/, setAuthorizationHeaderIfRequired(configWithAntiCsrf)];\n                    case 9:\n                        _e.sent();\n                        _e.label = 10;\n                    case 10:\n                        _e.trys.push([10, 25, , 38]);\n                        localPrevError = prevError;\n                        localPrevResponse = prevResponse;\n                        prevError = undefined;\n                        prevResponse = undefined;\n                        if (localPrevError !== undefined) {\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Not making call because localPrevError is not undefined\"\n                            );\n                            throw localPrevError;\n                        }\n                        if (localPrevResponse !== undefined) {\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Not making call because localPrevResponse is not undefined\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Making user's http call\");\n                        }\n                        if (!(localPrevResponse === undefined)) return [3 /*break*/, 12];\n                        return [4 /*yield*/, httpCall(configWithAntiCsrf)];\n                    case 11:\n                        _b = _e.sent();\n                        return [3 /*break*/, 13];\n                    case 12:\n                        _b = localPrevResponse;\n                        _e.label = 13;\n                    case 13:\n                        response = _b;\n                        (0, logger_1.logDebugMessage)(\"doRequest: User's http call ended\");\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 14:\n                        _e.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 21];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                    case 15:\n                        refreshResult = _e.sent();\n                        if (!(refreshResult.result !== \"RETRY\")) return [3 /*break*/, 20];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                        if (!refreshResult.error) return [3 /*break*/, 17];\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromFetchResp)(refreshResult.error)];\n                    case 16:\n                        _c = _e.sent();\n                        return [3 /*break*/, 19];\n                    case 17:\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromAxiosResp)(response)];\n                    case 18:\n                        _c = _e.sent();\n                        _e.label = 19;\n                    case 19:\n                        // Returning refreshResult.error as an Axios Error if we attempted a refresh\n                        // Returning the response to the original response as an error if we did not attempt refreshing\n                        returnObj = _c;\n                        return [3 /*break*/, 39];\n                    case 20:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 24];\n                    case 21:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 23];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 22:\n                        _e.sent();\n                        _e.label = 23;\n                    case 23:\n                        return [2 /*return*/, response];\n                    case 24:\n                        return [3 /*break*/, 38];\n                    case 25:\n                        err_1 = _e.sent();\n                        response = err_1.response;\n                        if (!(response !== undefined)) return [3 /*break*/, 36];\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 26:\n                        _e.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 32];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                    case 27:\n                        refreshResult = _e.sent();\n                        if (!(refreshResult.result !== \"RETRY\")) return [3 /*break*/, 31];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                        if (!(refreshResult.error !== undefined)) return [3 /*break*/, 29];\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromFetchResp)(refreshResult.error)];\n                    case 28:\n                        _d = _e.sent();\n                        return [3 /*break*/, 30];\n                    case 29:\n                        _d = err_1;\n                        _e.label = 30;\n                    case 30:\n                        // Returning refreshResult.error as an Axios Error if we attempted a refresh\n                        // Returning the original error if we did not attempt refreshing\n                        returnObj = _d;\n                        return [3 /*break*/, 39];\n                    case 31:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 35];\n                    case 32:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 34];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 33:\n                        _e.sent();\n                        _e.label = 34;\n                    case 34:\n                        throw err_1;\n                    case 35:\n                        return [3 /*break*/, 37];\n                    case 36:\n                        throw err_1;\n                    case 37:\n                        return [3 /*break*/, 38];\n                    case 38:\n                        return [3 /*break*/, 5];\n                    case 39:\n                        // if it comes here, means we called break. which happens only if we have logged out.\n                        // which means it's a 401, so we throw\n                        throw returnObj;\n                    case 40:\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                    case 41:\n                        postRequestIdToken = _e.sent();\n                        if (!(postRequestIdToken.status === \"NOT_EXISTS\")) return [3 /*break*/, 44];\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                    case 42:\n                        _e.sent();\n                        return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                    case 43:\n                        _e.sent();\n                        _e.label = 44;\n                    case 44:\n                        return [7 /*endfinally*/];\n                    case 45:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports.default = AuthHttpRequest;\nfunction setAuthorizationHeaderIfRequired(requestConfig) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (requestConfig.headers === undefined) {\n                        // This is makes TS happy\n                        requestConfig.headers = {};\n                    }\n                    (0, logger_1.logDebugMessage)(\"setAuthorizationHeaderIfRequired: adding existing tokens as header\");\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                    // Still, we only add the Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token to use\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (\n                            requestConfig.headers[\"Authorization\"] !== undefined ||\n                            requestConfig.headers[\"authorization\"] !== undefined\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: added authorization header\"\n                            );\n                            requestConfig.headers = __assign(__assign({}, requestConfig.headers), {\n                                Authorization: \"Bearer \".concat(accessToken)\n                            });\n                            requestConfig.__supertokensAddedAuthHeader = true;\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response\");\n                    refreshToken = response.headers[\"st-refresh-token\"];\n                    if (!(refreshToken !== undefined)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"refresh\", refreshToken)];\n                case 1:\n                    _b.sent();\n                    _b.label = 2;\n                case 2:\n                    accessToken = response.headers[\"st-access-token\"];\n                    if (!(accessToken !== undefined)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"access\", accessToken)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    frontToken = response.headers[\"front-token\"];\n                    if (!(frontToken !== undefined)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"doRequest: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, fetch_1.FrontToken.setItem(frontToken)];\n                case 5:\n                    _b.sent();\n                    _b.label = 6;\n                case 6:\n                    antiCsrfToken = response.headers[\"anti-csrf\"];\n                    if (!(antiCsrfToken !== undefined)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 7:\n                    tok = _b.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"doRequest: Setting anti-csrf token\");\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _b.sent();\n                    _b.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction removeAuthHeaderIfMatchesLocalToken(config) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken, authHeader, res;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    authHeader = config.headers.Authorization || config.headers.authorization;\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (authHeader === \"Bearer \".concat(accessToken) || \"__supertokensAddedAuthHeader\" in config) {\n                            // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                            // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                            // This causes an infinite refresh loop.\n                            (0, logger_1.logDebugMessage)(\n                                \"removeAuthHeaderIfMatchesLocalToken: Removing Authorization from user provided headers because it contains our access token\"\n                            );\n                            res = __assign(__assign({}, config), { headers: __assign({}, config.headers) });\n                            delete res.headers.authorization;\n                            delete res.headers.Authorization;\n                            return [2 /*return*/, res];\n                        }\n                    }\n                    return [2 /*return*/, config];\n            }\n        });\n    });\n}\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addInterceptorsToXMLHttpRequest = void 0;\nvar fetch_1 = require(\"./fetch\");\nvar logger_1 = require(\"./logger\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar processState_1 = require(\"./processState\");\nvar XHR_EVENTS = [\"readystatechange\", \"abort\", \"error\", \"load\", \"loadend\", \"loadstart\", \"progress\", \"timeout\"];\nfunction addInterceptorsToXMLHttpRequest() {\n    var firstEventLoopDone = new Promise(function (res) {\n        return setTimeout(res, 0);\n    });\n    var oldXMLHttpRequest = XMLHttpRequest;\n    (0, logger_1.logDebugMessage)(\"addInterceptorsToXMLHttpRequest called\");\n    // create XMLHttpRequest proxy object\n    // define constructor for my proxy object\n    XMLHttpRequest = function () {\n        var actual = new oldXMLHttpRequest();\n        var delayedQueue = firstEventLoopDone;\n        function delayIfNecessary(cb) {\n            delayedQueue = delayedQueue.finally(function () {\n                var _a;\n                return (_a = cb()) === null || _a === void 0 ? void 0 : _a.catch(console.error);\n            });\n        }\n        var self = this;\n        var listOfFunctionCallsInProxy = [];\n        var requestHeaders = [];\n        var customGetterValues = {};\n        var customResponseHeaders;\n        var eventHandlers = new Map();\n        // We define these during open\n        // let method: string = \"\";\n        var url = \"\";\n        var doNotDoInterception = false;\n        var preRequestLSS = undefined;\n        var body;\n        // we do not provide onerror cause that is fired only on\n        // network level failures and nothing else. If a status code is > 400,\n        // then onload and onreadystatechange are called.\n        // Setting up props (event handlers) that we use in event handlers\n        // These require processing the response (and possibly retrying) before they are forwarded to the user\n        self.onload = null;\n        self.onreadystatechange = null;\n        self.onloadend = null;\n        // TODO: add support for other event listener options\n        // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#parameters\n        self.addEventListener = function (type, listener, _options) {\n            var handlers = eventHandlers.get(type);\n            if (handlers === undefined) {\n                handlers = new Set();\n                eventHandlers.set(type, handlers);\n            }\n            handlers.add(listener);\n        };\n        self.removeEventListener = function (type, listener) {\n            var handlers = eventHandlers.get(type);\n            if (handlers === undefined) {\n                handlers = new Set();\n                eventHandlers.set(type, handlers);\n            }\n            handlers.delete(listener);\n        };\n        function redispatchEvent(name, ev) {\n            var handlers = eventHandlers.get(name);\n            (0, logger_1.logDebugMessage)(\n                \"XHRInterceptor dispatching \".concat(ev.type, \" to \").concat(handlers ? handlers.size : 0, \" listeners\")\n            );\n            if (handlers) {\n                Array.from(handlers).forEach(function (handler) {\n                    return handler.apply(self, [ev]);\n                });\n            }\n        }\n        function handleRetryPostRefreshing() {\n            return __awaiter(this, void 0, void 0, function () {\n                var refreshResult, retryXhr;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (preRequestLSS === undefined) {\n                                throw new Error(\"Should never come here..\");\n                            }\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleRetryPostRefreshing: preRequestLSS \" + preRequestLSS.status);\n                            return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                        case 1:\n                            refreshResult = _a.sent();\n                            if (refreshResult.result !== \"RETRY\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"XHRInterceptor.handleRetryPostRefreshing: Not retrying original request \" +\n                                        !!refreshResult.error\n                                );\n                                if (refreshResult.error !== undefined) {\n                                    // this will cause the responseText of the self to be updated\n                                    // to the error message and make the status code the same as\n                                    // what the error's status code is.\n                                    throw refreshResult.error;\n                                }\n                                // it can come here if refreshResult.result is SESSION_EXPIRED.\n                                // in that case, the status of self is already 401. So we let it\n                                // pass through.\n                                return [2 /*return*/, true];\n                            }\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleRetryPostRefreshing: Retrying original request\");\n                            retryXhr = new oldXMLHttpRequest();\n                            setUpXHR(self, retryXhr, true);\n                            // this also calls the send function with the appropriate body\n                            listOfFunctionCallsInProxy.forEach(function (i) {\n                                i(retryXhr);\n                            });\n                            sendXHR(retryXhr, body);\n                            return [2 /*return*/, false];\n                    }\n                });\n            });\n        }\n        function handleResponse(xhr) {\n            return __awaiter(this, void 0, void 0, function () {\n                var status_1, headers, err_1, resp;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (doNotDoInterception) {\n                                (0, logger_1.logDebugMessage)(\n                                    \"XHRInterceptor.handleResponse: Returning without interception\"\n                                );\n                                return [2 /*return*/, true];\n                            }\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 14, , 18]);\n                            _a.label = 2;\n                        case 2:\n                            _a.trys.push([2, , 8, 13]);\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: Interception started\");\n                            processState_1.ProcessState.getInstance().addState(\n                                processState_1.PROCESS_STATE.CALLING_INTERCEPTION_RESPONSE\n                            );\n                            status_1 = xhr.status;\n                            headers = getResponseHeadersFromXHR(xhr);\n                            return [4 /*yield*/, saveTokensFromHeaders(headers)];\n                        case 3:\n                            _a.sent();\n                            (0,\n                            fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", status_1, headers.get(\"front-token\"));\n                            if (!(status_1 === fetch_1.default.config.sessionExpiredStatusCode))\n                                return [3 /*break*/, 5];\n                            (0, logger_1.logDebugMessage)(\"responseInterceptor: Status code is: \" + status_1);\n                            return [4 /*yield*/, handleRetryPostRefreshing()];\n                        case 4:\n                            return [2 /*return*/, _a.sent()];\n                        case 5:\n                            if (!(status_1 === fetch_1.default.config.invalidClaimStatusCode)) return [3 /*break*/, 7];\n                            return [\n                                4 /*yield*/,\n                                (0, fetch_1.onInvalidClaimResponse)({\n                                    data: JSON.parse(xhr.responseText)\n                                })\n                            ];\n                        case 6:\n                            _a.sent();\n                            _a.label = 7;\n                        case 7:\n                            return [2 /*return*/, true];\n                        case 8:\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: doFinallyCheck running\");\n                            return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                        case 9:\n                            if (!!(_a.sent().status === \"EXISTS\")) return [3 /*break*/, 12];\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                            return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                        case 10:\n                            _a.sent();\n                            return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                        case 11:\n                            _a.sent();\n                            _a.label = 12;\n                        case 12:\n                            return [7 /*endfinally*/];\n                        case 13:\n                            return [3 /*break*/, 18];\n                        case 14:\n                            err_1 = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: caught error\");\n                            if (!(err_1.status !== undefined)) return [3 /*break*/, 16];\n                            return [4 /*yield*/, getXMLHttpStatusAndResponseTextFromFetchResponse(err_1)];\n                        case 15:\n                            resp = _a.sent();\n                            customGetterValues[\"status\"] = resp.status;\n                            customGetterValues[\"statusText\"] = resp.statusText;\n                            customGetterValues[\"responseType\"] = resp.responseType;\n                            customResponseHeaders = resp.headers;\n                            if (resp.responseType === \"json\") {\n                                try {\n                                    customGetterValues[\"response\"] = JSON.parse(resp.responseText);\n                                } catch (_b) {\n                                    customGetterValues[\"response\"] = resp.responseText;\n                                }\n                            } else {\n                                customGetterValues[\"response\"] = resp.responseText;\n                            }\n                            customGetterValues[\"responseText\"] = resp.responseText;\n                            return [3 /*break*/, 17];\n                        case 16:\n                            // Here we only need to handle fetch related errors, from the refresh endpoint called by the retry\n                            // So we should only get network level errors here\n                            redispatchEvent(\"error\", new Event(\"error\"));\n                            _a.label = 17;\n                        case 17:\n                            return [2 /*return*/, true];\n                        case 18:\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        }\n        self.open = function (_, u) {\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.open called\");\n            var args = arguments;\n            // method = m;\n            url = u;\n            try {\n                doNotDoInterception =\n                    (typeof url === \"string\" &&\n                        !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                            url,\n                            fetch_1.default.config.apiDomain,\n                            fetch_1.default.config.sessionTokenBackendDomain\n                        )) ||\n                    (typeof url !== \"string\" &&\n                        !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                            url.toString(),\n                            fetch_1.default.config.apiDomain,\n                            fetch_1.default.config.sessionTokenBackendDomain\n                        ));\n            } catch (err) {\n                if (err.message === \"Please provide a valid domain name\") {\n                    (0, logger_1.logDebugMessage)(\n                        \"XHRInterceptor.open: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                    );\n                    // .origin gives the port as well..\n                    doNotDoInterception = !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                        windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                        fetch_1.default.config.apiDomain,\n                        fetch_1.default.config.sessionTokenBackendDomain\n                    );\n                } else {\n                    throw err;\n                }\n            }\n            delayIfNecessary(function () {\n                listOfFunctionCallsInProxy.push(function (xhr) {\n                    xhr.open.apply(xhr, args);\n                });\n                // here we use the apply syntax cause there are other optional args that\n                // can be passed by the user.\n                actual.open.apply(actual, args);\n            });\n        };\n        self.send = function (inputBody) {\n            body = inputBody;\n            sendXHR(actual, body);\n        };\n        self.setRequestHeader = function (name, value) {\n            var _this = this;\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.setRequestHeader: Called with \".concat(name));\n            if (doNotDoInterception) {\n                delayIfNecessary(function () {\n                    return actual.setRequestHeader(name, value);\n                });\n                return;\n            }\n            // We need to do this, because if there is another interceptor wrapping this (e.g.: the axios interceptor)\n            // then the anti-csrf token they add would be concatenated to the anti-csrf token added by this interceptor\n            if (name === \"anti-csrf\") {\n                return;\n            }\n            delayIfNecessary(function () {\n                return __awaiter(_this, void 0, void 0, function () {\n                    var accessToken, refreshToken;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                if (!(name.toLowerCase() === \"authorization\")) return [3 /*break*/, 3];\n                                (0,\n                                logger_1.logDebugMessage)(\"XHRInterceptor.setRequestHeader: checking if user provided auth header matches local token\");\n                                return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                            case 1:\n                                accessToken = _a.sent();\n                                return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                            case 2:\n                                refreshToken = _a.sent();\n                                if (\n                                    accessToken !== undefined &&\n                                    refreshToken !== undefined &&\n                                    value === \"Bearer \".concat(accessToken)\n                                ) {\n                                    // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                                    // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                                    // This causes an infinite refresh loop.\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.setRequestHeader: skipping Authorization from user provided headers because it contains our access token\"\n                                    );\n                                    return [2 /*return*/];\n                                }\n                                _a.label = 3;\n                            case 3:\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr.setRequestHeader(name, value);\n                                });\n                                // The original version \"combines\" headers according to MDN.\n                                requestHeaders.push({ name: name, value: value });\n                                actual.setRequestHeader(name, value);\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            });\n        };\n        var copiedProps = undefined;\n        setUpXHR(self, actual, false);\n        function setUpXHR(self, xhr, isRetry) {\n            var responseProcessed;\n            var delayedEvents = [\"load\", \"loadend\", \"readystatechange\"];\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.setUpXHR called\");\n            var _loop_1 = function (name_1) {\n                (0, logger_1.logDebugMessage)(\"XHRInterceptor added listener for event \".concat(name_1));\n                xhr.addEventListener(name_1, function (ev) {\n                    (0, logger_1.logDebugMessage)(\"XHRInterceptor got event \".concat(name_1));\n                    if (!delayedEvents.includes(name_1)) {\n                        redispatchEvent(name_1, ev);\n                    }\n                });\n            };\n            for (var _i = 0, XHR_EVENTS_1 = XHR_EVENTS; _i < XHR_EVENTS_1.length; _i++) {\n                var name_1 = XHR_EVENTS_1[_i];\n                _loop_1(name_1);\n            }\n            xhr.onload = function (ev) {\n                if (responseProcessed === undefined) {\n                    responseProcessed = handleResponse(xhr);\n                }\n                responseProcessed.then(function (callself) {\n                    if (!callself) {\n                        return;\n                    }\n                    if (self.onload) {\n                        self.onload(ev);\n                    }\n                    redispatchEvent(\"load\", ev);\n                });\n            };\n            xhr.onreadystatechange = function (ev) {\n                // In local files, status is 0 upon success in Mozilla Firefox\n                if (xhr.readyState === oldXMLHttpRequest.DONE) {\n                    if (responseProcessed === undefined) {\n                        responseProcessed = handleResponse(xhr);\n                    }\n                    responseProcessed.then(function (callself) {\n                        if (!callself) {\n                            return;\n                        }\n                        if (self.onreadystatechange) self.onreadystatechange(ev);\n                        redispatchEvent(\"readystatechange\", ev);\n                    });\n                } else {\n                    if (self.onreadystatechange) {\n                        self.onreadystatechange(ev);\n                    }\n                    redispatchEvent(\"readystatechange\", ev);\n                }\n            };\n            xhr.onloadend = function (ev) {\n                if (responseProcessed === undefined) {\n                    responseProcessed = handleResponse(xhr);\n                }\n                responseProcessed.then(function (callself) {\n                    if (!callself) {\n                        return;\n                    }\n                    if (self.onloadend) {\n                        self.onloadend(ev);\n                    }\n                    redispatchEvent(\"loadend\", ev);\n                });\n            };\n            self.getAllResponseHeaders = function () {\n                var headersString;\n                if (customResponseHeaders) {\n                    headersString = \"\";\n                    customResponseHeaders.forEach(function (v, k) {\n                        return (headersString += \"\".concat(k, \": \").concat(v, \"\\r\\n\"));\n                    });\n                } else {\n                    headersString = xhr.getAllResponseHeaders();\n                }\n                // We use this \"fake-header\" to signal other interceptors (axios) that this is done\n                // in case both is applied\n                return headersString + \"x-supertokens-xhr-intercepted: true\\r\\n\";\n            };\n            self.getResponseHeader = function (name) {\n                if (name === \"x-supertokens-xhr-intercepted\") {\n                    return \"true\";\n                }\n                if (customResponseHeaders) {\n                    return customResponseHeaders.get(name);\n                }\n                return xhr.getResponseHeader(name);\n            };\n            if (copiedProps === undefined) {\n                copiedProps = [];\n                // iterate all properties in actual to proxy them according to their type\n                // For functions, we call actual and return the result\n                // For non-functions, we make getters/setters\n                // If the property already exists on self, then don't proxy it\n                for (var prop in xhr) {\n                    // skip properties we already have - this will skip both the above defined properties\n                    // that we don't want to proxy and skip properties on the prototype belonging to Object\n                    if (!(prop in self)) {\n                        // We save these props into an array - in case we need to set up a retry XHR\n                        copiedProps.push(prop);\n                    }\n                }\n            }\n            var _loop_2 = function (prop) {\n                if (typeof xhr[prop] === \"function\") {\n                    // define our own property that calls the same method on the actual\n                    Object.defineProperty(self, prop, {\n                        configurable: true,\n                        value: function () {\n                            var args = arguments;\n                            if (!isRetry) {\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr[prop].apply(xhr, args);\n                                });\n                            }\n                            return xhr[prop].apply(xhr, args);\n                        }\n                    });\n                } else {\n                    // define our own property that just gets or sets the same prop on the actual\n                    Object.defineProperty(self, prop, {\n                        configurable: true,\n                        get: function () {\n                            if (customGetterValues[prop] !== undefined) {\n                                return customGetterValues[prop];\n                            }\n                            return xhr[prop];\n                        },\n                        set: function (val) {\n                            if (!isRetry) {\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr[prop] = val;\n                                });\n                            }\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.set[\".concat(prop, \"] = \").concat(val));\n                            xhr[prop] = val;\n                        }\n                    });\n                }\n            };\n            for (var _a = 0, copiedProps_1 = copiedProps; _a < copiedProps_1.length; _a++) {\n                var prop = copiedProps_1[_a];\n                _loop_2(prop);\n            }\n        }\n        function sendXHR(xhr, body) {\n            var _this = this;\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: called\");\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Value of doNotDoInterception: \" + doNotDoInterception);\n            if (doNotDoInterception) {\n                (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Returning without interception\");\n                delayIfNecessary(function () {\n                    return xhr.send(body);\n                });\n                return;\n            }\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Interception started\");\n            processState_1.ProcessState.getInstance().addState(\n                processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n            );\n            delayIfNecessary(function () {\n                return __awaiter(_this, void 0, void 0, function () {\n                    var antiCsrfToken, transferMethod;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                            case 1:\n                                preRequestLSS = _a.sent();\n                                if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 3];\n                                return [\n                                    4 /*yield*/,\n                                    fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)\n                                ];\n                            case 2:\n                                antiCsrfToken = _a.sent();\n                                if (antiCsrfToken !== undefined) {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: Adding anti-csrf token to request\"\n                                    );\n                                    xhr.setRequestHeader(\"anti-csrf\", antiCsrfToken);\n                                }\n                                _a.label = 3;\n                            case 3:\n                                if (fetch_1.default.config.autoAddCredentials) {\n                                    (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Adding credentials include\");\n                                    self.withCredentials = true;\n                                }\n                                if (\n                                    !requestHeaders.some(function (i) {\n                                        return i.name === \"rid\";\n                                    })\n                                ) {\n                                    (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Adding rid header: anti-csrf\");\n                                    xhr.setRequestHeader(\"rid\", \"anti-csrf\");\n                                } else {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: rid header was already there in request\"\n                                    );\n                                }\n                                transferMethod = fetch_1.default.config.tokenTransferMethod;\n                                if (\n                                    !requestHeaders.some(function (i) {\n                                        return i.name === \"st-auth-mode\";\n                                    })\n                                ) {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: Adding st-auth-mode header: \" + transferMethod\n                                    );\n                                    xhr.setRequestHeader(\"st-auth-mode\", transferMethod);\n                                } else {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: st-auth-mode header was already there in request\"\n                                    );\n                                }\n                                return [4 /*yield*/, setAuthorizationHeaderIfRequired(xhr, requestHeaders)];\n                            case 4:\n                                _a.sent();\n                                (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Making user's http call\");\n                                return [2 /*return*/, xhr.send(body)];\n                        }\n                    });\n                });\n            });\n        }\n    };\n    // This can be used by other interceptors (axios) to detect if this interceptor has been added or not\n    XMLHttpRequest.__interceptedBySuperTokens = true;\n    XMLHttpRequest.__original = oldXMLHttpRequest;\n}\nexports.addInterceptorsToXMLHttpRequest = addInterceptorsToXMLHttpRequest;\nfunction getXMLHttpStatusAndResponseTextFromFetchResponse(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var contentType, data, responseType, _a, _b, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    contentType = response.headers.get(\"content-type\");\n                    data = \"\";\n                    responseType = \"text\";\n                    if (!(contentType === null)) return [3 /*break*/, 5];\n                    _d.label = 1;\n                case 1:\n                    _d.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    data = _d.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    _a = _d.sent();\n                    data = \"\";\n                    return [3 /*break*/, 4];\n                case 4:\n                    return [3 /*break*/, 9];\n                case 5:\n                    if (!contentType.includes(\"application/json\")) return [3 /*break*/, 7];\n                    responseType = \"json\";\n                    _c = (_b = JSON).stringify;\n                    return [4 /*yield*/, response.json()];\n                case 6:\n                    data = _c.apply(_b, [_d.sent()]);\n                    return [3 /*break*/, 9];\n                case 7:\n                    if (!contentType.includes(\"text/\")) return [3 /*break*/, 9];\n                    return [4 /*yield*/, response.text()];\n                case 8:\n                    data = _d.sent();\n                    _d.label = 9;\n                case 9:\n                    return [\n                        2 /*return*/,\n                        {\n                            status: response.status,\n                            responseText: data,\n                            statusText: response.statusText,\n                            responseType: responseType,\n                            headers: response.headers\n                        }\n                    ];\n            }\n        });\n    });\n}\nfunction setAuthorizationHeaderIfRequired(xhr, requestHeaders) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setAuthorizationHeaderIfRequired: adding existing tokens as header\");\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _a.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _a.sent();\n                    // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                    // Still, we only add the Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token to use\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (\n                            requestHeaders.some(function (_a) {\n                                var name = _a.name;\n                                return name.toLowerCase() === \"authorization\";\n                            })\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            if (accessToken !== undefined) {\n                                (0, logger_1.logDebugMessage)(\n                                    \"setAuthorizationHeaderIfRequired: added authorization header\"\n                                );\n                                xhr.setRequestHeader(\"Authorization\", \"Bearer \".concat(accessToken));\n                            }\n                            // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(headers) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response\");\n                    refreshToken = headers.get(\"st-refresh-token\");\n                    if (!(refreshToken !== null)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"refresh\", refreshToken)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2:\n                    accessToken = headers.get(\"st-access-token\");\n                    if (!(accessToken !== null)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"access\", accessToken)];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4:\n                    frontToken = headers.get(\"front-token\");\n                    if (!(frontToken !== null)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, fetch_1.FrontToken.setItem(frontToken)];\n                case 5:\n                    _a.sent();\n                    _a.label = 6;\n                case 6:\n                    antiCsrfToken = headers.get(\"anti-csrf\");\n                    if (!(antiCsrfToken !== null)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 7:\n                    tok = _a.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting anti-csrf token\");\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _a.sent();\n                    _a.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getResponseHeadersFromXHR(xhr) {\n    return new Headers(\n        xhr\n            .getAllResponseHeaders()\n            .split(\"\\r\\n\")\n            .map(function (line) {\n                var sep = line.indexOf(\": \");\n                if (sep === -1) {\n                    return [\"\", \"\"];\n                }\n                return [line.slice(0, sep), line.slice(sep + 2)];\n            })\n            .filter(function (e) {\n                return e[0].length !== 0;\n            })\n    );\n}\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fetch_1 = require(\"./fetch\");\nvar axios_1 = require(\"./axios\");\nvar version_1 = require(\"./version\");\nvar logger_1 = require(\"./logger\");\nvar error_1 = require(\"./error\");\nvar xmlhttprequest_1 = require(\"./xmlhttprequest\");\nvar utils_1 = require(\"./utils\");\nfunction RecipeImplementation(recipeImplInput) {\n    return {\n        addXMLHttpRequestInterceptor: function (_) {\n            (0, logger_1.logDebugMessage)(\"addXMLHttpRequestInterceptorAndReturnModified: called\");\n            (0, xmlhttprequest_1.addInterceptorsToXMLHttpRequest)();\n        },\n        addFetchInterceptorsAndReturnModifiedFetch: function (input) {\n            (0, logger_1.logDebugMessage)(\"addFetchInterceptorsAndReturnModifiedFetch: called\");\n            return function (url, config) {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [\n                                    4 /*yield*/,\n                                    fetch_1.default.doRequest(\n                                        function (config) {\n                                            return input.originalFetch(\n                                                typeof url === \"object\" && \"clone\" in url ? url.clone() : url,\n                                                __assign({}, config)\n                                            );\n                                        },\n                                        config,\n                                        url\n                                    )\n                                ];\n                            case 1:\n                                return [2 /*return*/, _a.sent()];\n                        }\n                    });\n                });\n            };\n        },\n        addAxiosInterceptors: function (input) {\n            (0, logger_1.logDebugMessage)(\"addAxiosInterceptors: called\");\n            if (XMLHttpRequest.__interceptedBySuperTokens) {\n                console.warn(\n                    \"Not adding axios interceptor since XMLHttpRequest is already added. This is just a warning.\"\n                );\n                console.warn(\"Our axios and XMLHttpRequest interceptors cannot be used at the same time.\");\n                console.warn(\n                    \"Since XMLHttpRequest is added automatically and supports axios by default, you can just remove addAxiosInterceptors from your code.\"\n                );\n                console.warn(\n                    \"If you want to continue using our axios interceptor, you can override addXMLHttpRequestInterceptor with an empty function.\"\n                );\n                (0, logger_1.logDebugMessage)(\n                    \"addAxiosInterceptors: not adding, because XHR interceptors are already in place\"\n                );\n                return;\n            }\n            // we first check if this axiosInstance already has our interceptors.\n            var requestInterceptors = input.axiosInstance.interceptors.request;\n            for (var i = 0; i < requestInterceptors.handlers.length; i++) {\n                if (requestInterceptors.handlers[i].fulfilled === axios_1.interceptorFunctionRequestFulfilled) {\n                    (0, logger_1.logDebugMessage)(\n                        \"addAxiosInterceptors: not adding because already added on this instance\"\n                    );\n                    return;\n                }\n            }\n            // Add a request interceptor\n            input.axiosInstance.interceptors.request.use(axios_1.interceptorFunctionRequestFulfilled, function (error) {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        throw error;\n                    });\n                });\n            });\n            // Add a response interceptor\n            input.axiosInstance.interceptors.response.use(\n                (0, axios_1.responseInterceptor)(input.axiosInstance),\n                (0, axios_1.responseErrorInterceptor)(input.axiosInstance)\n            );\n        },\n        getUserId: function (_) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"getUserId: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            if (tokenInfo === undefined) {\n                                throw new Error(\"No session exists\");\n                            }\n                            (0, logger_1.logDebugMessage)(\"getUserId: returning: \" + tokenInfo.uid);\n                            return [2 /*return*/, tokenInfo.uid];\n                    }\n                });\n            });\n        },\n        getAccessTokenPayloadSecurely: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo, retry;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            if (tokenInfo === undefined) {\n                                throw new Error(\"No session exists\");\n                            }\n                            if (!(tokenInfo.ate < Date.now())) return [3 /*break*/, 5];\n                            (0,\n                            logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: access token expired. Refreshing session\");\n                            return [4 /*yield*/, fetch_1.default.attemptRefreshingSession()];\n                        case 2:\n                            retry = _a.sent();\n                            if (!retry) return [3 /*break*/, 4];\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 3:\n                            return [2 /*return*/, _a.sent()];\n                        case 4:\n                            throw new Error(\"Could not refresh session\");\n                        case 5:\n                            (0,\n                            logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: returning: \" + JSON.stringify(tokenInfo.up));\n                            return [2 /*return*/, tokenInfo.up];\n                    }\n                });\n            });\n        },\n        doesSessionExist: function (_) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo, preRequestLSS, refresh;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"doesSessionExist: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            // The above includes getLocalSessionState(true), which would call refresh if the FE cookies were cleared for some reason\n                            if (tokenInfo === undefined) {\n                                (0, logger_1.logDebugMessage)(\"doesSessionExist: access token does not exist locally\");\n                                return [2 /*return*/, false];\n                            }\n                            if (!(tokenInfo.ate < Date.now())) return [3 /*break*/, 4];\n                            (0, logger_1.logDebugMessage)(\"doesSessionExist: access token expired. Refreshing session\");\n                            return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                        case 2:\n                            preRequestLSS = _a.sent();\n                            return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                        case 3:\n                            refresh = _a.sent();\n                            return [2 /*return*/, refresh.result === \"RETRY\"];\n                        case 4:\n                            return [2 /*return*/, true];\n                    }\n                });\n            });\n        },\n        signOut: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var preAPIResult, resp, responseJson, message;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"signOut: called\");\n                            return [4 /*yield*/, this.doesSessionExist(input)];\n                        case 1:\n                            if (!_a.sent()) {\n                                (0, logger_1.logDebugMessage)(\"signOut: exiting early because session does not exist\");\n                                (0, logger_1.logDebugMessage)(\"signOut: firing SIGN_OUT event\");\n                                recipeImplInput.onHandleEvent({\n                                    action: \"SIGN_OUT\",\n                                    userContext: input.userContext\n                                });\n                                return [2 /*return*/];\n                            }\n                            (0, logger_1.logDebugMessage)(\"signOut: Calling refresh pre API hook\");\n                            return [\n                                4 /*yield*/,\n                                recipeImplInput.preAPIHook({\n                                    action: \"SIGN_OUT\",\n                                    requestInit: {\n                                        method: \"post\",\n                                        headers: {\n                                            \"fdi-version\": version_1.supported_fdi.join(\",\"),\n                                            rid: fetch_1.default.rid\n                                        }\n                                    },\n                                    url: fetch_1.default.signOutUrl,\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 2:\n                            preAPIResult = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"signOut: Calling API\");\n                            return [4 /*yield*/, fetch(preAPIResult.url, preAPIResult.requestInit)];\n                        case 3:\n                            resp = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"signOut: API ended\");\n                            (0, logger_1.logDebugMessage)(\"signOut: API responded with status code: \" + resp.status);\n                            if (resp.status === recipeImplInput.sessionExpiredStatusCode) {\n                                // refresh must have already sent session expiry event\n                                return [2 /*return*/];\n                            }\n                            if (resp.status >= 300) {\n                                throw resp;\n                            }\n                            return [\n                                4 /*yield*/,\n                                recipeImplInput.postAPIHook({\n                                    action: \"SIGN_OUT\",\n                                    requestInit: preAPIResult.requestInit,\n                                    url: preAPIResult.url,\n                                    fetchResponse: resp.clone(),\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 4:\n                            _a.sent();\n                            return [4 /*yield*/, resp.clone().json()];\n                        case 5:\n                            responseJson = _a.sent();\n                            if (responseJson.status === \"GENERAL_ERROR\") {\n                                (0, logger_1.logDebugMessage)(\"doRequest: Throwing general error\");\n                                message =\n                                    responseJson.message === undefined\n                                        ? \"No Error Message Provided\"\n                                        : responseJson.message;\n                                throw new error_1.STGeneralError(message);\n                            }\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        getInvalidClaimsFromResponse: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var body;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!(\"body\" in input.response)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, input.response.clone().json()];\n                        case 1:\n                            body = _a.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            if (typeof input.response.data === \"string\") {\n                                body = JSON.parse(input.response.data);\n                            } else {\n                                body = input.response.data;\n                            }\n                            _a.label = 3;\n                        case 3:\n                            return [2 /*return*/, body.claimValidationErrors];\n                    }\n                });\n            });\n        },\n        getGlobalClaimValidators: function (input) {\n            return input.claimValidatorsAddedByOtherRecipes;\n        },\n        validateClaims: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var accessTokenPayload, _i, _a, validator, err_1, errors, _b, _c, validator, validationRes;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({ userContext: input.userContext })\n                            ];\n                        case 1:\n                            accessTokenPayload = _d.sent();\n                            (_i = 0), (_a = input.claimValidators);\n                            _d.label = 2;\n                        case 2:\n                            if (!(_i < _a.length)) return [3 /*break*/, 10];\n                            validator = _a[_i];\n                            return [4 /*yield*/, validator.shouldRefresh(accessTokenPayload, input.userContext)];\n                        case 3:\n                            if (!_d.sent()) return [3 /*break*/, 9];\n                            _d.label = 4;\n                        case 4:\n                            _d.trys.push([4, 6, , 7]);\n                            return [4 /*yield*/, validator.refresh(input.userContext)];\n                        case 5:\n                            _d.sent();\n                            return [3 /*break*/, 7];\n                        case 6:\n                            err_1 = _d.sent();\n                            console.error(\n                                \"Encountered an error while refreshing validator \".concat(validator.id),\n                                err_1\n                            );\n                            return [3 /*break*/, 7];\n                        case 7:\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({ userContext: input.userContext })\n                            ];\n                        case 8:\n                            accessTokenPayload = _d.sent();\n                            _d.label = 9;\n                        case 9:\n                            _i++;\n                            return [3 /*break*/, 2];\n                        case 10:\n                            errors = [];\n                            (_b = 0), (_c = input.claimValidators);\n                            _d.label = 11;\n                        case 11:\n                            if (!(_b < _c.length)) return [3 /*break*/, 14];\n                            validator = _c[_b];\n                            return [4 /*yield*/, validator.validate(accessTokenPayload, input.userContext)];\n                        case 12:\n                            validationRes = _d.sent();\n                            if (!validationRes.isValid) {\n                                errors.push({\n                                    validatorId: validator.id,\n                                    reason: validationRes.reason\n                                });\n                            }\n                            _d.label = 13;\n                        case 13:\n                            _b++;\n                            return [3 /*break*/, 11];\n                        case 14:\n                            return [2 /*return*/, errors];\n                    }\n                });\n            });\n        },\n        shouldDoInterceptionBasedOnUrl: function (toCheckUrl, apiDomain, sessionTokenBackendDomain) {\n            (0, logger_1.logDebugMessage)(\n                \"shouldDoInterceptionBasedOnUrl: toCheckUrl: \" +\n                    toCheckUrl +\n                    \" apiDomain: \" +\n                    apiDomain +\n                    \" sessionTokenBackendDomain: \" +\n                    sessionTokenBackendDomain\n            );\n            function isNumeric(str) {\n                if (typeof str != \"string\") return false; // we only process strings!\n                return (\n                    !isNaN(str) && !isNaN(parseFloat(str)) // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...\n                ); // ...and ensure strings of whitespace fail\n            }\n            // The safest/best way to add this is the hash as the browser strips it before sending\n            // but we don't have a reason to limit checking to that part.\n            if (toCheckUrl.includes(\"superTokensDoNotDoInterception\")) {\n                return false;\n            }\n            toCheckUrl = (0, utils_1.normaliseURLDomainOrThrowError)(toCheckUrl);\n            var urlObj = new URL(toCheckUrl);\n            var domain = urlObj.hostname;\n            if (sessionTokenBackendDomain === undefined) {\n                domain = urlObj.port === \"\" ? domain : domain + \":\" + urlObj.port;\n                apiDomain = (0, utils_1.normaliseURLDomainOrThrowError)(apiDomain);\n                var apiUrlObj = new URL(apiDomain);\n                return (\n                    domain === (apiUrlObj.port === \"\" ? apiUrlObj.hostname : apiUrlObj.hostname + \":\" + apiUrlObj.port)\n                );\n            } else {\n                var normalisedsessionDomain = (0, utils_1.normaliseSessionScopeOrThrowError)(sessionTokenBackendDomain);\n                if (sessionTokenBackendDomain.split(\":\").length > 1) {\n                    // means port may provided\n                    var portStr = sessionTokenBackendDomain.split(\":\")[sessionTokenBackendDomain.split(\":\").length - 1];\n                    if (isNumeric(portStr)) {\n                        normalisedsessionDomain += \":\" + portStr;\n                        domain = urlObj.port === \"\" ? domain : domain + \":\" + urlObj.port;\n                    }\n                }\n                if (sessionTokenBackendDomain.startsWith(\".\")) {\n                    return (\".\" + domain).endsWith(normalisedsessionDomain);\n                } else {\n                    return domain === normalisedsessionDomain;\n                }\n            }\n        }\n    };\n}\nexports.default = RecipeImplementation;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrimitiveClaim = void 0;\nvar PrimitiveClaim = /** @class */ (function () {\n    function PrimitiveClaim(config) {\n        var _this = this;\n        this.validators = {\n            hasValue: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        var claimVal = _this.getValueFromPayload(payload, ctx);\n                        if (claimVal === undefined) {\n                            return {\n                                isValid: false,\n                                reason: { message: \"value does not exist\", expectedValue: val, actualValue: claimVal }\n                            };\n                        }\n                        var ageInSeconds = (Date.now() - _this.getLastFetchedTime(payload, ctx)) / 1000;\n                        if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                            return {\n                                isValid: false,\n                                reason: {\n                                    message: \"expired\",\n                                    ageInSeconds: ageInSeconds,\n                                    maxAgeInSeconds: maxAgeInSeconds\n                                }\n                            };\n                        }\n                        if (claimVal !== val) {\n                            return {\n                                isValid: false,\n                                reason: { message: \"wrong value\", expectedValue: val, actualValue: claimVal }\n                            };\n                        }\n                        return { isValid: true };\n                    }\n                };\n            }\n        };\n        this.id = config.id;\n        this.refresh = config.refresh;\n        this.defaultMaxAgeInSeconds = config.defaultMaxAgeInSeconds;\n    }\n    PrimitiveClaim.prototype.getValueFromPayload = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].v : undefined;\n    };\n    PrimitiveClaim.prototype.getLastFetchedTime = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].t : undefined;\n    };\n    return PrimitiveClaim;\n})();\nexports.PrimitiveClaim = PrimitiveClaim;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrimitiveArrayClaim = void 0;\nvar PrimitiveArrayClaim = /** @class */ (function () {\n    function PrimitiveArrayClaim(config) {\n        var _this = this;\n        this.validators = {\n            includes: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                if (!claimVal.includes(val)) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"wrong value\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                return [2 /*return*/, { isValid: true }];\n                            });\n                        });\n                    }\n                };\n            },\n            excludes: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                if (claimVal.includes(val)) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"wrong value\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                return [2 /*return*/, { isValid: true }];\n                            });\n                        });\n                    }\n                };\n            },\n            includesAll: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.every(function (v) {\n                                    return claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToInclude: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            },\n            includesAny: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.some(function (v) {\n                                    return claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToIncludeAtLeastOneOf: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            },\n            excludesAll: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.every(function (v) {\n                                    return !claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToNotInclude: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            }\n        };\n        this.id = config.id;\n        this.refresh = config.refresh;\n        this.defaultMaxAgeInSeconds = config.defaultMaxAgeInSeconds;\n    }\n    PrimitiveArrayClaim.prototype.getValueFromPayload = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].v : undefined;\n    };\n    PrimitiveArrayClaim.prototype.getLastFetchedTime = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].t : undefined;\n    };\n    return PrimitiveArrayClaim;\n})();\nexports.PrimitiveArrayClaim = PrimitiveArrayClaim;\n", "\"use strict\";\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BooleanClaim = void 0;\nvar primitiveClaim_1 = require(\"./primitiveClaim\");\nvar BooleanClaim = /** @class */ (function (_super) {\n    __extends(BooleanClaim, _super);\n    function BooleanClaim(config) {\n        var _this = _super.call(this, config) || this;\n        _this.validators = __assign(__assign({}, _this.validators), {\n            isTrue: function (maxAge) {\n                return _this.validators.hasValue(true, maxAge);\n            },\n            isFalse: function (maxAge) {\n                return _this.validators.hasValue(false, maxAge);\n            }\n        });\n        return _this;\n    }\n    return BooleanClaim;\n})(primitiveClaim_1.PrimitiveClaim);\nexports.BooleanClaim = BooleanClaim;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BooleanClaim =\n    exports.PrimitiveArrayClaim =\n    exports.PrimitiveClaim =\n    exports.getInvalidClaimsFromResponse =\n    exports.getClaimValue =\n    exports.validateClaims =\n    exports.signOut =\n    exports.addAxiosInterceptors =\n    exports.doesSessionExist =\n    exports.attemptRefreshingSession =\n    exports.getAccessToken =\n    exports.getAccessTokenPayloadSecurely =\n    exports.getUserId =\n    exports.init =\n        void 0;\nvar fetch_1 = require(\"./fetch\");\nvar recipeImplementation_1 = require(\"./recipeImplementation\");\nvar supertokens_js_override_1 = require(\"supertokens-js-override\");\nvar utils_1 = require(\"./utils\");\nvar cookieHandler_1 = require(\"./utils/cookieHandler\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar lockFactory_1 = require(\"./utils/lockFactory\");\nvar sessionClaimValidatorStore_1 = require(\"./utils/sessionClaimValidatorStore\");\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    AuthHttpRequest.init = function (options) {\n        cookieHandler_1.default.init(options.cookieHandler);\n        windowHandler_1.default.init(options.windowHandler);\n        lockFactory_1.default.init(\n            options.lockFactory,\n            windowHandler_1.default.getReferenceOrThrow().windowHandler.localStorage\n        );\n        var config = (0, utils_1.validateAndNormaliseInputOrThrowError)(options);\n        var recipeImpl = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                onHandleEvent: config.onHandleEvent,\n                preAPIHook: config.preAPIHook,\n                postAPIHook: config.postAPIHook,\n                sessionExpiredStatusCode: config.sessionExpiredStatusCode\n            })\n        )\n            .override(config.override.functions)\n            .build();\n        fetch_1.default.init(config, recipeImpl);\n        AuthHttpRequest.axiosInterceptorQueue.forEach(function (f) {\n            f();\n        });\n        AuthHttpRequest.axiosInterceptorQueue = [];\n    };\n    AuthHttpRequest.getUserId = function (input) {\n        return fetch_1.default.recipeImpl.getUserId({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    AuthHttpRequest.getAccessTokenPayloadSecurely = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [\n                    2 /*return*/,\n                    fetch_1.default.recipeImpl.getAccessTokenPayloadSecurely({\n                        userContext: (0, utils_1.getNormalisedUserContext)(\n                            input === undefined ? undefined : input.userContext\n                        )\n                    })\n                ];\n            });\n        });\n    };\n    var _a;\n    _a = AuthHttpRequest;\n    AuthHttpRequest.axiosInterceptorQueue = [];\n    AuthHttpRequest.attemptRefreshingSession = function () {\n        return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(_a, function (_b) {\n                return [2 /*return*/, fetch_1.default.attemptRefreshingSession()];\n            });\n        });\n    };\n    AuthHttpRequest.doesSessionExist = function (input) {\n        return fetch_1.default.recipeImpl.doesSessionExist({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    /**\n     * @deprecated\n     */\n    AuthHttpRequest.addAxiosInterceptors = function (axiosInstance, userContext) {\n        if (!fetch_1.default.initCalled) {\n            // the recipe implementation has not been initialised yet, so add\n            // this to the queue and wait for it to be initialised, and then on\n            // init call, we add all the interceptors.\n            AuthHttpRequest.axiosInterceptorQueue.push(function () {\n                fetch_1.default.recipeImpl.addAxiosInterceptors({\n                    axiosInstance: axiosInstance,\n                    userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n                });\n            });\n        } else {\n            fetch_1.default.recipeImpl.addAxiosInterceptors({\n                axiosInstance: axiosInstance,\n                userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n            });\n        }\n    };\n    AuthHttpRequest.signOut = function (input) {\n        return fetch_1.default.recipeImpl.signOut({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    AuthHttpRequest.getInvalidClaimsFromResponse = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [\n                    2 /*return*/,\n                    fetch_1.default.recipeImpl.getInvalidClaimsFromResponse({\n                        response: input.response,\n                        userContext: (0, utils_1.getNormalisedUserContext)(input.userContext)\n                    })\n                ];\n            });\n        });\n    };\n    AuthHttpRequest.getClaimValue = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userContext, accessTokenPayload;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        userContext = (0, utils_1.getNormalisedUserContext)(\n                            input === undefined ? undefined : input.userContext\n                        );\n                        return [\n                            4 /*yield*/,\n                            AuthHttpRequest.getAccessTokenPayloadSecurely({ userContext: userContext })\n                        ];\n                    case 1:\n                        accessTokenPayload = _b.sent();\n                        return [2 /*return*/, input.claim.getValueFromPayload(accessTokenPayload, userContext)];\n                }\n            });\n        });\n    };\n    AuthHttpRequest.validateClaims = function (overrideGlobalClaimValidators, userContext) {\n        var normalisedUserContext = (0, utils_1.getNormalisedUserContext)(userContext);\n        var claimValidatorsAddedByOtherRecipes =\n            sessionClaimValidatorStore_1.SessionClaimValidatorStore.getClaimValidatorsAddedByOtherRecipes();\n        var globalClaimValidators = fetch_1.default.recipeImpl.getGlobalClaimValidators({\n            claimValidatorsAddedByOtherRecipes: claimValidatorsAddedByOtherRecipes,\n            userContext: normalisedUserContext\n        });\n        var claimValidators =\n            overrideGlobalClaimValidators !== undefined\n                ? overrideGlobalClaimValidators(globalClaimValidators, normalisedUserContext)\n                : globalClaimValidators;\n        if (claimValidators.length === 0) {\n            return [];\n        }\n        return fetch_1.default.recipeImpl.validateClaims({\n            claimValidators: claimValidators,\n            userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n        });\n    };\n    AuthHttpRequest.getAccessToken = function (input) {\n        return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        return [\n                            4 /*yield*/,\n                            fetch_1.default.recipeImpl.doesSessionExist({\n                                userContext: (0, utils_1.getNormalisedUserContext)(\n                                    input === undefined ? undefined : input.userContext\n                                )\n                            })\n                        ];\n                    case 1:\n                        // This takes care of refreshing the access token if necessary.\n                        if (_b.sent()) {\n                            return [2 /*return*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                        }\n                        return [2 /*return*/, undefined];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports.default = AuthHttpRequest;\nexports.init = AuthHttpRequest.init;\nexports.getUserId = AuthHttpRequest.getUserId;\nexports.getAccessTokenPayloadSecurely = AuthHttpRequest.getAccessTokenPayloadSecurely;\nexports.getAccessToken = AuthHttpRequest.getAccessToken;\nexports.attemptRefreshingSession = AuthHttpRequest.attemptRefreshingSession;\nexports.doesSessionExist = AuthHttpRequest.doesSessionExist;\n/**\n * @deprecated\n */\nexports.addAxiosInterceptors = AuthHttpRequest.addAxiosInterceptors;\nexports.signOut = AuthHttpRequest.signOut;\nexports.validateClaims = AuthHttpRequest.validateClaims;\nexports.getClaimValue = AuthHttpRequest.getClaimValue;\nexports.getInvalidClaimsFromResponse = AuthHttpRequest.getInvalidClaimsFromResponse;\nvar primitiveClaim_1 = require(\"./claims/primitiveClaim\");\nObject.defineProperty(exports, \"PrimitiveClaim\", {\n    enumerable: true,\n    get: function () {\n        return primitiveClaim_1.PrimitiveClaim;\n    }\n});\nvar primitiveArrayClaim_1 = require(\"./claims/primitiveArrayClaim\");\nObject.defineProperty(exports, \"PrimitiveArrayClaim\", {\n    enumerable: true,\n    get: function () {\n        return primitiveArrayClaim_1.PrimitiveArrayClaim;\n    }\n});\nvar booleanClaim_1 = require(\"./claims/booleanClaim\");\nObject.defineProperty(exports, \"BooleanClaim\", {\n    enumerable: true,\n    get: function () {\n        return booleanClaim_1.BooleanClaim;\n    }\n});\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"./lib/build\"));\n", "\"use strict\";\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recipe = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar recipeModule_1 = require(\"../recipeModule\");\nvar supertokens_website_1 = require(\"supertokens-website\");\nvar utils_1 = require(\"../../utils\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.getUserId = function (input) {\n            return supertokens_website_1.default.getUserId({\n                userContext: input.userContext,\n            });\n        };\n        _this.getAccessToken = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [\n                        2 /*return*/,\n                        supertokens_website_1.default.getAccessToken({\n                            userContext: input.userContext,\n                        }),\n                    ];\n                });\n            });\n        };\n        _this.getAccessTokenPayloadSecurely = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [\n                        2 /*return*/,\n                        supertokens_website_1.default.getAccessTokenPayloadSecurely({\n                            userContext: input.userContext,\n                        }),\n                    ];\n                });\n            });\n        };\n        _this.doesSessionExist = function (input) {\n            return supertokens_website_1.default.doesSessionExist({\n                userContext: input.userContext,\n            });\n        };\n        _this.signOut = function (input) {\n            return supertokens_website_1.default.signOut({\n                userContext: input.userContext,\n            });\n        };\n        _this.attemptRefreshingSession = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, supertokens_website_1.default.attemptRefreshingSession()];\n                });\n            });\n        };\n        _this.validateClaims = function (input) {\n            return supertokens_website_1.default.validateClaims(input.overrideGlobalClaimValidators, input.userContext);\n        };\n        supertokens_website_1.default.init(\n            __assign(__assign({}, config), {\n                preAPIHook: function (context) {\n                    return __awaiter(_this, void 0, void 0, function () {\n                        var headers, response;\n                        return __generator(this, function (_a) {\n                            headers = new Headers(context.requestInit.headers);\n                            headers.set(\"rid\", config.recipeId);\n                            response = __assign(__assign({}, context), {\n                                requestInit: __assign(__assign({}, context.requestInit), { headers: headers }),\n                            });\n                            if (config.preAPIHook === undefined) {\n                                return [2 /*return*/, response];\n                            } else {\n                                return [2 /*return*/, config.preAPIHook(context)];\n                            }\n                            return [2 /*return*/];\n                        });\n                    });\n                },\n                apiDomain: config.appInfo.apiDomain.getAsStringDangerous(),\n                apiBasePath: config.appInfo.apiBasePath.getAsStringDangerous(),\n            })\n        );\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, _, enableDebugLogs) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), {\n                    appInfo: appInfo,\n                    recipeId: Recipe.RECIPE_ID,\n                    enableDebugLogs: enableDebugLogs,\n                })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.prototype.getClaimValue = function (input) {\n        return supertokens_website_1.default.getClaimValue(input);\n    };\n    // The strange typing is to avoid adding a dependency to axios\n    Recipe.prototype.getInvalidClaimsFromResponse = function (input) {\n        return supertokens_website_1.default.getInvalidClaimsFromResponse(input);\n    };\n    Recipe.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return supertokens_website_1.default.addAxiosInterceptors(axiosInstance, userContext);\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of Session found. Make sure to call the Session.init method.\";\n            error = (0, utils_1.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_1.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"session\";\n    return Recipe;\n})(recipeModule_1.default);\nexports.Recipe = Recipe;\nexports.default = Recipe;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar recipeModule_1 = require(\"../recipeModule\");\nvar recipe_1 = require(\"../session/recipe\");\nvar AuthRecipe = /** @class */ (function (_super) {\n    __extends(AuthRecipe, _super);\n    function AuthRecipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.signOut = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipe_1.default.getInstanceOrThrow().signOut({\n                                    userContext: input.userContext,\n                                }),\n                            ];\n                        case 1:\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    return AuthRecipe;\n})(recipeModule_1.default);\nexports.default = AuthRecipe;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recipe = void 0;\nvar utils_1 = require(\"./utils\");\nvar supertokens_js_override_1 = require(\"supertokens-js-override\");\nvar recipeImplementation_1 = require(\"./recipeImplementation\");\nvar utils_2 = require(\"../../utils\");\nvar authRecipe_1 = require(\"../authRecipe\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, (0, utils_1.normaliseUserInput)(config)) || this;\n        var builder = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                recipeId: _this.config.recipeId,\n                appInfo: _this.config.appInfo,\n                clientType: _this.config.clientType,\n                preAPIHook: _this.config.preAPIHook,\n                postAPIHook: _this.config.postAPIHook,\n            })\n        );\n        _this.recipeImplementation = builder.override(_this.config.override.functions).build();\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, clientType) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), { recipeId: Recipe.RECIPE_ID, appInfo: appInfo, clientType: clientType })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of Multitenancy found. Make sure to call the Multitenancy.init method.\";\n            error = (0, utils_2.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_2.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"multitenancy\";\n    return Recipe;\n})(authRecipe_1.default);\nexports.Recipe = Recipe;\nexports.default = Recipe;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar cookieHandler_1 = require(\"./cookieHandler\");\nvar windowHandler_1 = require(\"./windowHandler\");\nvar postSuperTokensInitCallbacks_1 = require(\"./postSuperTokensInitCallbacks\");\nvar recipe_1 = require(\"./recipe/multitenancy/recipe\");\nvar SuperTokens = /** @class */ (function () {\n    function SuperTokens(config) {\n        var _this = this;\n        this.recipeList = [];\n        this.appInfo = (0, utils_1.normaliseInputAppInfoOrThrowError)(config.appInfo);\n        if (config.recipeList === undefined || config.recipeList.length === 0) {\n            throw new Error(\n                \"Please provide at least one recipe to the supertokens.init function call. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        var enableDebugLogs = false;\n        if (config.enableDebugLogs !== undefined) {\n            enableDebugLogs = config.enableDebugLogs;\n        }\n        var multitenancyFound = false;\n        this.recipeList = config.recipeList.map(function (recipe) {\n            var recipeInstance = recipe(_this.appInfo, config.clientType, enableDebugLogs);\n            if (recipeInstance.config.recipeId === recipe_1.Recipe.RECIPE_ID) {\n                multitenancyFound = true;\n            }\n            return recipeInstance;\n        });\n        if (!multitenancyFound) {\n            this.recipeList.push(recipe_1.Recipe.init()(this.appInfo, config.clientType, enableDebugLogs));\n        }\n    }\n    /**\n     * Initialise the SuperTokens SDK. Calling this function multiple times results\n     * in a warning and has no other effect\n     *\n     * @param config The configuration the SDK should use\n     */\n    SuperTokens.init = function (config) {\n        cookieHandler_1.CookieHandlerReference.init(config.cookieHandler);\n        windowHandler_1.WindowHandlerReference.init(config.windowHandler);\n        if (SuperTokens.instance !== undefined) {\n            console.warn(\"SuperTokens was already initialized\");\n            return;\n        }\n        SuperTokens.instance = new SuperTokens(config);\n        postSuperTokensInitCallbacks_1.PostSuperTokensInitCallbacks.runPostInitCallbacks();\n    };\n    /**\n     * Retrieve an instance of SuperTokens\n     *\n     * @returns An instance of SuperTokens\n     *\n     * @throws If SuperTokens.init has not been called before using this function\n     */\n    SuperTokens.getInstanceOrThrow = function () {\n        if (SuperTokens.instance === undefined) {\n            var error = \"SuperTokens must be initialized before calling this method.\";\n            error = (0, utils_1.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw new Error(error);\n        }\n        return SuperTokens.instance;\n    };\n    SuperTokens.reset = function () {\n        if (!(0, utils_1.isTest)()) {\n            console.warn(\"Calling reset() is only supported during testing\");\n            return;\n        }\n        SuperTokens.instance = undefined;\n        return;\n    };\n    return SuperTokens;\n})();\nexports.default = SuperTokens;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar supertokens_1 = require(\"./supertokens\");\nvar SuperTokensAPIWrapper = /** @class */ (function () {\n    function SuperTokensAPIWrapper() {}\n    SuperTokensAPIWrapper.init = function (config) {\n        supertokens_1.default.init(config);\n    };\n    return SuperTokensAPIWrapper;\n})();\nexports.default = SuperTokensAPIWrapper;\nexports.init = SuperTokensAPIWrapper.init;\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"./lib/build/\"));\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../../lib/build/cookieHandler\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../lib/build/postSuperTokensInitCallbacks\"));\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/windowHandler\"));\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInvalidClaimsFromResponse =\n    exports.getClaimValue =\n    exports.validateClaims =\n    exports.signOut =\n    exports.addAxiosInterceptors =\n    exports.doesSessionExist =\n    exports.attemptRefreshingSession =\n    exports.getAccessToken =\n    exports.getAccessTokenPayloadSecurely =\n    exports.getUserId =\n    exports.init =\n    exports.BooleanClaim =\n    exports.PrimitiveArrayClaim =\n    exports.PrimitiveClaim =\n        void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../../utils\");\nvar recipe_1 = require(\"./recipe\");\nvar RecipeWrapper = /** @class */ (function () {\n    function RecipeWrapper() {}\n    RecipeWrapper.init = function (config) {\n        return recipe_1.default.init(config);\n    };\n    RecipeWrapper.getUserId = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getUserId({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.getAccessToken = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getAccessToken({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.getAccessTokenPayloadSecurely = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe_1.default.getInstanceOrThrow().getAccessTokenPayloadSecurely({\n                        userContext: (0, utils_1.getNormalisedUserContext)(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    RecipeWrapper.attemptRefreshingSession = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, recipe_1.default.getInstanceOrThrow().attemptRefreshingSession()];\n            });\n        });\n    };\n    RecipeWrapper.doesSessionExist = function (input) {\n        return recipe_1.default.getInstanceOrThrow().doesSessionExist({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    /**\n     * @deprecated\n     */\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    RecipeWrapper.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return recipe_1.default.addAxiosInterceptors(axiosInstance, (0, utils_1.getNormalisedUserContext)(userContext));\n    };\n    RecipeWrapper.signOut = function (input) {\n        return recipe_1.default.getInstanceOrThrow().signOut({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.getClaimValue = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getClaimValue({\n            claim: input.claim,\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.validateClaims = function (input) {\n        return recipe_1.default.getInstanceOrThrow().validateClaims({\n            overrideGlobalClaimValidators:\n                input === null || input === void 0 ? void 0 : input.overrideGlobalClaimValidators,\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    // The strange typing is to avoid adding a dependency to axios\n    RecipeWrapper.getInvalidClaimsFromResponse = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getInvalidClaimsFromResponse({\n            response: input.response,\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    return RecipeWrapper;\n})();\nexports.default = RecipeWrapper;\nvar init = RecipeWrapper.init;\nexports.init = init;\nvar getUserId = RecipeWrapper.getUserId;\nexports.getUserId = getUserId;\nvar getAccessTokenPayloadSecurely = RecipeWrapper.getAccessTokenPayloadSecurely;\nexports.getAccessTokenPayloadSecurely = getAccessTokenPayloadSecurely;\nvar getAccessToken = RecipeWrapper.getAccessToken;\nexports.getAccessToken = getAccessToken;\nvar attemptRefreshingSession = RecipeWrapper.attemptRefreshingSession;\nexports.attemptRefreshingSession = attemptRefreshingSession;\nvar doesSessionExist = RecipeWrapper.doesSessionExist;\nexports.doesSessionExist = doesSessionExist;\n/**\n * @deprecated\n */\nvar addAxiosInterceptors = RecipeWrapper.addAxiosInterceptors;\nexports.addAxiosInterceptors = addAxiosInterceptors;\nvar signOut = RecipeWrapper.signOut;\nexports.signOut = signOut;\nvar validateClaims = RecipeWrapper.validateClaims;\nexports.validateClaims = validateClaims;\nvar getClaimValue = RecipeWrapper.getClaimValue;\nexports.getClaimValue = getClaimValue;\nvar getInvalidClaimsFromResponse = RecipeWrapper.getInvalidClaimsFromResponse;\nexports.getInvalidClaimsFromResponse = getInvalidClaimsFromResponse;\nvar supertokens_website_1 = require(\"supertokens-website\");\nObject.defineProperty(exports, \"PrimitiveClaim\", {\n    enumerable: true,\n    get: function () {\n        return supertokens_website_1.PrimitiveClaim;\n    },\n});\nObject.defineProperty(exports, \"PrimitiveArrayClaim\", {\n    enumerable: true,\n    get: function () {\n        return supertokens_website_1.PrimitiveArrayClaim;\n    },\n});\nObject.defineProperty(exports, \"BooleanClaim\", {\n    enumerable: true,\n    get: function () {\n        return supertokens_website_1.BooleanClaim;\n    },\n});\n", "\"use strict\";\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AllowedDomainsClaim = exports.AllowedDomainsClaimClass = void 0;\nvar windowHandler_1 = require(\"supertokens-website/utils/windowHandler\");\nvar session_1 = require(\"../session\");\n/**\n * We include \"Class\" in the class name, because it makes it easier to import/use the right thing (the instance exported by the recipe) instead of this.\n * */\nvar AllowedDomainsClaimClass = /** @class */ (function (_super) {\n    __extends(AllowedDomainsClaimClass, _super);\n    function AllowedDomainsClaimClass() {\n        var _this =\n            _super.call(this, {\n                id: \"st-t-dmns\",\n                refresh: function () {\n                    return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            return [2 /*return*/];\n                        });\n                    });\n                },\n                defaultMaxAgeInSeconds: Number.MAX_SAFE_INTEGER,\n            }) || this;\n        _this.validators = __assign(__assign({}, _this.validators), {\n            hasAccessToCurrentDomain: function () {\n                return {\n                    id: _this.id,\n                    refresh: _this.refresh,\n                    shouldRefresh: function () {\n                        return false; // Can't automatically refresh\n                    },\n                    validate: function (payload, userContext) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var currentDomain, includesValidator;\n                            return __generator(this, function (_a) {\n                                currentDomain =\n                                    windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName();\n                                includesValidator = this.validators.includes(\n                                    currentDomain,\n                                    Number.MAX_SAFE_INTEGER,\n                                    this.id\n                                );\n                                return [2 /*return*/, includesValidator.validate(payload, userContext)];\n                            });\n                        });\n                    },\n                };\n            },\n        });\n        return _this;\n    }\n    return AllowedDomainsClaimClass;\n})(session_1.PrimitiveArrayClaim);\nexports.AllowedDomainsClaimClass = AllowedDomainsClaimClass;\nexports.AllowedDomainsClaim = new AllowedDomainsClaimClass();\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AllowedDomainsClaim = exports.getTenantId = exports.getLoginMethods = exports.init = void 0;\nvar utils_1 = require(\"../../utils\");\nvar allowedDomainsClaim_1 = require(\"./allowedDomainsClaim\");\nObject.defineProperty(exports, \"AllowedDomainsClaim\", {\n    enumerable: true,\n    get: function () {\n        return allowedDomainsClaim_1.AllowedDomainsClaim;\n    },\n});\nvar recipe_1 = require(\"./recipe\");\nvar RecipeWrapper = /** @class */ (function () {\n    function RecipeWrapper() {}\n    RecipeWrapper.init = function (config) {\n        return recipe_1.default.init(config);\n    };\n    /**\n     * Gets enabled login methods and their configuration from the backend\n     *\n     * @param tenantId (OPTIONAL) The identifier for the tenant.\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     *\n     * @returns `{status: OK, emailpassword, passwordless, thirdParty}` if successful\n     */\n    RecipeWrapper.getLoginMethods = function (input) {\n        return recipe_1.default.getInstanceOrThrow().recipeImplementation.getLoginMethods(\n            __assign(__assign({}, input), {\n                userContext: (0, utils_1.getNormalisedUserContext)(\n                    input === null || input === void 0 ? void 0 : input.userContext\n                ),\n            })\n        );\n    };\n    /**\n     * Gets enabled login methods and their configuration from the backend\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @returns `Promise<string | undefined> | string | undefined`\n     */\n    RecipeWrapper.getTenantId = function (input) {\n        return recipe_1.default.getInstanceOrThrow().recipeImplementation.getTenantId(\n            __assign(__assign({}, input), {\n                userContext: (0, utils_1.getNormalisedUserContext)(\n                    input === null || input === void 0 ? void 0 : input.userContext\n                ),\n            })\n        );\n    };\n    RecipeWrapper.AllowedDomainsClaim = allowedDomainsClaim_1.AllowedDomainsClaim;\n    return RecipeWrapper;\n})();\nexports.default = RecipeWrapper;\nvar init = RecipeWrapper.init;\nexports.init = init;\nvar getLoginMethods = RecipeWrapper.getLoginMethods;\nexports.getLoginMethods = getLoginMethods;\nvar getTenantId = RecipeWrapper.getTenantId;\nexports.getTenantId = getTenantId;\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/recipe/multitenancy\"));\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../lib/build/utils\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../lib/build/normalisedURLDomain\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../lib/build/normalisedURLPath\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n", "\"use strict\";\n\nvar SuperTokensWebJS = require(\"supertokens-web-js\");\nvar cookieHandler = require(\"supertokens-web-js/utils/cookieHandler\");\nvar postSuperTokensInitCallbacks = require(\"supertokens-web-js/utils/postSuperTokensInitCallbacks\");\nvar windowHandler = require(\"supertokens-web-js/utils/windowHandler\");\nvar MultitenancyWebJS = require(\"supertokens-web-js/recipe/multitenancy\");\nvar utils = require(\"supertokens-web-js/utils\");\nvar React = require(\"react\");\nvar NormalisedURLDomain = require(\"supertokens-web-js/utils/normalisedURLDomain\");\nvar NormalisedURLPath = require(\"supertokens-web-js/utils/normalisedURLPath\");\nvar jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar SuperTokensWebJS__default = /*#__PURE__*/ _interopDefault(SuperTokensWebJS);\nvar MultitenancyWebJS__default = /*#__PURE__*/ _interopDefault(MultitenancyWebJS);\nvar React__default = /*#__PURE__*/ _interopDefault(React);\nvar NormalisedURLDomain__default = /*#__PURE__*/ _interopDefault(NormalisedURLDomain);\nvar NormalisedURLPath__default = /*#__PURE__*/ _interopDefault(NormalisedURLPath);\n\n/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n    extendStatics =\n        Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array &&\n            function (d, b) {\n                d.__proto__ = b;\n            }) ||\n        function (d, b) {\n            for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n    return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n    if (typeof b !== \"function\" && b !== null)\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n        this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n}\n\nexports.__assign = function () {\n    exports.__assign =\n        Object.assign ||\n        function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n    return exports.__assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n        }\n    return t;\n}\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P\n            ? value\n            : new P(function (resolve) {\n                  resolve(value);\n              });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\n\nfunction __generator(thisArg, body) {\n    var _ = {\n            label: 0,\n            sent: function () {\n                if (t[0] & 1) throw t[1];\n                return t[1];\n            },\n            trys: [],\n            ops: [],\n        },\n        f,\n        y,\n        t,\n        g;\n    return (\n        (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n        typeof Symbol === \"function\" &&\n            (g[Symbol.iterator] = function () {\n                return this;\n            }),\n        g\n    );\n    function verb(n) {\n        return function (v) {\n            return step([n, v]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while ((g && ((g = 0), op[0] && (_ = 0)), _))\n            try {\n                if (\n                    ((f = 1),\n                    y &&\n                        (t =\n                            op[0] & 2\n                                ? y[\"return\"]\n                                : op[0]\n                                ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                : y.next) &&\n                        !(t = t.call(y, op[1])).done)\n                )\n                    return t;\n                if (((y = 0), t)) op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!((t = _.trys), (t = t.length > 0 && t[t.length - 1])) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2]) _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            } catch (e) {\n                op = [6, e];\n                y = 0;\n            } finally {\n                f = t = 0;\n            }\n        if (op[0] & 5) throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n}\n\nfunction __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n    return to.concat(ar || Array.prototype.slice.call(from));\n}\n\ntypeof SuppressedError === \"function\"\n    ? SuppressedError\n    : function (error, suppressed, message) {\n          var e = new Error(message);\n          return (e.name = \"SuppressedError\"), (e.error = error), (e.suppressed = suppressed), e;\n      };\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Consts.\n */\nvar RECIPE_ID_QUERY_PARAM = \"rid\";\nvar DEFAULT_API_BASE_PATH = \"/auth\";\nvar DEFAULT_WEBSITE_BASE_PATH = \"/auth\";\nvar ST_ROOT_ID = \"supertokens-root\";\nvar SSR_ERROR =\n    \"\\nIf you are trying to use this method doing server-side-rendering, please make sure you move this method inside a componentDidMount method or useEffect hook.\";\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * getRecipeIdFromPath\n * Input:\n * Output: The \"rid\" query param if present, null otherwise.\n */\nfunction getRecipeIdFromSearch(search) {\n    var urlParams = new URLSearchParams(search);\n    return urlParams.get(RECIPE_ID_QUERY_PARAM);\n}\nfunction clearQueryParams(paramNames) {\n    var newURL = new URL(windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHref());\n    for (var _i = 0, paramNames_1 = paramNames; _i < paramNames_1.length; _i++) {\n        var param = paramNames_1[_i];\n        newURL.searchParams.delete(param);\n    }\n    windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.replaceState(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.getState(),\n        \"\",\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHref()\n    );\n}\nfunction clearErrorQueryParam() {\n    clearQueryParams([\"error\", \"message\"]);\n}\nfunction getQueryParams(param) {\n    var urlParams = new URLSearchParams(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n    return urlParams.get(param);\n}\nfunction getURLHash() {\n    // By default it is returined with the \"#\" at the beginning, we cut that off here.\n    return windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substr(1);\n}\nfunction getRedirectToPathFromURL() {\n    var param = getQueryParams(\"redirectToPath\");\n    if (param === null) {\n        return undefined;\n    } else {\n        // Prevent Open redirects by normalising path.\n        try {\n            var normalisedURLPath = new NormalisedURLPath__default.default(param).getAsStringDangerous();\n            var pathQueryParams = param.split(\"?\")[1] !== undefined ? \"?\".concat(param.split(\"?\")[1]) : \"\";\n            return normalisedURLPath + pathQueryParams;\n        } catch (_a) {\n            return undefined;\n        }\n    }\n}\n/*\n * isTest\n */\nfunction isTest() {\n    try {\n        return process.env.TEST_MODE === \"testing\";\n    } catch (err) {\n        // can get Uncaught ReferenceError: process is not defined error\n        return false;\n    }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n    if (appInfo === undefined) {\n        throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.apiDomain === undefined) {\n        throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.appName === undefined) {\n        throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.websiteDomain === undefined) {\n        throw new Error(\"Please provide your websiteDomain inside the appInfo object when calling supertokens.init\");\n    }\n    var apiGatewayPath = new NormalisedURLPath__default.default(\"\");\n    if (appInfo.apiGatewayPath !== undefined) {\n        apiGatewayPath = new NormalisedURLPath__default.default(appInfo.apiGatewayPath);\n    }\n    return {\n        appName: appInfo.appName,\n        apiDomain: new NormalisedURLDomain__default.default(appInfo.apiDomain),\n        websiteDomain: new NormalisedURLDomain__default.default(appInfo.websiteDomain),\n        apiBasePath: apiGatewayPath.appendPath(\n            getNormalisedURLPathOrDefault(DEFAULT_API_BASE_PATH, appInfo.apiBasePath)\n        ),\n        websiteBasePath: getNormalisedURLPathOrDefault(DEFAULT_WEBSITE_BASE_PATH, appInfo.websiteBasePath),\n    };\n}\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n    if (path !== undefined) {\n        return new NormalisedURLPath__default.default(path);\n    } else {\n        return new NormalisedURLPath__default.default(defaultPath);\n    }\n}\n/*\n * validateForm\n */\n// We check that the number of fields in input and config form field is the same.\n// We check that each item in the config form field is also present in the input form field\nfunction validateForm(inputs, configFormFields) {\n    return __awaiter(this, void 0, void 0, function () {\n        var validationErrors, _loop_1, i;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    validationErrors = [];\n                    if (configFormFields.length !== inputs.length) {\n                        throw Error(\"Are you sending too many / too few formFields?\");\n                    }\n                    _loop_1 = function (i) {\n                        var field, input, value, error;\n                        return __generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    field = configFormFields[i];\n                                    input = inputs.find(function (i) {\n                                        return i.id === field.id;\n                                    });\n                                    value = input.value;\n                                    if (input.id === \"email\") {\n                                        value = value.trim();\n                                    }\n                                    return [4 /*yield*/, field.validate(value)];\n                                case 1:\n                                    error = _b.sent();\n                                    // If error, add it.\n                                    if (error !== undefined) {\n                                        validationErrors.push({\n                                            error: error,\n                                            id: field.id,\n                                        });\n                                    }\n                                    return [2 /*return*/];\n                            }\n                        });\n                    };\n                    i = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < configFormFields.length)) return [3 /*break*/, 4];\n                    return [5 /*yield**/, _loop_1(i)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 4:\n                    return [2 /*return*/, validationErrors];\n            }\n        });\n    });\n}\n/*\n * getCurrentNormalisedUrlPath\n */\nfunction getCurrentNormalisedUrlPath() {\n    return new NormalisedURLPath__default.default(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getPathName()\n    );\n}\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n    if (queryParams === undefined) {\n        return stringUrl;\n    }\n    try {\n        var url_1 = new URL(stringUrl);\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_1.searchParams.set(key, value);\n        });\n        return url_1.href;\n    } catch (e) {\n        var fakeDomain = stringUrl.startsWith(\"/\") ? \"http:localhost\" : \"http://localhost/\";\n        var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_2.searchParams.set(key, value);\n        });\n        return \"\".concat(url_2.pathname).concat(url_2.search);\n    }\n}\nfunction appendTrailingSlashToURL(stringUrl) {\n    return stringUrl.endsWith(\"/\") ? stringUrl : stringUrl + \"/\";\n}\n/*\n * Default method for matching recipe route based on query params.\n */\nfunction matchRecipeIdUsingQueryParams(recipeId) {\n    return function () {\n        var recipeIdFromSearch = getRecipeIdFromSearch(\n            windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n        );\n        return recipeIdFromSearch === recipeId;\n    };\n}\nfunction redirectWithFullPageReload(to) {\n    if (to.trim() === \"\") {\n        to = \"/\";\n    }\n    windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.setHref(to);\n}\nfunction redirectWithHistory(to, history) {\n    if (to.trim() === \"\") {\n        to = \"/\";\n    }\n    if (history.push !== undefined) {\n        // we are using react-router-dom that is before v6\n        history.push(to);\n    } else {\n        // in react-router-dom v6, it is just navigate(to), and we are renaming\n        // naviagte to history, so it becomes history(to).\n        history(to);\n    }\n}\nfunction getOriginOfPage() {\n    return new NormalisedURLDomain__default.default(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getOrigin()\n    );\n}\nfunction getLocalStorage(key) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res;\n        return __generator(this, function (_a) {\n            res = windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.getItem(key);\n            if (res === null || res === undefined) {\n                return [2 /*return*/, null];\n            }\n            return [2 /*return*/, res];\n        });\n    });\n}\nfunction setLocalStorage(key, value) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    return [\n                        4 /*yield*/,\n                        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.setItem(\n                            key,\n                            value\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction removeFromLocalStorage(key) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    return [\n                        4 /*yield*/,\n                        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.removeItem(\n                            key\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction mergeObjects(obj1, obj2) {\n    var res = exports.__assign({}, obj1);\n    for (var key in obj2) {\n        if (typeof res[key] === \"object\" && typeof obj2[key] === \"object\") {\n            res[key] = mergeObjects(res[key], obj2[key]);\n        } else {\n            res[key] = obj2[key];\n        }\n    }\n    return res;\n}\nfunction normaliseCookieScopeOrThrowError(cookieScope) {\n    function helper(cookieScope) {\n        cookieScope = cookieScope.trim().toLowerCase();\n        // first we convert it to a URL so that we can use the URL class\n        if (cookieScope.startsWith(\".\")) {\n            cookieScope = cookieScope.substr(1);\n        }\n        if (!cookieScope.startsWith(\"http://\") && !cookieScope.startsWith(\"https://\")) {\n            cookieScope = \"http://\" + cookieScope;\n        }\n        try {\n            var urlObj = new URL(cookieScope);\n            cookieScope = urlObj.hostname;\n            // remove leading dot\n            if (cookieScope.startsWith(\".\")) {\n                cookieScope = cookieScope.substr(1);\n            }\n            return cookieScope;\n        } catch (err) {\n            throw new Error(\"Please provide a valid cookie scope\");\n        }\n    }\n    function isAnIpAddress(ipaddress) {\n        return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n            ipaddress\n        );\n    }\n    var noDotNormalised = helper(cookieScope);\n    if (noDotNormalised === \"localhost\" || isAnIpAddress(noDotNormalised)) {\n        return noDotNormalised;\n    }\n    if (cookieScope.startsWith(\".\")) {\n        return \".\" + noDotNormalised;\n    }\n    return noDotNormalised;\n}\nfunction getDefaultCookieScope() {\n    try {\n        return normaliseCookieScopeOrThrowError(\n            windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName()\n        );\n    } catch (_a) {\n        return undefined;\n    }\n}\nfunction getCookieValue(name) {\n    return __awaiter(this, void 0, void 0, function () {\n        var value, _a, parts, last, temp;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = \"; \";\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.getCookie(),\n                    ];\n                case 1:\n                    value = _a + _b.sent();\n                    parts = value.split(\"; \" + name + \"=\");\n                    if (parts.length >= 2) {\n                        last = parts.pop();\n                        if (last !== undefined) {\n                            temp = last.split(\";\").shift();\n                            if (temp === undefined) {\n                                return [2 /*return*/, null];\n                            }\n                            return [2 /*return*/, temp];\n                        }\n                    }\n                    return [2 /*return*/, null];\n            }\n        });\n    });\n}\n// undefined value will remove the cookie\nfunction setFrontendCookie(name, value, scope) {\n    return __awaiter(this, void 0, void 0, function () {\n        var expires, cookieVal;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    expires = \"Thu, 01 Jan 1970 00:00:01 GMT\";\n                    cookieVal = \"\";\n                    if (value !== undefined) {\n                        cookieVal = value;\n                        expires = undefined; // set cookie without expiry\n                    }\n                    if (\n                        !(\n                            scope === \"localhost\" ||\n                            scope ===\n                                windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName() ||\n                            scope === undefined\n                        )\n                    )\n                        return [3 /*break*/, 5];\n                    if (!(expires !== undefined)) return [3 /*break*/, 2];\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\".concat(name, \"=\").concat(cookieVal, \";expires=\").concat(expires, \";path=/;samesite=lax\")\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/;samesite=lax\")\n                        ),\n                    ];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4:\n                    return [3 /*break*/, 9];\n                case 5:\n                    if (!(expires !== undefined)) return [3 /*break*/, 7];\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";expires=\")\n                                .concat(expires, \";domain=\")\n                                .concat(scope, \";path=/;samesite=lax\")\n                        ),\n                    ];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 9];\n                case 7:\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";domain=\")\n                                .concat(scope, \";expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/;samesite=lax\")\n                        ),\n                    ];\n                case 8:\n                    _a.sent();\n                    _a.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getNormalisedUserContext(userContext) {\n    return userContext === undefined ? {} : userContext;\n}\n/**\n * This function handles calling APIs that should only be called once during mount (mostly on mount of a route/feature component).\n * It's split into multiple callbacks (fetch + handleResponse/handleError) because we expect fetch to take longer and\n * and the component may be unmounted during the first fetch, in which case we want to avoid updating state/redirecting.\n * This is especially relevant for development in strict mode with React 18 (and in the future for concurrent rendering).\n *\n * @param fetch This is a callback that is only called once on mount. Mostly it's for consuming tokens/doing one time only API calls\n * @param handleResponse This is called with the result of the first (fetch) call if it succeeds.\n * @param handleError This is called with the error of the first (fetch) call if it rejects.\n * @param startLoading Will start the whole process if this is set to true (or omitted). Mostly used to wait for session loading.\n */\nvar useOnMountAPICall = function (fetch, handleResponse, handleError, startLoading) {\n    if (startLoading === void 0) {\n        startLoading = true;\n    }\n    var consumeReq = React.useRef();\n    var _a = React.useState(undefined),\n        error = _a[0],\n        setError = _a[1];\n    React.useEffect(\n        function () {\n            var effect = function (signal) {\n                return __awaiter(void 0, void 0, void 0, function () {\n                    var resp, err_1;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                _a.trys.push([0, 2, , 3]);\n                                if (consumeReq.current === undefined) {\n                                    consumeReq.current = fetch();\n                                }\n                                return [4 /*yield*/, consumeReq.current];\n                            case 1:\n                                resp = _a.sent();\n                                if (!signal.aborted) {\n                                    void handleResponse(resp);\n                                }\n                                return [3 /*break*/, 3];\n                            case 2:\n                                err_1 = _a.sent();\n                                if (!signal.aborted) {\n                                    if (handleError !== undefined) {\n                                        handleError(err_1, resp);\n                                    } else {\n                                        setError(err_1);\n                                    }\n                                }\n                                return [3 /*break*/, 3];\n                            case 3:\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            };\n            if (startLoading) {\n                var ctrl_1 = new AbortController();\n                void effect(ctrl_1.signal);\n                return function () {\n                    ctrl_1.abort();\n                };\n            }\n            return;\n        },\n        [setError, consumeReq, fetch, handleResponse, handleError, startLoading]\n    );\n    if (error) {\n        throw error;\n    }\n};\n\nvar BaseRecipeModule = /** @class */ (function () {\n    /*\n     * Constructor.\n     */\n    function BaseRecipeModule(config) {\n        this.config = config;\n    }\n    return BaseRecipeModule;\n})();\n\nfunction normaliseRecipeModuleConfig(config) {\n    var _this = this;\n    if (config === undefined) {\n        config = {};\n    }\n    var onHandleEvent = config.onHandleEvent,\n        getRedirectionURL = config.getRedirectionURL,\n        preAPIHook = config.preAPIHook,\n        postAPIHook = config.postAPIHook;\n    if (onHandleEvent === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n        onHandleEvent = function (_) {};\n    }\n    if (getRedirectionURL === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        getRedirectionURL = function (_) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, undefined];\n                });\n            });\n        };\n    }\n    if (preAPIHook === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        preAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, context];\n                });\n            });\n        };\n    }\n    if (postAPIHook === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        postAPIHook = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/];\n                });\n            });\n        };\n    }\n    var useShadowDom = config.useShadowDom === undefined ? true : config.useShadowDom;\n    useShadowDom = getShouldUseShadowDomBasedOnBrowser(useShadowDom);\n    var rootStyle = config.style === undefined ? \"\" : config.style;\n    return exports.__assign(exports.__assign({}, config), {\n        getRedirectionURL: getRedirectionURL,\n        onHandleEvent: onHandleEvent,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n        useShadowDom: useShadowDom,\n        rootStyle: rootStyle,\n    });\n}\nfunction getShouldUseShadowDomBasedOnBrowser(useShadowDom) {\n    return useShadowDom !== undefined ? useShadowDom : true;\n}\n\nfunction normaliseMultitenancyConfig(config) {\n    return exports.__assign(exports.__assign({}, normaliseRecipeModuleConfig(config)), {\n        override: exports.__assign(\n            {\n                functions: function (originalImplementation) {\n                    return originalImplementation;\n                },\n            },\n            config === null || config === void 0 ? void 0 : config.override\n        ),\n    });\n}\nfunction hasIntersectingRecipes(tenantMethods, recipeList) {\n    var _loop_1 = function (key) {\n        var hasIntersection = recipeList.some(function (recipe) {\n            if (tenantMethods[key].enabled) {\n                return recipe.recipeID === key || recipe.recipeID.includes(key);\n            }\n            return false;\n        });\n        if (hasIntersection === true) {\n            return { value: true };\n        }\n    };\n    for (var key in tenantMethods) {\n        var state_1 = _loop_1(key);\n        if (typeof state_1 === \"object\") return state_1.value;\n    }\n    return false;\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar Multitenancy = /** @class */ (function (_super) {\n    __extends(Multitenancy, _super);\n    function Multitenancy(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = MultitenancyWebJS__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.recipeID = Multitenancy.RECIPE_ID;\n        _this.dynamicLoginMethodsCache = {};\n        return _this;\n    }\n    Multitenancy.prototype.getCurrentDynamicLoginMethods = function (input) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var userContext, tenantId, tenantMethods;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (SuperTokens.usesDynamicLoginMethods === false) {\n                            return [2 /*return*/, undefined];\n                        }\n                        userContext = utils.getNormalisedUserContext(input.userContext);\n                        return [4 /*yield*/, Multitenancy.getInstanceOrThrow().webJSRecipe.getTenantId()];\n                    case 1:\n                        tenantId = (_a = _b.sent()) !== null && _a !== void 0 ? _a : \"public\";\n                        if (this.dynamicLoginMethodsCache[tenantId] === undefined) {\n                            this.dynamicLoginMethodsCache[tenantId] = Multitenancy.getDynamicLoginMethods({\n                                tenantId: tenantId,\n                                userContext: userContext,\n                            });\n                        }\n                        return [4 /*yield*/, this.dynamicLoginMethodsCache[tenantId]];\n                    case 2:\n                        tenantMethods = _b.sent();\n                        if (!hasIntersectingRecipes(tenantMethods, SuperTokens.getInstanceOrThrow().recipeList)) {\n                            throw new Error(\n                                \"Initialized recipes have no overlap with core recipes or could not load login methods\"\n                            );\n                        }\n                        return [2 /*return*/, tenantMethods];\n                }\n            });\n        });\n    };\n    Multitenancy.getDynamicLoginMethods = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, emailPassword, passwordless, thirdParty;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        return [4 /*yield*/, MultitenancyWebJS__default.default.getLoginMethods(input)];\n                    case 1:\n                        (_a = _b.sent()),\n                            (emailPassword = _a.emailPassword),\n                            (passwordless = _a.passwordless),\n                            (thirdParty = _a.thirdParty);\n                        return [\n                            2 /*return*/,\n                            {\n                                passwordless: passwordless,\n                                emailpassword: emailPassword,\n                                thirdparty: thirdParty,\n                            },\n                        ];\n                }\n            });\n        });\n    };\n    Multitenancy.init = function (config) {\n        var normalisedConfig = normaliseMultitenancyConfig(config);\n        return {\n            recipeID: Multitenancy.RECIPE_ID,\n            authReact: function (appInfo) {\n                Multitenancy.instance = new Multitenancy(\n                    exports.__assign(exports.__assign({}, normalisedConfig), {\n                        appInfo: appInfo,\n                        recipeId: Multitenancy.RECIPE_ID,\n                    })\n                );\n                return Multitenancy.instance;\n            },\n            webJS: MultitenancyWebJS__default.default.init(exports.__assign({}, normalisedConfig)),\n        };\n    };\n    Multitenancy.getInstanceOrThrow = function () {\n        if (Multitenancy.instance === undefined) {\n            var error =\n                \"No instance of Multitenancy found. Make sure to call the Multitenancy.init method.\" +\n                \"See https://supertokens.io/docs/multitenancy/quick-setup/frontend\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + SSR_ERROR;\n            }\n            throw Error(error);\n        }\n        return Multitenancy.instance;\n    };\n    /*\n     * Tests methods.\n     */\n    Multitenancy.reset = function () {\n        if (!isTest()) {\n            return;\n        }\n        Multitenancy.instance = undefined;\n        return;\n    };\n    Multitenancy.RECIPE_ID = \"multitenancy\";\n    return Multitenancy;\n})(BaseRecipeModule);\n\nvar TranslationController = /** @class */ (function () {\n    function TranslationController() {\n        this.handlers = new Map();\n    }\n    TranslationController.prototype.emit = function (event, detail) {\n        var handlerList = this.handlers.get(event) || [];\n        for (var _i = 0, handlerList_1 = handlerList; _i < handlerList_1.length; _i++) {\n            var h = handlerList_1[_i];\n            h(event, detail);\n        }\n    };\n    TranslationController.prototype.on = function (event, handler) {\n        var handlerList = this.handlers.get(event) || [];\n        this.handlers.set(event, handlerList.concat(handler));\n    };\n    TranslationController.prototype.off = function (event, handler) {\n        var handlerList = this.handlers.get(event) || [];\n        this.handlers.set(\n            event,\n            handlerList.filter(function (h) {\n                return h !== handler;\n            })\n        );\n    };\n    return TranslationController;\n})();\nvar CURRENT_LANGUAGE_COOKIE_NAME = \"sCurrLanguage\";\nfunction saveCurrentLanguage(language, cookieDomain) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, setFrontendCookie(CURRENT_LANGUAGE_COOKIE_NAME, language, cookieDomain)];\n                case 1:\n                    _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _b.sent();\n                    return [3 /*break*/, 3];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getCurrentLanguageFromCookie() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, getCookieValue(CURRENT_LANGUAGE_COOKIE_NAME)];\n                case 1:\n                    return [2 /*return*/, _b.sent()];\n                case 2:\n                    _b.sent();\n                    // This can throw if we are not in a browser\n                    // Since this is just loading a preference we can safely ignore the exception\n                    return [2 /*return*/, null];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar SuperTokens = /** @class */ (function () {\n    /*\n     * Constructor.\n     */\n    function SuperTokens(config) {\n        var _this = this;\n        this.recipeList = [];\n        this.changeLanguage = function (lang) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                saveCurrentLanguage(lang, this.languageTranslations.currentLanguageCookieScope),\n                            ];\n                        case 1:\n                            _a.sent();\n                            this.languageTranslations.translationEventSource.emit(\"LanguageChange\", lang);\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        this.redirectToAuth = function (options) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var queryParams, redirectUrl;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            queryParams = options.queryParams === undefined ? {} : options.queryParams;\n                            if (options.show !== undefined) {\n                                queryParams.show = options.show;\n                            }\n                            if (options.redirectBack === true) {\n                                queryParams.redirectToPath = getCurrentNormalisedUrlPath().getAsStringDangerous();\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.getRedirectUrl({\n                                    action: \"TO_AUTH\",\n                                    showSignIn: options.show === \"signin\",\n                                }),\n                            ];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            redirectUrl = appendQueryParamsToURL(redirectUrl, queryParams);\n                            return [2 /*return*/, this.redirectToUrl(redirectUrl, options.history)];\n                    }\n                });\n            });\n        };\n        this.redirectToUrl = function (redirectUrl, history) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    doRedirection(this.appInfo, redirectUrl, history);\n                    return [2 /*return*/];\n                });\n            });\n        };\n        this.appInfo = normaliseInputAppInfoOrThrowError(config.appInfo);\n        if (config.recipeList === undefined || config.recipeList.length === 0) {\n            throw new Error(\n                \"Please provide at least one recipe to the supertokens.init function call. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        var translationConfig = config.languageTranslations === undefined ? {} : config.languageTranslations;\n        this.languageTranslations = {\n            defaultLanguage: translationConfig.defaultLanguage === undefined ? \"en\" : translationConfig.defaultLanguage,\n            currentLanguageCookieScope:\n                translationConfig.currentLanguageCookieScope !== undefined\n                    ? normaliseCookieScopeOrThrowError(translationConfig.currentLanguageCookieScope)\n                    : getDefaultCookieScope(),\n            userTranslationStore: translationConfig.translations !== undefined ? translationConfig.translations : {},\n            translationEventSource: new TranslationController(),\n            userTranslationFunc: translationConfig.translationFunc,\n        };\n        var enableDebugLogs = false;\n        if (config.enableDebugLogs !== undefined) {\n            enableDebugLogs = config.enableDebugLogs;\n        }\n        this.userGetRedirectionURL = config.getRedirectionURL;\n        this.recipeList = config.recipeList.map(function (_a) {\n            var authReact = _a.authReact;\n            return authReact(_this.appInfo, enableDebugLogs);\n        });\n    }\n    /*\n     * Static Methods.\n     */\n    SuperTokens.init = function (config) {\n        var _a;\n        cookieHandler.CookieHandlerReference.init(config.cookieHandler);\n        windowHandler.WindowHandlerReference.init(config.windowHandler);\n        if (SuperTokens.instance !== undefined) {\n            console.warn(\"SuperTokens was already initialized\");\n            return;\n        }\n        SuperTokens.usesDynamicLoginMethods =\n            (_a = config.usesDynamicLoginMethods) !== null && _a !== void 0 ? _a : false;\n        var recipes =\n            config.recipeList.find(function (recipe) {\n                return recipe.recipeID === Multitenancy.RECIPE_ID;\n            }) !== undefined\n                ? config.recipeList\n                : config.recipeList.concat(Multitenancy.init({}));\n        SuperTokensWebJS__default.default.init(\n            exports.__assign(exports.__assign({}, config), {\n                recipeList: recipes.map(function (_a) {\n                    var webJS = _a.webJS;\n                    return webJS;\n                }),\n            })\n        );\n        SuperTokens.instance = new SuperTokens(exports.__assign(exports.__assign({}, config), { recipeList: recipes }));\n        postSuperTokensInitCallbacks.PostSuperTokensInitCallbacks.runPostInitCallbacks();\n    };\n    SuperTokens.getInstanceOrThrow = function () {\n        if (SuperTokens.instance === undefined) {\n            var error = \"SuperTokens must be initialized before calling this method.\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + SSR_ERROR;\n            }\n            throw new Error(error);\n        }\n        return SuperTokens.instance;\n    };\n    SuperTokens.prototype.getRecipeOrThrow = function (recipeId) {\n        var recipe = this.recipeList.find(function (recipe) {\n            return recipe.config.recipeId === recipeId;\n        });\n        if (recipe === undefined) {\n            throw new Error(\"Missing recipe: \".concat(recipeId));\n        }\n        return recipe;\n    };\n    SuperTokens.prototype.loadTranslation = function (store) {\n        this.languageTranslations.translationEventSource.emit(\"TranslationLoaded\", store);\n    };\n    SuperTokens.prototype.getRedirectUrl = function (context) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userRes, redirectUrl;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.userGetRedirectionURL) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.userGetRedirectionURL(context)];\n                    case 1:\n                        userRes = _a.sent();\n                        if (userRes !== undefined) {\n                            return [2 /*return*/, userRes];\n                        }\n                        _a.label = 2;\n                    case 2:\n                        if (context.action === \"TO_AUTH\") {\n                            redirectUrl = this.appInfo.websiteBasePath.getAsStringDangerous();\n                            return [2 /*return*/, appendTrailingSlashToURL(redirectUrl)];\n                        }\n                        throw new Error(\"Should never come here: unexpected redirection context\");\n                }\n            });\n        });\n    };\n    /*\n     * Tests methods.\n     */\n    SuperTokens.reset = function () {\n        if (!isTest()) {\n            return;\n        }\n        SuperTokens.instance = undefined;\n        return;\n    };\n    SuperTokens.usesDynamicLoginMethods = false;\n    return SuperTokens;\n})();\nfunction doRedirection(appInfo, redirectUrl, history) {\n    try {\n        new URL(redirectUrl); // If full URL, no error thrown, skip in app redirection.\n    } catch (e) {\n        // For multi tenancy, If mismatch between websiteDomain and current location, prepend URL relative path with websiteDomain.\n        var origin_1 = getOriginOfPage().getAsStringDangerous();\n        if (origin_1 !== appInfo.websiteDomain.getAsStringDangerous()) {\n            redirectUrl = \"\".concat(appInfo.websiteDomain.getAsStringDangerous()).concat(redirectUrl);\n            redirectWithFullPageReload(redirectUrl);\n            return;\n        }\n        // If history was provided, use to redirect without reloading.\n        if (history !== undefined) {\n            redirectWithHistory(redirectUrl, history);\n            return;\n        }\n    }\n    // Otherwise, redirect in app.\n    redirectWithFullPageReload(redirectUrl);\n}\n\nvar createGenericComponentsOverrideContext = function (v) {\n    if (v === void 0) {\n        v = {};\n    }\n    var genericContext = React__default.default.createContext(v);\n    var useComponentsOverrideContext = function () {\n        return React__default.default.useContext(genericContext);\n    };\n    var Provider = function (_a) {\n        var children = _a.children,\n            components = _a.components;\n        return jsxRuntime.jsx(genericContext.Provider, exports.__assign({ value: components }, { children: children }));\n    };\n    return [useComponentsOverrideContext, Provider, genericContext.Consumer];\n};\n\nexports.BaseRecipeModule = BaseRecipeModule;\nexports.Multitenancy = Multitenancy;\nexports.SSR_ERROR = SSR_ERROR;\nexports.ST_ROOT_ID = ST_ROOT_ID;\nexports.SuperTokens = SuperTokens;\nexports.__awaiter = __awaiter;\nexports.__extends = __extends;\nexports.__generator = __generator;\nexports.__rest = __rest;\nexports.__spreadArray = __spreadArray;\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nexports.clearErrorQueryParam = clearErrorQueryParam;\nexports.clearQueryParams = clearQueryParams;\nexports.createGenericComponentsOverrideContext = createGenericComponentsOverrideContext;\nexports.getCurrentLanguageFromCookie = getCurrentLanguageFromCookie;\nexports.getCurrentNormalisedUrlPath = getCurrentNormalisedUrlPath;\nexports.getLocalStorage = getLocalStorage;\nexports.getNormalisedUserContext = getNormalisedUserContext;\nexports.getQueryParams = getQueryParams;\nexports.getRedirectToPathFromURL = getRedirectToPathFromURL;\nexports.getURLHash = getURLHash;\nexports.isTest = isTest;\nexports.matchRecipeIdUsingQueryParams = matchRecipeIdUsingQueryParams;\nexports.mergeObjects = mergeObjects;\nexports.normaliseRecipeModuleConfig = normaliseRecipeModuleConfig;\nexports.redirectWithFullPageReload = redirectWithFullPageReload;\nexports.removeFromLocalStorage = removeFromLocalStorage;\nexports.setLocalStorage = setLocalStorage;\nexports.useOnMountAPICall = useOnMountAPICall;\nexports.validateForm = validateForm;\n", "\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\nvar jsxRuntime = require(\"react/jsx-runtime\");\nvar React = require(\"react\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar React__default = /*#__PURE__*/ _interopDefault(React);\n\nvar errCB = function () {\n    throw new Error(\"Cannot use translation func outside TranslationContext provider.\");\n};\nvar TranslationContext = React__default.default.createContext({\n    translate: errCB,\n});\nvar useTranslation = function () {\n    return React.useContext(TranslationContext).translate;\n};\nvar TranslationContextProvider = function (_a) {\n    var children = _a.children,\n        defaultLanguage = _a.defaultLanguage,\n        userTranslationFunc = _a.userTranslationFunc,\n        defaultStore = _a.defaultStore,\n        translationControlEventSource = _a.translationControlEventSource;\n    var _b = React.useState(defaultStore),\n        translationStore = _b[0],\n        setTranslationStore = _b[1];\n    var _c = React.useState(undefined),\n        currentLanguage = _c[0],\n        setCurrentLanguage = _c[1];\n    React.useEffect(\n        function () {\n            function loadLanguageFromCookies() {\n                return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n                    var cookieLang, cookieLangTemp;\n                    return genericComponentOverrideContext.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, genericComponentOverrideContext.getCurrentLanguageFromCookie()];\n                            case 1:\n                                cookieLang = _a.sent();\n                                cookieLangTemp = cookieLang === null ? defaultLanguage : cookieLang;\n                                /**\n                                 * If current is not undefined, it means that something else has set the language.\n                                 * For example if the user calls SuperTokens.changeLanguage before this\n                                 *\n                                 * We want to use the language preference from cookies only if something else has\n                                 * not set language before this\n                                 */\n                                setCurrentLanguage(function (current) {\n                                    return current !== undefined ? current : cookieLangTemp;\n                                });\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            void loadLanguageFromCookies();\n        },\n        [defaultLanguage, setCurrentLanguage]\n    );\n    React.useEffect(function () {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var changeHandler = function (_eventName, detail) {\n            setCurrentLanguage(detail);\n        };\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var loadHandler = function (_eventName, detail) {\n            setTranslationStore(function (os) {\n                return genericComponentOverrideContext.mergeObjects(os, detail);\n            });\n        };\n        translationControlEventSource.on(\"LanguageChange\", changeHandler);\n        translationControlEventSource.on(\"TranslationLoaded\", loadHandler);\n        return function () {\n            translationControlEventSource.off(\"LanguageChange\", changeHandler);\n            translationControlEventSource.off(\"TranslationLoaded\", loadHandler);\n        };\n    });\n    var translateFunc = React.useCallback(\n        function (key) {\n            if (userTranslationFunc !== undefined) {\n                return userTranslationFunc(key);\n            }\n            if (currentLanguage !== undefined) {\n                var res = translationStore[currentLanguage] && translationStore[currentLanguage][key];\n                var fallback = translationStore[defaultLanguage] && translationStore[defaultLanguage][key];\n                if (res === undefined) {\n                    if (fallback !== undefined) {\n                        return fallback;\n                    }\n                    return key;\n                }\n                return res;\n            }\n            throw new Error(\"Should never come here\");\n        },\n        [translationStore, currentLanguage, defaultLanguage, userTranslationFunc]\n    );\n    if (currentLanguage === undefined) {\n        return null;\n    }\n    return jsxRuntime.jsx(\n        TranslationContext.Provider,\n        genericComponentOverrideContext.__assign({ value: { translate: translateFunc } }, { children: children })\n    );\n};\n\nexports.TranslationContextProvider = TranslationContextProvider;\nexports.useTranslation = useTranslation;\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/recipe/session\"));\n", "\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar RecipeModule = /** @class */ (function (_super) {\n    genericComponentOverrideContext.__extends(RecipeModule, _super);\n    function RecipeModule() {\n        var _this = (_super !== null && _super.apply(this, arguments)) || this;\n        _this.redirect = function (context, history, queryParams) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var redirectUrl;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.getRedirectUrl(context)];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            redirectUrl = genericComponentOverrideContext.appendQueryParamsToURL(\n                                redirectUrl,\n                                queryParams\n                            );\n                            return [\n                                2 /*return*/,\n                                genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                    redirectUrl,\n                                    history\n                                ),\n                            ];\n                    }\n                });\n            });\n        };\n        // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n        _this.getRedirectUrl = function (context) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var redirectUrl;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.config.getRedirectionURL(context)];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            if (redirectUrl !== undefined) {\n                                return [2 /*return*/, redirectUrl];\n                            }\n                            return [4 /*yield*/, this.getDefaultRedirectionURL(context)];\n                        case 2:\n                            // Otherwise, use default.\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RecipeModule.prototype.getDefaultRedirectionURL = function (_) {\n        return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n            return genericComponentOverrideContext.__generator(this, function (_a) {\n                throw new Error(\"getDefaultRedirectionURL is not implemented.\");\n            });\n        });\n    };\n    return RecipeModule;\n})(genericComponentOverrideContext.BaseRecipeModule);\n\nexports.RecipeModule = RecipeModule;\n", "\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\nvar WebJSSessionRecipe = require(\"supertokens-web-js/recipe/session\");\nvar index = require(\"./recipeModule-shared.js\");\nvar utils = require(\"supertokens-web-js/utils\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar WebJSSessionRecipe__default = /*#__PURE__*/ _interopDefault(WebJSSessionRecipe);\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nfunction normaliseSessionConfig(config) {\n    var _a, _b;\n    if (config === undefined) {\n        config = {};\n    }\n    var accessDeniedScreenStyle =\n        (_b = (_a = config.accessDeniedScreen) === null || _a === void 0 ? void 0 : _a.style) !== null && _b !== void 0\n            ? _b\n            : \"\";\n    var accessDeniedScreen = {\n        style: accessDeniedScreenStyle,\n    };\n    var override = genericComponentOverrideContext.__assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return genericComponentOverrideContext.__assign(\n        genericComponentOverrideContext.__assign(\n            {},\n            genericComponentOverrideContext.normaliseRecipeModuleConfig(config)\n        ),\n        { accessDeniedScreen: accessDeniedScreen, override: override }\n    );\n}\nvar getFailureRedirectionInfo = function (_a) {\n    var invalidClaims = _a.invalidClaims,\n        overrideGlobalClaimValidators = _a.overrideGlobalClaimValidators,\n        userContext = _a.userContext;\n    return genericComponentOverrideContext.__awaiter(void 0, void 0, void 0, function () {\n        var globalValidators, failedClaim, _loop_1, _i, globalValidators_1, validator, state_1;\n        return genericComponentOverrideContext.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    globalValidators = utils.getGlobalClaimValidators({\n                        overrideGlobalClaimValidators: overrideGlobalClaimValidators,\n                        userContext: userContext,\n                    });\n                    failedClaim = undefined;\n                    _loop_1 = function (validator) {\n                        var claim, failureCallback, redirectPath;\n                        return genericComponentOverrideContext.__generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    claim = invalidClaims.find(function (c) {\n                                        return c.validatorId === validator.id;\n                                    });\n                                    if (!(claim !== undefined)) return [3 /*break*/, 2];\n                                    failureCallback = validator.onFailureRedirection;\n                                    if (!failureCallback) return [3 /*break*/, 2];\n                                    return [\n                                        4 /*yield*/,\n                                        failureCallback({ reason: claim.reason, userContext: userContext }),\n                                    ];\n                                case 1:\n                                    redirectPath = _c.sent();\n                                    if (redirectPath !== undefined) {\n                                        return [\n                                            2 /*return*/,\n                                            {\n                                                value: {\n                                                    redirectPath: redirectPath,\n                                                    failedClaim: claim,\n                                                },\n                                            },\n                                        ];\n                                    }\n                                    _c.label = 2;\n                                case 2:\n                                    if (validator.showAccessDeniedOnFailure !== false && failedClaim === undefined) {\n                                        failedClaim = claim;\n                                    }\n                                    return [2 /*return*/];\n                            }\n                        });\n                    };\n                    (_i = 0), (globalValidators_1 = globalValidators);\n                    _b.label = 1;\n                case 1:\n                    if (!(_i < globalValidators_1.length)) return [3 /*break*/, 4];\n                    validator = globalValidators_1[_i];\n                    return [5 /*yield**/, _loop_1(validator)];\n                case 2:\n                    state_1 = _b.sent();\n                    if (typeof state_1 === \"object\") return [2 /*return*/, state_1.value];\n                    _b.label = 3;\n                case 3:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 4:\n                    return [\n                        2 /*return*/,\n                        {\n                            redirectPath: undefined,\n                            failedClaim: failedClaim,\n                        },\n                    ];\n            }\n        });\n    });\n};\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar Session = /** @class */ (function (_super) {\n    genericComponentOverrideContext.__extends(Session, _super);\n    function Session(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = WebJSSessionRecipe__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.recipeID = Session.RECIPE_ID;\n        _this.eventListeners = new Set();\n        _this.redirectionHandlersFromAuthRecipes = new Map();\n        _this.getUserId = function (input) {\n            return _this.webJSRecipe.getUserId(input);\n        };\n        _this.getAccessToken = function (input) {\n            return _this.webJSRecipe.getAccessToken(input);\n        };\n        _this.getClaimValue = function (input) {\n            return _this.webJSRecipe.getClaimValue(input);\n        };\n        _this.getAccessTokenPayloadSecurely = function (input) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    return [2 /*return*/, this.webJSRecipe.getAccessTokenPayloadSecurely(input)];\n                });\n            });\n        };\n        _this.doesSessionExist = function (input) {\n            return _this.webJSRecipe.doesSessionExist(input);\n        };\n        _this.signOut = function (input) {\n            return _this.webJSRecipe.signOut(input);\n        };\n        _this.attemptRefreshingSession = function () {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    return [2 /*return*/, this.webJSRecipe.attemptRefreshingSession()];\n                });\n            });\n        };\n        _this.validateClaims = function (input) {\n            return _this.webJSRecipe.validateClaims(input);\n        };\n        _this.getInvalidClaimsFromResponse = function (input) {\n            return _this.webJSRecipe.getInvalidClaimsFromResponse(input);\n        };\n        /**\n         * @returns Function to remove event listener\n         */\n        _this.addEventListener = function (listener) {\n            _this.eventListeners.add(listener);\n            return function () {\n                return _this.eventListeners.delete(listener);\n            };\n        };\n        _this.addAuthRecipeRedirectionHandler = function (rid, redirect) {\n            _this.redirectionHandlersFromAuthRecipes.set(rid, redirect);\n        };\n        _this.validateGlobalClaimsAndHandleSuccessRedirection = function (redirectInfo, userContext, history) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var invalidClaims, jsonContext, failureRedirectInfo, successContextStr, authRecipeRedirectHandler;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.doesSessionExist({ userContext: userContext })];\n                        case 1:\n                            // First we check if there is an active session\n                            if (!_a.sent()) {\n                                // If there is none, we have no way of checking claims, so we redirect to the auth page\n                                // This can happen e.g.: if the user clicked on the email verification link in a browser without an active session\n                                return [\n                                    2 /*return*/,\n                                    genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().redirectToAuth({\n                                        history: history,\n                                        redirectBack: false,\n                                    }),\n                                ];\n                            }\n                            return [4 /*yield*/, this.validateClaims({ userContext: userContext })];\n                        case 2:\n                            invalidClaims = _a.sent();\n                            if (!(invalidClaims.length > 0)) return [3 /*break*/, 6];\n                            if (!(redirectInfo !== undefined)) return [3 /*break*/, 4];\n                            jsonContext = JSON.stringify(redirectInfo);\n                            return [\n                                4 /*yield*/,\n                                genericComponentOverrideContext.setLocalStorage(\n                                    \"supertokens-success-redirection-context\",\n                                    jsonContext\n                                ),\n                            ];\n                        case 3:\n                            _a.sent();\n                            _a.label = 4;\n                        case 4:\n                            return [\n                                4 /*yield*/,\n                                getFailureRedirectionInfo({\n                                    invalidClaims: invalidClaims,\n                                    userContext: userContext,\n                                }),\n                            ];\n                        case 5:\n                            failureRedirectInfo = _a.sent();\n                            // if redirectPath is string that means failed claim had callback that returns path, we redirect there otherwise continue\n                            if (failureRedirectInfo.redirectPath !== undefined) {\n                                return [\n                                    2 /*return*/,\n                                    genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                        failureRedirectInfo.redirectPath,\n                                        history\n                                    ),\n                                ];\n                            }\n                            _a.label = 6;\n                        case 6:\n                            if (!(redirectInfo === undefined)) return [3 /*break*/, 13];\n                            return [\n                                4 /*yield*/,\n                                genericComponentOverrideContext.getLocalStorage(\n                                    \"supertokens-success-redirection-context\"\n                                ),\n                            ];\n                        case 7:\n                            successContextStr = _a.sent();\n                            if (!(successContextStr !== null)) return [3 /*break*/, 12];\n                            _a.label = 8;\n                        case 8:\n                            _a.trys.push([8, , 9, 11]);\n                            redirectInfo = JSON.parse(successContextStr);\n                            return [3 /*break*/, 11];\n                        case 9:\n                            return [\n                                4 /*yield*/,\n                                genericComponentOverrideContext.removeFromLocalStorage(\n                                    \"supertokens-success-redirection-context\"\n                                ),\n                            ];\n                        case 10:\n                            _a.sent();\n                            return [7 /*endfinally*/];\n                        case 11:\n                            return [3 /*break*/, 13];\n                        case 12:\n                            // If there was nothing in localstorage we set a default\n                            // this can happen if the user visited email verification screen without an auth recipe redirecting them there\n                            // but already had the email verified and an active session\n                            redirectInfo = {\n                                rid: Session.RECIPE_ID,\n                                successRedirectContext: {\n                                    action: \"SUCCESS\",\n                                    isNewUser: false,\n                                },\n                            };\n                            _a.label = 13;\n                        case 13:\n                            authRecipeRedirectHandler = this.redirectionHandlersFromAuthRecipes.get(redirectInfo.rid);\n                            if (authRecipeRedirectHandler !== undefined) {\n                                // and call it with the saved info\n                                return [\n                                    2 /*return*/,\n                                    authRecipeRedirectHandler(redirectInfo.successRedirectContext, history),\n                                ];\n                            }\n                            // This should only happen if the configuration changed between saving the context and finishing the sign in process\n                            // or if the user navigated to a page where they were expected to have a stored redirectInfo but didn't\n                            // (e.g.: pressed back after email verification)\n                            return [2 /*return*/, this.redirect(redirectInfo.successRedirectContext, history)];\n                    }\n                });\n            });\n        };\n        /**\n         * This should only get called if validateGlobalClaimsAndHandleSuccessRedirection couldn't get a redirectInfo\n         * @returns \"/\"\n         */\n        _this.getDefaultRedirectionURL = function () {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    return [2 /*return*/, \"/\"];\n                });\n            });\n        };\n        _this.notifyListeners = function (event) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var sessionContext;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.getSessionContext(event)];\n                        case 1:\n                            sessionContext = _a.sent();\n                            // We copy this.eventListeners into a new array to \"freeze\" it for the loop\n                            // We do this to avoid an infinite loop in case one of the listeners causes a new listener to be added (e.g.: through re-rendering)\n                            Array.from(this.eventListeners).forEach(function (listener) {\n                                return listener(\n                                    genericComponentOverrideContext.__assign({ sessionContext: sessionContext }, event)\n                                );\n                            });\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    Session.prototype.getSessionContext = function (_a) {\n        var action = _a.action,\n            userContext = _a.userContext;\n        return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n            var _b, userId, accessTokenPayload;\n            return genericComponentOverrideContext.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (\n                            !(\n                                action === \"SESSION_CREATED\" ||\n                                action === \"REFRESH_SESSION\" ||\n                                action === \"API_INVALID_CLAIM\" ||\n                                action === \"ACCESS_TOKEN_PAYLOAD_UPDATED\"\n                            )\n                        )\n                            return [3 /*break*/, 2];\n                        return [\n                            4 /*yield*/,\n                            Promise.all([\n                                this.getUserId({\n                                    userContext: userContext,\n                                }),\n                                this.getAccessTokenPayloadSecurely({\n                                    userContext: userContext,\n                                }),\n                            ]),\n                        ];\n                    case 1:\n                        (_b = _c.sent()), (userId = _b[0]), (accessTokenPayload = _b[1]);\n                        return [\n                            2 /*return*/,\n                            {\n                                doesSessionExist: true,\n                                accessTokenPayload: accessTokenPayload,\n                                userId: userId,\n                            },\n                        ];\n                    case 2:\n                        if (action === \"SIGN_OUT\" || action === \"UNAUTHORISED\") {\n                            return [\n                                2 /*return*/,\n                                {\n                                    doesSessionExist: false,\n                                    accessTokenPayload: {},\n                                    userId: \"\",\n                                },\n                            ];\n                        }\n                        throw new Error(\"Unhandled recipe event: \".concat(action));\n                }\n            });\n        });\n    };\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    Session.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return WebJSSessionRecipe__default.default.addAxiosInterceptors(axiosInstance, userContext);\n    };\n    Session.init = function (config) {\n        var _this = this;\n        var normalisedConfig = normaliseSessionConfig(config);\n        return {\n            recipeID: Session.RECIPE_ID,\n            authReact: function (appInfo) {\n                Session.instance = new Session(\n                    genericComponentOverrideContext.__assign(\n                        genericComponentOverrideContext.__assign({}, normalisedConfig),\n                        { appInfo: appInfo, recipeId: Session.RECIPE_ID }\n                    )\n                );\n                return Session.instance;\n            },\n            webJS: WebJSSessionRecipe__default.default.init(\n                genericComponentOverrideContext.__assign(\n                    genericComponentOverrideContext.__assign({}, normalisedConfig),\n                    {\n                        onHandleEvent: function (event) {\n                            if (normalisedConfig.onHandleEvent !== undefined) {\n                                normalisedConfig.onHandleEvent(event);\n                            }\n                            void Session.getInstanceOrThrow().notifyListeners(event);\n                        },\n                        preAPIHook: function (context) {\n                            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                                var response;\n                                return genericComponentOverrideContext.__generator(this, function (_a) {\n                                    response = genericComponentOverrideContext.__assign(\n                                        genericComponentOverrideContext.__assign({}, context),\n                                        {\n                                            requestInit: genericComponentOverrideContext.__assign(\n                                                genericComponentOverrideContext.__assign({}, context.requestInit),\n                                                {\n                                                    headers: genericComponentOverrideContext.__assign(\n                                                        genericComponentOverrideContext.__assign(\n                                                            {},\n                                                            context.requestInit.headers\n                                                        ),\n                                                        { rid: Session.RECIPE_ID }\n                                                    ),\n                                                }\n                                            ),\n                                        }\n                                    );\n                                    if (normalisedConfig.preAPIHook === undefined) {\n                                        return [2 /*return*/, response];\n                                    } else {\n                                        return [2 /*return*/, normalisedConfig.preAPIHook(context)];\n                                    }\n                                });\n                            });\n                        },\n                    }\n                )\n            ),\n        };\n    };\n    Session.getInstanceOrThrow = function () {\n        if (Session.instance === undefined) {\n            throw Error(\n                \"No instance of Session found. Make sure to call the Session.init method. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        return Session.instance;\n    };\n    Session.getInstance = function () {\n        return Session.instance;\n    };\n    Session.reset = function () {\n        if (!genericComponentOverrideContext.isTest()) {\n            return;\n        }\n        Session.instance = undefined;\n        return;\n    };\n    Session.RECIPE_ID = \"session\";\n    return Session;\n})(index.RecipeModule);\n\nexports.Session = Session;\nexports.getFailureRedirectionInfo = getFailureRedirectionInfo;\n"],
  "mappings": "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",
  "names": ["NormalisedURLPath", "WindowHandlerReference", "require_windowHandler", "require_windowHandler", "NormalisedURLDomain", "require_normalisedURLDomain", "NormalisedURLDomain", "require_normalisedURLPath", "NormalisedURLPath", "sessionTokenFrontendDomain", "PROCESS_STATE", "ProcessState", "_this", "require_defaultImplementation", "CookieHandlerReference", "ProcessLocking", "resolve", "SuperTokensLock", "_this", "_a", "LockFactoryReference", "AntiCsrfToken", "FrontToken", "AuthHttpRequest", "SessionClaimValidatorStore", "require_globalClaimValidators", "require_utils", "require_cookieHandler", "require_cookieHandler", "PostSuperTokensInitCallbacks", "require_utils", "require_utils", "require_utils", "k", "_i", "OverrideableBuilder", "proxyInd", "require_version", "d", "b", "STGeneralError", "require_error", "require_error", "Querier", "_b", "RecipeModule", "config", "AuthHttpRequest", "self", "name_1", "prop", "xhr", "body", "_a", "require_recipeImplementation", "config", "PrimitiveClaim", "PrimitiveArrayClaim", "d", "b", "BooleanClaim", "require_build", "AuthHttpRequest", "d", "b", "Recipe", "d", "b", "AuthRecipe", "require_recipe", "d", "b", "Recipe", "SuperTokens", "require_build", "SuperTokensAPIWrapper", "require_cookieHandler", "require_postSuperTokensInitCallbacks", "require_windowHandler", "RecipeWrapper", "d", "b", "AllowedDomainsClaimClass", "RecipeWrapper", "require_multitenancy", "require_utils", "require_normalisedURLDomain", "require_normalisedURLPath", "ReactDebugCurrentFrame", "d", "b", "i", "cookieScope", "fetch", "_a", "BaseRecipeModule", "key", "Multitenancy", "TranslationController", "SuperTokens", "recipe", "_a", "require_session", "RecipeModule", "validator", "Session"]
}
